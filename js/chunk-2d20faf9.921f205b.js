(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20faf9"],{b54d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("t-dropdown",{attrs:{variant:"smActions"},scopedSlots:e._u([{key:"trigger",fn:function(e){var t=e.mousedownHandler,a=e.focusHandler,o=e.blurHandler,i=e.keydownHandler;return[n("button",{staticClass:"text-oDark focus:outline-none",attrs:{"aria-label":"Report Status Menu","aria-haspopup":"true"},on:{mousedown:t,focus:a,blur:o,keydown:i}},[n("svg",{staticClass:"w-6 h-5 mt-1 text-oGray hover:text-oDark",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}})])])]}},{key:"default",fn:function(t){var a=t.hide;return[n("div",{staticClass:"py-1 mt-px bg-white rounded-md shadow-md",on:{click:function(e){return a()}}},[n("t-dropdown-item",{staticClass:"font-medium",on:{click:function(t){return e.executeAction("status")}}},[e._v(" "+e._s(!0===e.data.is_active?e.$t("components.serviceAreaManagement.actions.deactivate"):e.$t("components.serviceAreaManagement.actions.activate"))+" ")]),n("t-dropdown-item",{attrs:{variant:"danger"},on:{click:e.askConfirmation}},[e._v(" "+e._s(e.$t("components.serviceAreaManagement.actions.delete"))+" ")]),e.isMakeDefault?n("t-dropdown-item",{on:{click:function(t){return e.executeAction("make-default")}}},[e._v(" "+e._s(e.$t("components.serviceAreaManagement.actions.makeDefault"))+" ")]):e._e(),n("t-dropdown-item",{on:{click:e.handleExportKML}},[e._v(" "+e._s(e.$t("components.serviceAreaManagement.actions.exportToKML"))+" ")])],1)]}}])}),n("ConfirmFirst",{key:"confirmFirst-"+e.data.id,attrs:{id:"confirmFirst-"+e.data.id,isLoading:e.isLoading,title:e.$t("components.serviceAreaManagement.actions.deleteArea"),subtitle:e.$t("components.serviceAreaManagement.actions.actionCannotBeUndone"),confirmButtonText:e.$t("components.serviceAreaManagement.actions.delete"),cancelButtonText:e.$t("components.serviceAreaManagement.actions.cancel"),confirmButtonVariant:"orange"},on:{confirm:function(t){return e.executeAction("delete")},cancel:e.handleCancellation}})],1)},o=[],i=n("1da1"),r=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("c820")),c={name:"MoreActionsDropdown",components:{TDropdownItem:function(){return Promise.resolve().then(n.bind(null,"92c2"))},ConfirmFirst:function(){return n.e("chunk-566ec0da").then(n.bind(null,"689a"))}},props:{type:{type:String,required:!1,default:"serviceArea",validaotor:function(e){return["serviceArea","parkingArea","slowSpeedArea","restrictedArea","rentStationArea","sunpodStationArea","rewardZone"].includes(e)}},data:{type:Object,required:!1,default:function(){return{status:!1}}},isMakeDefault:{type:Boolean,default:!1,required:!1}},data:function(){return{isLoading:!1}},methods:{askConfirmation:function(){this.$modal.show("confirmFirst-".concat(this.data.id))},executeAction:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("executeAction",t.type,t.$config),"status"!==e){n.next=8;break}return a=t.$config[t.type].api.update(t.data.id),o=new FormData,o.append("is_active",!t.data.is_active),t.isLoading=!0,n.next=8,t.$http.patch(a,o).then((function(e){console.log("change",e),t.$emit("change",e.data)})).catch((function(e){console.error(e)})).finally((function(){t.isLoading=!1}));case 8:if("make-default"!==e){n.next=13;break}return i=r["c"].geoFence.serviceArea.makeDefaults(t.data.id),t.isLoading=!0,n.next=13,t.$http.patch(i).then((function(e){console.log("change",e),t.$store.dispatch("fsTable/fetchData"),t.$notify({type:"success",group:"generic",title:"Success",text:"Making Default has been Successful"})})).catch((function(e){console.error(e),t.$notify({type:"success",group:"generic",title:"Error",text:e.response.data.message?e.response.data.message:e.response.data})})).finally((function(){t.isLoading=!1}));case 13:if("delete"!==e){n.next=18;break}return c=t.$config[t.type].api.delete(t.data.id),t.isLoading=!0,n.next=18,t.$http.delete(c).then((function(e){console.log("delete",e.data),t.$emit("delete",e.data),t.$modal.hide("confirmFirst-".concat(t.data.id))})).catch((function(e){console.error(e)})).finally((function(){t.isLoading=!1}));case 18:case"end":return n.stop()}}),n)})))()},handleCancellation:function(){console.log("cancelled")},handleExportKML:function(){this.$emit("exportKML")}}},s=c,d=n("2877"),u=Object(d["a"])(s,a,o,!1,null,"e1cda36e",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d20faf9.921f205b.js.map