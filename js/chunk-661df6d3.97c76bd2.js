(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661df6d3"],{"11b9":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("1da1"),n=(i("96cf"),i("d3b7"),i("4a9d")),s={methods:{executeAction:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="Unverified"===t.details.status?"V":"U",a="Unverified"===t.details.status?"Report Verification":"Report Verification Reverted",s="Unverified"===t.details.status?"The report is marked as verified.":"The report verification is reverted.",r=new FormData,r.append("admin_remarks",t.adminRemarks),r.append("deduct_point",t.deductPoints),r.append("status",i),t.isLoading=!0,e.next=10,t.$http.patch(t.$config.report.api.update(t.details.id),r).then((function(e){t.$emit("change",e.data),t.$refs.popup.hide(),t.$notify({group:"generic",type:"success",title:a,text:s}),n["a"].$emit("refresh-report-logs")})).catch((function(e){console.warn(e),t.message="Failed to refund! ("+e.status+")",t.$emit("failed",e)})).finally((function(){t.isLoading=!1}));case 10:case"end":return e.stop()}}),e)})))()}}}},"4d49":function(t,e,i){"use strict";i("5802")},5802:function(t,e,i){},e8e6:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("t-modal",{ref:"popup",attrs:{name:t.id,variant:"subscription",hideCloseButton:!0,disableBodyScroll:!0}},[i("section",{staticClass:"px-8 pt-10"},[i("div",{staticClass:"font-medium text-28px text-oCharcoal",domProps:{innerHTML:t._s(t.$t("components.reportManagement.modals.verificationPopupA.headline.title",{status:"Verified"===this.details.status?t.$t("components.reportManagement.modals.verificationPopupA.headline.revert"):t.$t("components.reportManagement.modals.verificationPopupA.headline.verify"),category:this.details.report_category}))}}),i("section",{staticClass:"mt-6"},[i("t-checkbox",{attrs:{wrapped:"",label:t.$t("components.reportManagement.modals.verificationPopupA.title.addRemarks"),name:"adminRemarksUi"},model:{value:t.adminRemarksUi,callback:function(e){t.adminRemarksUi=e},expression:"adminRemarksUi"}}),i("div",{staticClass:"-mt-2 text-14px",staticStyle:{"margin-left":"28px"}},[i("span",{staticClass:"text-gray-500"},[t._v(" "+t._s(t.$t("components.reportManagement.modals.verificationPopupA.subtext.addRemarks"))+" ")])])],1),i("section",{directives:[{name:"show",rawName:"v-show",value:t.adminRemarksUi,expression:"adminRemarksUi"}],staticClass:"mt-6"},[i("t-textarea",{model:{value:t.adminRemarks,callback:function(e){t.adminRemarks=e},expression:"adminRemarks"}})],1),i("section",{staticClass:"mt-6"},[i("t-checkbox",{attrs:{wrapped:"",label:t.$t("components.reportManagement.modals.verificationPopupA.title.deductPoint"),name:"deductPoint"},model:{value:t.deductPoints,callback:function(e){t.deductPoints=e},expression:"deductPoints"}}),i("div",{staticClass:"-mt-2 text-14px",staticStyle:{"margin-left":"28px"}},[i("p",{staticClass:"text-gray-500",domProps:{innerHTML:t._s(t.$t("components.reportManagement.modals.verificationPopupA.subtext.deductPoint",{deductAmount:t.getPointDeductionAmount}))}})])],1),i("section",{staticClass:"mt-12 ml-5"},[i("div",{staticClass:"flex items-center justify-between"},[i("div",{staticClass:"flex items-center space-x-2"},[i("DisplayAvatar",{attrs:{avatar:t.getReportedUserAvatar,width:"4rem",height:"4rem"}}),i("div",[i("div",{staticClass:"font-medium text-14px text-oCharcoal"},[t._v(" "+t._s(t.getReportedUserFullName||"--")+" ")]),i("div",{staticClass:"font-medium text-gray-500 text-14px"},[t._v(" "+t._s(t.getReportedUserId?"#"+t.$truncate(t.getReportedUserId,-5):"--")+" ")])])],1),i("div",{staticClass:"points",class:t.getPointDeductionClass},[t._v(" "+t._s(t.getPointDeductionAmount)+" ")])]),i("div",{staticClass:"my-3 border-t"}),i("div",{staticClass:"flex items-center justify-between"},[i("div",{staticClass:"flex items-center space-x-2"},[i("DisplayAvatar",{attrs:{avatar:t.getReporterUserAvatar,width:"4rem",height:"4rem"}}),i("div",[i("div",{staticClass:"font-medium text-14px text-oCharcoal"},[t._v(" "+t._s(t.getReporterUserFullName||"--")+" ")]),i("div",{staticClass:"font-medium text-gray-500 text-14px"},[t._v(" "+t._s(t.getReporterUserId?"#"+t.$truncate(t.getReporterUserId,-5):"--")+" ")])])],1),i("div",{staticClass:"points green"},[t._v(" "+t._s(t.getPointAdditionAmount)+" ")])])]),i("div",{staticClass:"flex items-center justify-end px-4 py-4 mt-12 mb-4"},[i("anchor-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.$refs.popup.hide()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),i("anchor-button",{staticClass:"ml-4",attrs:{variant:"primary"},on:{click:t.executeAction}},[t._v(" "+t._s(t.$t("components.stepNavigation.continue"))+" ")])],1)])])],1)},n=[],s=(i("d3b7"),i("3ca3"),i("ddb0"),i("a9e3"),i("4a9d")),r=i("11b9"),o={name:"ReportVerificationPopup",mixins:[r["a"]],components:{AnchorButton:function(){return i.e("chunk-389dd0fb").then(i.bind(null,"15e7"))},DisplayAvatar:function(){return i.e("chunk-f3c8522a").then(i.bind(null,"09b2"))}},props:{id:{type:[String,Number],required:!0},details:{type:Object,required:!0}},data:function(){return{mid:"reportVerificationPopupA",isLoading:!1,deductPoints:!1,adminRemarks:null,adminRemarksUi:!1}},computed:{getPointDeductionClass:function(){return this.deductPoints?"red":"gray"},getPointAdditionAmount:function(){var t,e,i=null!==(t=null===(e=this.details.user)||void 0===e?void 0:e.add_point)&&void 0!==t?t:0;return"+".concat(i)},getPointDeductionAmount:function(){var t,e,i=null!==(t=null===(e=this.details.prev_trip_user)||void 0===e?void 0:e.deduct_point)&&void 0!==t?t:0;return"".concat(i)},getReporterUserId:function(){return this.details.user?this.details.user.id:null},getReporterUserAvatar:function(){return this.details.user?this.details.user.profile_pic:null},getReporterUserFullName:function(){return this.details.user?this.details.user.full_name:null},getReportedUserId:function(){return this.details.prev_trip_user?this.details.prev_trip_user.id:null},getReportedUserAvatar:function(){return this.details.prev_trip_user?this.details.prev_trip_user.profile_pic:null},getReportedUserFullName:function(){return this.details.prev_trip_user?this.details.prev_trip_user.full_name:null}},mounted:function(){var t=this;s["a"].$on("reportVerificationPopupA",(function(e){t.form={remarks:""},t.refund=e}))}},d=o,c=(i("4d49"),i("2877")),u=Object(c["a"])(d,a,n,!1,null,"1035e994",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-661df6d3.97c76bd2.js.map