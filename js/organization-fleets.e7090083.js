(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["organization-fleets","chunk-2d22cfc9","chunk-4d9af094","chunk-76a85986","chunk-67db83f0","chunk-2d2244ff","chunk-2d0d3e80","fleet-details-profile~settings-ScheduleSettings~settings-VehicleSettings","chunk-2cabaae6","chunk-42b332c1","chunk-2d237d7f","chunk-2d0d3e80"],{"003a":function(e,t,a){},"04ec":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"fade"}},[e.isOpen()?a("button",{staticClass:"fixed inset-0 w-full h-full opacity-50 cursor-default bg-oBlack",staticStyle:{"z-index":"1050"},attrs:{tabindex:"-1"},on:{click:function(t){return e.close()}}}):e._e()]),a("transition",{attrs:{name:"SOR","enter-active-class":"transition duration-300 ease-out transform","leave-active-class":"transition duration-300 ease-in transform","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[e.isOpen()?a("div",{staticClass:"fixed bottom-0 right-0 h-full  bg-white border-l-2 border-gray-400 border-opacity-50 shadow-lg container-sor",class:e.getSize},[a("header",{class:{"mt-5 px-4 mb-6":this.$slots.header}},[e._t("header")],2),a("div",{staticClass:"pb-4 overflow-x-hidden overflow-y-auto sb-farhan",style:"max-height:"+e.getDefaultSlotHeight},[e._t("default",(function(){return[e._v("Body slot (default)")]}))],2),this.$slots.footer?a("div",{staticClass:"w-full"},[a("footer",{staticClass:"w-full h-auto px-6 pt-2 pb-5"},[e._t("footer",(function(){return[e._v("Footer Slot")]}))],2)]):e._e()]):e._e()])],1)},i=[],r={name:"SlideOverRight",props:{id:{required:!0,type:String},fullWidth:{required:!1,type:Boolean,default:!1},editType:{required:!1,type:String,default:""}},data:function(){return{openingEvent:"sor-open-".concat(this.id),closingEvent:"sor-close-".concat(this.id),togglingEvent:"sor-toggle-".concat(this.id),show:!1}},computed:{getSize:function(){return"scooter"==this.editType?this.fullWidth?"w-full px-4":"2xl:w-96 sm:w-5/5 md:w-4/6 px-4":"promotion"==this.editType||"pass"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"roles"==this.editType?this.fullWidth?"w-full px-4":"2xl:w-2/4 sm:w-5/5 md:w-4/6 px-4":"marketplace"==this.editType||"whats-new"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"bulk-update"==this.editType?this.fullWidth?"w-full":"w-3/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-0 my-0":"vehicle-inspection"==this.editType?this.fullWidth?"w-full px-4":"w-2/5 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"swap-battery-workflow"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 xl:w-1/3 2xl:w-3/12 px-4":"charging-dock-port"==this.editType?this.fullWidth?"w-full px-4":"w-3/4 md-max:w-full lg-max:w-4/5 2 px-4":"standard"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":this.fullWidth?"w-full px-4":"w-2/4 2xl:w-2/6 xl:w-3/6 lg:w-3/6 md:w-3/6 sm:w-5/5 px-4"},getDefaultSlotHeight:function(){return"100%"}},mounted:function(){this.handleEvents()},watch:{show:function(e){!0===e?(document.body.style.overflow="hidden",document.body.style.marginRight="11px"):setTimeout((function(){document.body.style.overflow="auto",document.body.style.marginRight=""}),350)}},methods:{open:function(){this.show=!0},close:function(){"roles"==this.editType||"standard"==this.editType||"swap-battery-workflow"==this.editType?this.show=!1:this.$emit("showModal"),document.body.style.overflow="auto"},toggle:function(){this.show=!this.show},isOpen:function(){return!0===this.show},handleEvents:function(){var e=this;window.addEventListener(this.openingEvent,(function(){e.open()})),window.addEventListener(this.closingEvent,(function(){e.close()})),window.addEventListener(this.togglingEvent,(function(){e.toggle()}))}}},o=r,s=(a("535d"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"0f57a77e",null);t["default"]=l.exports},"0621":function(e,t,a){var n=a("9e69"),i=a("d370"),r=a("6747"),o=n?n.isConcatSpreadable:void 0;function s(e){return r(e)||i(e)||!!(o&&e&&e[o])}e.exports=s},"0c9b":function(e,t,a){},"0d76":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAABCCAYAAAAGysWEAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOqADAAQAAAABAAAAQgAAAABqCQD6AAALkElEQVRoBeWaa2xUxxXHx2tv/MTGkIcJb0jNq0AjHi4Q0QoVk1QJKB8oKpQoQgqJVAdVqlCkiCKVUEQaoAEakRAFWQqGID4gpIpCFEWiOMUiCUIYQS0eLu83NjbGz93t+V3uWV8vu3vvrtfLhx7peObOnDnn/79n7ty5szbm/0Qy+pBnpO/Iaw0d0opdRl5HdCd3GSt4ct6MUX9upfpXUm6l2iddKqCkHchA9eEsqfvsPurOPrkMi5MgdTRol84+Bug19bSLEoJUluhTotmiubNmzepXX1//cnNz89/a2toOBgKBs8Fg8G4oFGpHqdNGHzbYMoaxtg984RPfetOkml7RLDkJ5gD0ypUrCx8+fPilELkjhBISxjAWHzbpHKHlJKxx08JWs5hpgwBM/sWLF3/T2dlZlxCzOMb4wie+RZUwMdOSXSXJlGKK5h0/fnx2R0fHv+Jg7lUXvolBLDumTmewpFx0ynBH/aLc4YK7d+/+SVgEesXE2+AAsYhpxwYDWBSXVHsv6kynau68efMGPHjw4EtvGFNnRUxiCyUWLJ7dlJKFaJjkhg0bhstKWZ06+Il5IjYYopCVpuRFSTJVcmfMmDGgvb39u8Sgpd4aDGABk6hzGifFFJKscBZJKYsaGxu/SD3s5DyCBUyiSjbuagyZaEK7EmWV81++fHnZkCFDPo5m7KUt2NBgAlevmsCNG5Z5ZkmJyRw82PiKi70Mj2oj79s/DB06dId0dop2iUbuqqKOczZCUp/LgkOHDs2U+86OJiHprK8PNa5fH7r20kuh/xYVRVX6sME2CWkHm2BlNXYuTk4uVj1aRjWbEGXaZstqtzs/P3/eY6NjNATv3TP3P/zQNO/YYUKd3Gx3yfD7Tb9ly0zRe+8Z3wAeP2/S0tJyqKCg4Ldi3S5KsIAo++Iee2PmdaTolIVoVnV19c8TIdnx/ffmWlmZafrsM88kAcANYQxj8eFVwAZGsecRA3PUZzUyo5pN67mUQTmy9/xHbm4ujlzl4b595s4775hQOzc3ecnIzjZPf/qpyXv9dU9OWltba/Ly8l4V4zZRfV57ZDVaRmlDs44cOTLTK8n2mhpzZ/nyXpOUuJYPfOHTi4ARrGKr28PHeDkbNJuU1rQtLS3lLrkKK+ntN95IaKq6OWUq41NXaTd7G6tOXycXa6iTKA0Y0IZmFRcXz5XSVRo/+MAEbt1ytUvUAJ+Na9d6GmZjdWYULmFxEtW7YJGsqqoa4/f7R4YtY1Q66+pMy1dfxejtfXPL7t2GGG4CVjCLnZJVPtZQJ1Ea6KQtUz58Pb1OmlldA6zofSP4JoYXEczlYhd15VWiEESUqK+wsPCnj5ri/209eDC+QQp6vcYQzBMlHJxQJyerQaHQoUQzZSUbpR2xys7aWtN17Vqs7pS1E4NYbmJjdmZUyT5GVO+GT+b8c26OO8+fdzNJWb+XWDbmMAcJHpWogrKy6vP5OLqIK16X/rhOPHZ6iWVjdk7bsHcaEWVOaWlGRgZnQnGFL5J0iZdYNuYwBxubxU2J0mY1aKecuTba9ZiFb+DAmH2p7vASy8bcg4ficBLVNquU48Z7PRqiXPBNmS7xEiseZidR52dNSI4ZXYn6S0vTxdN4iWVj7sFDATqJaptlKOcyt7UhVukfO9b4R4yI1Z2ydmIQy00cmJ1krWFKVDso0eDVq1d/dHNMf+4rr3gx65WN1xg25sjjFIubEgWIkrTKAwcO/NsLun5vv204HegrsU4eJIYXsTH34KHjdIWihDQbYl4rvEP7yRnq4ezs7EFSjysNK1eaps8/j2uTbGfhW2+Z4o8+ch0u0/Z6Tk7OL8SwWfShKF//4QOzmBkVo+DNmze/k9JVit5/32QNG+Zql6gBPvHtRQRrtdg5p61m1hquRGlEtNMaUFlZuctuszpj/eHI8tmqKuPLc91MxXLxWDu+LJ/ejkNDgnW3OAE/2JUwfi1uOnVpgDT6lCiIOUIsvn79+iclJSUzpO4qbd9+a26/+aYJNjW52sYzkE8n80xlpcmZMyeeWbjvxo0bRwcNGvR7aWCr9kCUqdshqqQtYnJt7Yo0m84yuGfPHs9f1QAr+frrXr1yeJXgwytJwNsYncecTg5WMjWjWpJRllAymi/KkX9/OaXfKKf006XuSUKtraZp61bTtGWLCT7gBruLr6DAFK5YYQrffddk5PIrgzeR0/pjclr/R7Fmy3pftEWUjHIaSEaREN9uiBKlThtkWYFzRLPPnDnzn0WLFpVnZma6bvTF3nrdyO/8pp8cblmLVEeHCVy5ImE1LlZil5VlcmfPNoUVFWbg5s0md+7chF5VsuVrXrx48apz585BkqPOVlFWWj3IlmpPgSgKScjwg8jzomNEp4nO2blz51+T+Mmge0ggEJIP6FD78eOWUpdjku7+JGpgApuNEaxgBjsc4KK8wpnUjDJ1ySRzB2MWJP5ThGmcf/r06ZXjxo37ldSfuMgs+2b8+PG8YJmqKO9PnhPen5pZnUIhiEUKDzIPNso00KnQMXXq1I/Pnz/vacck4/pMwAAWCcDKqifz4FTccOgh0YhiwJ1QojjjLrXJzxOt06ZNW3/p0qUf5PqJCLHBABYBwHMJNjAq0XAWpS0skUR1WXYS5Y7hyCLc0NDQIr82/+XUqVPfhL2kqULM6dOnrwWDhFSC4NKskhywP5ZRXXWlL/y8Ouv6MOsNsa7lP70C27Zt+2H06NG3JkyY8KKc1fBc95l0dXW1yeH01vLy8l3yM6HuY8koClHNLIQ1SUrWKqMRVXLRSvFjCX1m3759Fy9cuHCsrKxsmJypPveoK7V/5dOrtqKiYt2aNWv4bCSL1mNklzrTNKvOjCpRC5CTKA0WAaun+48S1oGUqqa2trZp06ZNh+Vg6vTYsWNL5EfZZ7qHJl+Tbd3pjRs3bpk/f/4uiXFHPOl7klIzCGl9tCidROWyewpHEtNrJceNYFqygWAPTMkmgpLXjyp91P2rV6+euGDBglljxoyZKj/SJkRapuXturq6H/fv318tGawVf4DXZ1GzqeQg6ySpi1E4CdKvyYmZQbGx+iCsZHlOIa3knGQhqkq7dXOWL1/+wqpVq34nW7RJ0hZT5H/+Tq5bt27n9u3bz4oRgFElodNTiSp5rpUcmUSjkpT2uES1H4IohCkhomSUnJa096gvXLhwiGy6t8jUjrpgyYaoS7aXK/bu3XtZxiq5yFLJUupNwEYXHsrI1TacTemLSjSynawqWc0whDTTSk6nuF5r5nNOnDhRMXny5JdxHCknT578p/T9XdqZihAhU5QQQSGm15pB2p3PY1ySYmuBpYwlEFNRZ9wpnSrOUkEpCEBZd/Xs2bP1S5Ys+XXka0gOnNuWLl36Z/mn5Ltiy7uRLRyvDOoQpw5xXXyUsMZ1YhKz7meSi0QFsqqaWbKpmWNx4rOuUJQNNQvQ86IjRceLThX9ZU1Nze7IffuxY8eqpG+W6GTRUtFhooNEnxbFFz7xTQweCWLqIwQWxUXZa3E60zpBCOgkzFTlY4APgf6ivFcBPkG0bNKkSa/JAfN9JUt9ypQp5dL3M9EXRAeLQpBvYHzohwUEeSw0XiRBxSQmqRN1qqUzw4BBAQZIAD8rOkJ0ouiMw4cPf6JEjx49ulnaXhT9iSgzgP+igqBmT/3FyiAY0iZKWEslDkgyzCceZEeKThw+fPhMOUK9jo4aNYoprSSZAdyceFNTY4hZ4gKg3kiPJVwccQ0gFguEhYlrboCR92W7rMBbZFEKydaR33Z0oWGR0RVVfWrJ0F4LIPpC9O5DkCzpq8bfv3//THmnhuQLRFdQfZ1wc1hFkZSSxGFfElX/PGPMHAhTQh4imkF9HUW+KsQkddJXREGovikhpyS5higKOc2ktklT6kXBpN5zt0diKFmt06vE+jSTCiNdRIkXKxaEES0fXaX4L8/Pk5Y+JfikyaU9/v8ABGZxrwIVvMIAAAAASUVORK5CYII="},1147:function(e,t,a){"use strict";function n(e){return null!=e&&"object"==typeof e}t["a"]=n},"14a4":function(e,t,a){},"159a":function(e,t,a){var n=a("32b3"),i=a("e2e4"),r=a("c098"),o=a("1a8c"),s=a("f4d6");function l(e,t,a,l){if(!o(e))return e;t=i(t,e);var d=-1,u=t.length,c=u-1,p=e;while(null!=p&&++d<u){var m=s(t[d]),f=a;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(d!=c){var g=p[m];f=l?l(g,m,p):void 0,void 0===f&&(f=o(g)?g:r(t[d+1])?[]:{})}n(p,m,f),p=p[m]}return e}e.exports=l},"15d8":function(e,t,a){},"15f3":function(e,t,a){var n=a("89d9"),i=a("8604");function r(e,t){return n(e,t,(function(t,a){return i(e,a)}))}e.exports=r},"18d8":function(e,t,a){var n=a("234d"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,a,n,i){t.push(n?i.replace(r,"$1"):a||e)})),t}));e.exports=o},"1bc6":function(e,t,a){"use strict";var n=a("f0ce"),i=a("1147"),r="[object Symbol]";function o(e){return"symbol"==typeof e||Object(i["a"])(e)&&Object(n["a"])(e)==r}t["a"]=o},"1dd1":function(e,t,a){"use strict";a("15d8")},2332:function(e,t,a){"use strict";function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}t["a"]=n},"234d":function(e,t,a){var n=a("e380"),i=500;function r(e){var t=n(e,(function(e){return a.size===i&&a.clear(),e})),a=t.cache;return t}e.exports=r},2593:function(e,t,a){var n=a("15f3"),i=a("c6cf"),r=i((function(e,t){return null==e?{}:n(e,t)}));e.exports=r},"26e8":function(e,t){function a(e,t){return null!=e&&t in Object(e)}e.exports=a},"26ee":function(e,t,a){"use strict";var n=a("5ea3"),i="object"==typeof self&&self&&self.Object===Object&&self,r=n["a"]||i||Function("return this")();t["a"]=r},"2dd8":function(e,t,a){"use strict";a("619d")},"2e59":function(e,t,a){},"2e8b":function(e,t,a){"use strict";a("c5c6")},3034:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"n",(function(){return d})),a.d(t,"p",(function(){return u})),a.d(t,"q",(function(){return c})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"r",(function(){return f})),a.d(t,"j",(function(){return g})),a.d(t,"k",(function(){return h})),a.d(t,"o",(function(){return _})),a.d(t,"e",(function(){return y})),a.d(t,"i",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"l",(function(){return x})),a.d(t,"m",(function(){return w}));var n=a("5530"),i=(a("99af"),a("4de4"),a("c820")),r=[{id:"gs1",type:"vehicle:",subText:"qr code",example:"vehicle:AF25F2"},{id:"gs2",type:"vehicle:",subText:"IMEI",example:"vehicle:860919123453422"},{id:"gs3",type:"trip:",subText:"last five digit of the associated trip id",example:"trip:0d72f"},{id:"gs4",type:"trip:",subText:"Rider phone number",example:"trip:0167749"},{id:"gs5",type:"trip:",subText:"Rider first name",example:"trip:Masum"},{id:"gs6",type:"trip:",subText:"Rider last name",example:"trip:Khandaker"},{id:"gs7",type:"trip:",subText:"Source Location Name",example:"trip:Narsingdi"},{id:"gs8",type:"trip:",subText:"Destination Location Name",example:"trip:Dhaka"},{id:"gs9",type:"rental:",subText:"last five digit of the associated rental id",example:"rental:554be"},{id:"gs10",type:"revenue:",subText:"last five digit of the associated invoice id",example:"revenue:3fb4f"},{id:"gs11",type:"payment:",subText:"last five digit of the associated invoice id",example:"payment:81ed8"},{id:"gs12",type:"rider:",subText:"First Name",example:"rider:Masum"},{id:"gs13",type:"rider:",subText:"Last Name",example:"rider:Khandaker"},{id:"gs14",type:"rider:",subText:"Phone Number",example:"rider:01677"},{id:"gs15",type:"rider:",subText:"email",example:"rider:masum@gmail.com"}],o={trip:i["c"].trip.index(),vehicle:i["c"].vehicle.index()+"?bike_category=P",rental:i["c"].vehicleRental.index(),revenue:i["c"].invoice.indexOfRevenue(),payment:i["c"].invoice.indexOfPayment(),rider:i["c"].rider.index()},s={trip:"ViewTrip",vehicle:"ViewVehicleProfile",rental:"VehicleRentalDetail"},l={trip:[{text:"Id",width:"5%",sort:null},{text:"Rider Phone Number",width:"15%",sort:null},{text:"Pickup Time",width:"15%",sort:null},{text:"Charge",width:"10%",sort:null},{text:"Status",width:"10%",sort:null}],vehicle:[{text:"QR Code",width:"20%",sort:null},{text:"IMEI",width:"30%",sort:null},{text:"Last Connected",width:"20%",sort:null},{text:"Flag",width:"30%",sort:null},{text:"Status",width:"10%",sort:null}],rental:[{text:"Id",width:"5%",sort:null},{text:"Rider Phone Number",width:"15%",sort:null},{text:"Pickup Time",width:"15%",sort:null},{text:"Charge",width:"10%",sort:null},{text:"Status",width:"10%",sort:null}],revenue:[{text:"Invoice ID",width:"5%",sort:null},{text:"Transaction Time",width:"15%",sort:null},{text:"Payment For",width:"15%",sort:null},{text:"Amount",width:"10%",sort:null},{text:"Status",width:"10%",sort:null}],payment:[{text:"Invoice ID",width:"5%",sort:null},{text:"Transaction Time",width:"15%",sort:null},{text:"Payment For",width:"15%",sort:null},{text:"Amount",width:"10%",sort:null},{text:"Status",width:"10%",sort:null}],rider:[{text:"Name",width:"15%",sort:null},{text:"Phone Number",width:"15%",sort:null},{text:"Default Card",width:"15%",sort:null},{text:"Balance",width:"10%",sort:null},{text:"Last Trip Status",width:"10%",sort:null}]},d=function(e,t,a){return t?a?"Force Completed by system":"Force Completed by Admin":"A"===e?"'Reservation Cancelled by Rider'":"T"===e?"Reservation time out":"UF"===e?"Unlocking Failed":void 0},u=function(e,t,a){if(t&&a)return"Completed";if(t&&!a)return"Force End";var n={R:"Reserved",A:"Cancelled",U:"Starting",O:"On Rent",V:"Forced",C:"Completed",T:"Time Out",UF:"Failed"};return e in n?n[e]:"-"},c=function(e,t,a){if(t&&a)return"ultra-green";if(t&&!a)return"red";var n={R:"blue",A:"red",U:"yellow",O:"purple",V:"red",C:"green",T:"red",UF:"black"},i=e in n?n[e]:"light-blue";return i},p=function(e){var t=Object(n["a"])(Object(n["a"])(Object(n["a"])({},e.general_flags),e.operational_flags),e.status_flags),a=[];for(var i in t)console.log("v-flag",i,t[i]),"is_idle"!==i&&!0===t[i]&&a.push(i);return console.log("enabled",a),a},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={charging_pick:"Charging Pick",maintainance:"On Maintainance",rebalance:"Rebalance",swap_battery:"Swap Battery",hibernate_mode:"Sleep Mode",restricted_alert:"Restricted Alert",slowzone_alert:"Slowzone Alert",geo_fence_alert:"Geofence Alert",iot_fault:t.general_flags.fault_status_reason,low_battery:"low Battery",missing:"Missing",is_charging:"On Charging",is_parking:"On Parking",is_reserved:"On Reservation",is_on_ride:"On Ride",is_idle:"Idle",none:"None"};return e in a?a[e]:"--"},f=function(e){return"CANCELLED"===e||"REJECTED"===e},g=function(e){var t={REQUESTED:"Pending",ACCEPTED:"Accepted",CANCELLED:"Cancelled",REJECTED:"Rejected",TRIP_COMPLETED:"Completed",DELIVERED:"Rent Started"};return"TRIP_COMPLETED"===e.status?e.trip.status_forced?"Force End":"Completed":t[e.status]||"--"},h=function(e){var t={REQUESTED:"orange",ACCEPTED:"blue",CANCELLED:"red",REJECTED:"blush",TRIP_COMPLETED:"green",DELIVERED:"purple"};return"TRIP_COMPLETED"===e.status?e.trip.status_forced?"red":"green":t[e.status]||"blue"},_=function(e){var t=e.status,a=e.cancel_reason,n=e.reject_reason,i={CANCELLED:"Reason: ".concat(a||"N/A"),REJECTED:"Reason: ".concat(n||"N/A")};return i[t]||"--"},y=function(e){return e.invoice&&"string"!==typeof e.invoice?"".concat(e.invoice.currency.symbol," ").concat(e.invoice.amount):"--"},v=function(e,t){if("revenue"===e){if(t.isArray)return t;var a=[{text:"Subscription Credit/Pass",value:"Pass"},{text:"Card Trip",value:"Trip With Card"},{text:"Balance deduct by admin",value:"Rider Balance Adjust"}],n=a.filter((function(e){return e.value===t}));return n.length>0?n[0].text:t}if("payment"===e){if(t.isArray)return t;var i=[{text:"Card Topup",value:"Topup"},{text:"Agent Topup",value:"Agent Topup"},{text:"Signup Bonus",value:"Initial Balance"},{text:"Referral Bonus by Invitee",value:"Invitee Invitation Amount"},{text:"Referral Bonus by Inviter",value:"Inviter Invitation Amount"},{text:"Balance Transfer by Admin",value:"Rider Balance Adjust"}],r=i.filter((function(e){return e.value===t}));return r.length>0?r[0].text:t}},b=function(e){var t;console.log("card-details",e);var a=(null===e||void 0===e||null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())||"",n="fab ";switch(null===a||void 0===a?void 0:a.toLowerCase()){case"visa":n+="fa-cc-visa";break;case"mastercard":n+="fa-cc-mastercard";break;case"americanexpress":n+="fa-cc-amex";break;case"discover":n+="fa-cc-discover";break;case"jcb":n+="fa-cc-jcb";break;case"dinersclub":n+="fa-cc-diners-club";break;default:n="fas fa-wallet";break}return n},x=function(e){var t={N:"Completed",R:"On Reserved",T:"On Rent",P:"On Pay",F:"On Feedback"};return e in t?t[e]:"--"},w=function(e){var t={N:"green",R:"orange",T:"purple",P:"yellow",F:"blue"};return e in t?t[e]:"gray"}},3200:function(e,t,a){"use strict";a("3c6a")},"3c6a":function(e,t,a){},4834:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("EdgeStack",{attrs:{id:e.esId,busy:e.busy,confirmQuestion:e.$t("components.edgeStack.confirmQuestion")},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"pb-3 panel-title"},[e._v(e._s(e.getTitleText))]),a("XStepper",{ref:"xstepper",attrs:{id:e.esId,steps:e.stepperSteps,mode:e.stepperMode},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}})]},proxy:!0},{key:"footer",fn:function(){return[e.isEditing?a("XStepperNavigation",{attrs:{id:e.esId,steps:e.stepperSteps,"submit-button-text":e.getSubmitButtonText},on:{submit:e.onSubmit},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}}):e._e(),e.isEditing?e._e():a("AppButton",{attrs:{text:e.getSubmitButtonText},on:{click:function(t){return e.onSubmit({step:e.stepperCurrentStep})}}})]},proxy:!0},{key:"default",fn:function(){return[a("keep-alive",[1===e.stepperCurrentStep?[a("Step1",{ref:"step1",attrs:{countries:e.countries,organizations:e.organizations,"primary-key":e.primaryKeyProxy,"form-data":e.getStep1FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:2===e.stepperCurrentStep?[a("Step2",{ref:"step2",attrs:{"org-email-settings":e.orgEmailSettings,"primary-key":e.primaryKeyProxy,"form-data":e.getStep2FormData,isRidingTimeBaseWallet:e.getRidingTimeBaseWalletStatus,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:3===e.stepperCurrentStep?[a("Step3",{ref:"step3",attrs:{"primary-key":e.primaryKeyProxy,orgId:e.orgIdProxy,"payment-gateways":e.paymentGateways,orgPaymentConfig:e.orgPaymentConfig,"form-data":e.getStep3FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:4===e.stepperCurrentStep?[a("Step4",{ref:"step4",attrs:{"primary-key":e.primaryKeyProxy,"form-data":e.getStep4FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:e._e()],2)]},proxy:!0}])})},i=[],r=a("1da1"),o=a("5530"),s=(a("96cf"),a("a9e3"),a("b64b"),a("b0c0"),a("2593")),l=a.n(s),d=a("c820"),u=a("bc84"),c=a("4674"),p=a("de6f"),m=a("acfd"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("LocationModal",{attrs:{name:"warehouseLocationModal",updatable:"","use-geocoder":""},on:{save:e.onSaveWareHouseLocation}}),a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.name"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.name"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.name"),placeholder:"e.g. OTORide HQ"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.details.title.organization"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.organization"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.organization"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.organization"),options:e.organizations},model:{value:e.form.organization,callback:function(t){e.$set(e.form,"organization",t)},expression:"form.organization"}})],1),a("div",{staticClass:"flex relative items-center mb-6"},[a("div",{staticClass:"w-11/12"},[a("PlacesAutocomplete",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.searchWarehouseLocation")},on:{"update:place":e.onUpdateWarehousePlace,"clear:place":function(){return e.place=null}}})],1),a("div",{staticClass:"flex justify-center items-center w-1/12 google-map"},[a("div",{staticClass:"mt-6 mr-0 map-btn",on:{click:function(t){return e.$modal.show("warehouseLocationModal")}}},[a("i",{staticClass:"fas fa-map"})])])]),a("div",{staticClass:"flex items-center"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseName"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseName"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_name,callback:function(t){e.$set(e.form,"warehouse_name",t)},expression:"form.warehouse_name"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLongitude"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLongitude"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_lon,callback:function(t){e.$set(e.form,"warehouse_lon",t)},expression:"form.warehouse_lon"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLatitude"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLatitude"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_lat,callback:function(t){e.$set(e.form,"warehouse_lat",t)},expression:"form.warehouse_lat"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.whatsappPhoneNumber"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.whatsappPhoneNumber"),placeholder:"e.g. 0123456789",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.whatsappPhoneNumber")},model:{value:e.form.whatsapp_business_number,callback:function(t){e.$set(e.form,"whatsapp_business_number",t)},expression:"form.whatsapp_business_number"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.supportPhoneNumber"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.supportPhoneNumber"),placeholder:"e.g. 0123456789",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.supportPhoneNumber")},model:{value:e.form.support_phone_number,callback:function(t){e.$set(e.form,"support_phone_number",t)},expression:"form.support_phone_number"}})],1),a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.useCompanyDetailsCheckBox"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.useCompanyDetailsCheckBox"),wrapped:""},model:{value:e.form.use_company_details,callback:function(t){e.$set(e.form,"use_company_details",t)},expression:"form.use_company_details"}}),a("br"),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",label:e.$t("components.fleetManagement.addEdit.steps.details.title.country"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.country"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.country"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.country"),options:e.countries,variant:{readonly:e.getCompanyDetailsDisabledState},disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}}),a("AppInput",{attrs:{type:"richselect",label:e.$t("components.fleetManagement.addEdit.steps.details.title.city"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.city"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.city"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.city"),options:e.cities,disabled:e.getCompanyDetailsDisabledState,variant:{readonly:e.getCityDisabledState}},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.zipCode"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.zipCode"),placeholder:"e.g. 123456",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.zipCode"),disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}}),a("AppInput",{attrs:{type:"textarea",label:e.$t("components.fleetManagement.addEdit.steps.details.title.address"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.address"),placeholder:"",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.address"),disabled:e.getCompanyDetailsDisabledState,variant:{readonly:e.getCompanyDetailsDisabledState}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.registrationID"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.registrationID"),placeholder:"e.g. 123 446 7890",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.registrationID")},model:{value:e.form.registration_no,callback:function(t){e.$set(e.form,"registration_no",t)},expression:"form.registration_no"}}),a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.taxID"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.taxID"),placeholder:"e.g. TX123 456 7890",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.taxID")},model:{value:e.form.tax_id,callback:function(t){e.$set(e.form,"tax_id",t)},expression:"form.tax_id"}})],1),a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.showBrandLogo"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.showBrandLogo"),wrapped:""},on:{change:e.onChangeBrandLogoShowingStatus},model:{value:e.showBrandLogo,callback:function(t){e.showBrandLogo=t},expression:"showBrandLogo"}}),e.showBrandLogo?a("UploadAvatar",{class:"mb-3",attrs:{current:e.form.brand_logo},model:{value:e.form.brand_logo,callback:function(t){e.$set(e.form,"brand_logo",t)},expression:"form.brand_logo"}}):e._e(),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},g=[],h=(a("d3b7"),a("ed08")),_=a("758b"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-modal",{ref:"modalRef",attrs:{name:e.name,variant:"vehicleLocation",hideCloseButton:!0,disableBodyScroll:!0}},[a("header",{staticClass:"py-4 px-3"},[a("div",{staticClass:"flex justify-between modal-header"},[a("div",{staticClass:"w-full text-left"},[a("div",{staticClass:"gm-title"},[e._v(e._s(e.title))]),a("div",{staticClass:"gm-subtitle"},[e._v(e._s(e.subtitle))])]),a("div",{staticClass:"gm-lat-lng-area",on:{click:e.copyToClipboard}},[a("div",[a("div",{staticClass:"text-14px"},[a("span",{staticClass:"font-medium text-14px text-oDark"},[e._v("Lat: ")]),a("span",{staticClass:"text-oGray overflow-clip"},[e._v(" "+e._s(e.getLat||"--")+" ")])]),a("div",{staticClass:"text-14px"},[a("span",{staticClass:"font-medium text-oDark"},[e._v("Long: ")]),a("span",{staticClass:"text-oGray overflow-clip"},[e._v(" "+e._s(e.getLng||"--")+" ")])])]),a("div",{staticClass:"text-right cursor-pointer"},[a("i",{staticClass:"far fa-copy"})])])])]),a("section",{staticClass:"w-full h-96"},[a("gmap-map",{ref:"map",style:"width: 100%; height: 100%;",attrs:{zoom:e.zoom,center:e.center,"map-type-id":"terrain"},on:{click:e.setMarker}},[e.marker.lat&&e.marker.lng?a("gmap-marker",{attrs:{position:e.marker,draggable:!1,icon:{url:e.icon,scaledSize:{width:35,height:40}}}}):e._e()],1)],1),a("div",{staticClass:"flex gap-4 justify-end py-2 px-4 bg-white modal-header"},[a("AppButton",{attrs:{text:"Cancel",variant:"secondary"},on:{click:e.onCancel}}),a("AppButton",{attrs:{text:"Save",variant:"primary"},on:{click:e.onSave}})],1)])},v=[],b=(a("ac1f"),a("1276"),a("755e")),x=a("9ea1"),w={name:"LocationModal",mixins:[x["a"]],components:{AppButton:m["default"]},props:{name:{type:String,default:"locationModal"},title:{type:[String,Number],default:"Drag PIN to locate exact location"},subtitle:{type:[String,Number],default:""},latLng:{type:String,required:!1},icon:{default:function(){return a("0d76")}},updatable:{type:Boolean,default:!1},useGeocoder:{type:Boolean,default:!1}},computed:{google:b["gmapApi"],getLat:function(){var e,t=null===this||void 0===this||null===(e=this.latLng)||void 0===e?void 0:e.split(",")[0];return t?Number(t):null},getLng:function(){var e,t=null===this||void 0===this||null===(e=this.latLng)||void 0===e?void 0:e.split(",")[1];return t?Number(t):null},getLatLngUrl:function(){return"https://www.google.com/maps/search/?api=1&query=".concat(this.latLng)}},data:function(){return{zoom:11,center:{lat:10,lng:10},marker:{lat:null,lng:null},locationMode:!1}},watch:{latLng:{immediate:!0,deep:!1,handler:function(){this.setLatLng()}}},methods:{setLatLng:function(){(this.getLat||this.getLng)&&(this.center={lat:this.getLat,lng:this.getLng},this.marker=Object(o["a"])({},this.center))},setMarker:function(e){this.updatable&&(this.marker={lat:e.latLng.lat(),lng:e.latLng.lng()},this.$emit("update:marker",{e:e,marker:this.marker}))},copyToClipboard:function(){this.copyContentToClipboard(this.getLatLngUrl,{important:!0,title:"Lat Long Copied",text:"Lat & Long has been copied to your clipboard"})},geocoder:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.marker,r=new t.google.maps.Geocoder,a.next=4,r.geocode({location:n},(function(e,t){"OK"===t&&(e[1]?i=e[1]:console.error("LocationModal: No geocoding results found!"))}));case 4:return a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))()},onSave:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.marker,!e.useGeocoder){t.next=7;break}return n=new e.google.maps.Geocoder,t.next=5,n.geocode({location:a},(function(t,n){"OK"===n&&(t[1]?(e.$emit("save",{geocoder:t[1],marker:a}),e.$refs.modalRef.hide()):(console.error("LocationModal: No geocoding results found!"),e.$emit("save",{geocoder:null,marker:a}),e.$refs.modalRef.hide()))}));case 5:t.next=9;break;case 7:e.$emit("save",{geocoder:null,marker:a}),e.$refs.modalRef.hide();case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$emit("cancel"),this.$refs.modalRef.hide()}}},k=w,C=(a("5d6a"),a("2877")),S=Object(C["a"])(k,y,v,!1,null,"0d614a0c",null),E=S.exports,$=a("c18b"),T={name:"Step1",components:{PlacesAutocomplete:_["default"],LocationModal:E,UploadAvatar:$["b"]},props:{organizations:{required:!0},countries:{required:!0},primaryKey:{type:null,required:!1},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,form:{name:"",organization:"",warehouse_name:"",warehouse_lat:"",warehouse_lon:"",use_company_details:!1,country:"",city:"",zip_code:"",address:"",whatsapp_business_number:"",support_phone_number:"",brand_logo:null},showBrandLogo:!1,cities:[],cityIsLoading:!1}},computed:{useCompanyDetails:function(){return this.form.use_company_details},country:function(){return this.form.country},getCountry:function(){return this.form.country||void 0},getOrganization:function(){return this.form.organization||void 0},getCityDisabledState:function(){return!this.form.country||(!!this.cityIsLoading||(this.getCompanyDetailsDisabledState,!1))},getCityPlaceholder:function(){return this.form.country?this.cityIsLoading?"Loading ⟳":"Select a city":"Select a country first"},getUseCompanyDetails:function(){return this.form.use_company_details},getCompanyDetailsDisabledState:function(){return!!this.getUseCompanyDetails}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(this.form=Object(o["a"])({},e),this.showBrandLogo=!!this.form.brand_logo)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:1,data:this.form})}},useCompanyDetails:function(e){!0===e&&(this.form.country=this.$org.country.id,this.cities=[this.$org.city],this.form.city=this.$org.city.id,this.form.zip_code=this.$org.zip_code,this.form.address=this.$org.address)},country:{immediate:!0,deep:!1,handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cityIsLoading=!0,a.next=3,t.$http.get(d["c"].dropdown.city(e)).then((function(e){return e.data.data})).catch((function(e){return console.log(e)})).finally((function(){return t.cityIsLoading=!1}));case 3:t.cities=a.sent;case 4:case"end":return a.stop()}}),a)})))()}}},methods:{onChangeBrandLogoShowingStatus:function(e){this.showBrandLogo=e},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.submitButton.click();case 1:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e.isEditing?"PATCH":"POST",n=e.isEditing?d["c"].fleet.update(e.primaryKey):d["c"].fleet.create(),e.showBrandLogo||(e.form.brand_logo=""),i=Object(o["a"])({},e.form),e.showBrandLogo&&("string"!==typeof e.form.brand_logo&&null!=e.form.brand_logo||delete i.brand_logo),r=new FormData,i)r.append(s,i[s]);return console.log("dta-a",r),e.isLoading=!0,t.next=11,e.$http({method:a,url:n,data:r}).then((function(t){e.$emit("save",{step:1,data:t.data});var a="Fleet ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:a})})).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 11:case"end":return t.stop()}}),t)})))()},showGooglemapModal:function(){},onUpdateWarehousePlace:function(e){console.log("onplace",e),this.form.warehouse_lat=e.geometry.location.lat(),this.form.warehouse_lon=e.geometry.location.lng(),this.form.warehouse_name=e.formatted_address},onSaveWareHouseLocation:function(e){var t=e.marker,a=e.geocoder;this.form.warehouse_lat=t.lat,this.form.warehouse_lon=t.lng,this.form.warehouse_name=(null===a||void 0===a?void 0:a.formatted_address)||"Unknown Location!"}}},P=T,M=(a("765e"),Object(C["a"])(P,f,g,!1,null,"03ac6c2f",null)),A=M.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isParkingRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isParkingRequired"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isParkingRequired"),"value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isParkingRequired"),options:e.getParkingRequiredOptions,"hide-search-box":!0},model:{value:e.form.is_parking_required,callback:function(t){e.$set(e.form,"is_parking_required",t)},expression:"form.is_parking_required"}})],1),e.form.is_parking_required?a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.parkingRulesForVehicle"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.parkingRulesForVehicle"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.parkingRulesForVehicle"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.parkingRulesForVehicle"),"hide-search-box":!0,options:[{text:"Park at PickUp Location",value:!0},{text:"Park at any parking spot",value:!1}]},model:{value:e.form.return_vehicle_to_pickup_area,callback:function(t){e.$set(e.form,"return_vehicle_to_pickup_area",t)},expression:"form.return_vehicle_to_pickup_area"}})],1):a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isEndRidePhotoRequired"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isEndRidePhotoRequired"),options:e.getEndRideEnabledOptions,"hide-search-box":!0},model:{value:e.form.end_ride_picture,callback:function(t){e.$set(e.form,"end_ride_picture",t)},expression:"form.end_ride_picture"}})],1)]),e.form.is_parking_required?a("div",{staticClass:"grid grid-cols-1 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.excludeVehicleTypeFromParkingRules"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.excludeVehicleTypeFromParkingRules"),placeholder:"",rules:"","value-attribute":"value","text-attribute":"text",options:e.vehicleTypes,multiple:"","hide-search-box":!0},on:{change:e.handleVehicleTypes},model:{value:e.form.vehicle_types_exempted_from_parking,callback:function(t){e.$set(e.form,"vehicle_types_exempted_from_parking",t)},expression:"form.vehicle_types_exempted_from_parking"}})],1)]):e._e(),e.form.is_parking_required?a("div",{staticClass:"grid grid-cols-1 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isEndRidePhotoRequired"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isEndRidePhotoRequired"),options:e.getEndRideEnabledOptions,"hide-search-box":!0},model:{value:e.form.end_ride_picture,callback:function(t){e.$set(e.form,"end_ride_picture",t)},expression:"form.end_ride_picture"}})],1)]):e._e(),a("div",{staticClass:"py-1"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.changeLocationUpdateFrequencyCheckBox"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.changeLocationUpdateFrequencyCheckBox"),wrapped:""},model:{value:e.update_heartbeat_position_frequency,callback:function(t){e.update_heartbeat_position_frequency=t},expression:"update_heartbeat_position_frequency"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOnRide"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOnRide"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.locationUpdateFrequencyOnRide"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.locationUpdateFrequencyOnRide"),options:e.getFrequencyOptionsOnRide,disabled:!e.update_heartbeat_position_frequency,variant:{readonly:!e.update_heartbeat_position_frequency},"hide-search-box":!0},model:{value:e.form.on_ride_location_update_frequency,callback:function(t){e.$set(e.form,"on_ride_location_update_frequency",t)},expression:"form.on_ride_location_update_frequency"}}),a("AppInput",{attrs:{disabled:!e.update_heartbeat_position_frequency,type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOffRide"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOffRide"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.locationUpdateFrequencyOffRide"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.locationUpdateFrequencyOffRide"),options:e.getFrequencyOptionsOffRide,variant:{readonly:!e.update_heartbeat_position_frequency},"hide-search-box":!0},model:{value:e.form.off_ride_location_update_frequency,callback:function(t){e.$set(e.form,"off_ride_location_update_frequency",t)},expression:"form.off_ride_location_update_frequency"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.lowSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.lowSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.lowSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.lowSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.low_speed_limit,callback:function(t){e.$set(e.form,"low_speed_limit",t)},expression:"form.low_speed_limit"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.mediumSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.mediumSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.mediumSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.mediumSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.medium_speed_limit,callback:function(t){e.$set(e.form,"medium_speed_limit",t)},expression:"form.medium_speed_limit"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.highSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.highSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.highSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.highSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.high_speed_limit,callback:function(t){e.$set(e.form,"high_speed_limit",t)},expression:"form.high_speed_limit"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.maxSpeedMode"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.maxSpeedMode"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.maxSpeedMode"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.maxSpeedMode"),options:e.getMaxSpeedLimitOptions,"hide-search-box":!0},model:{value:e.form.max_speed_limit,callback:function(t){e.$set(e.form,"max_speed_limit",t)},expression:"form.max_speed_limit"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetVisibility"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetVisibility"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.fleetVisibility"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetVisibility"),options:e.getVisibilityOptions,"hide-search-box":!0},model:{value:e.form.visibility,callback:function(t){e.$set(e.form,"visibility",t)},expression:"form.visibility"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isPauseRideEnabled"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isPauseRideEnabled"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isPauseRideEnabled"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isPauseRideEnabled"),options:e.getPauseEnabledOptions,"hide-search-box":!0},model:{value:e.form.pause_ride_enabled,callback:function(t){e.$set(e.form,"pause_ride_enabled",t)},expression:"form.pause_ride_enabled"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowGroupTrip"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowGroupTrip"),rules:"required","value-attribute":"value","text-attribute":"text",options:e.getGroupTripRequiredOptions,"hide-search-box":!0},model:{value:e.form.is_group_trip_enabled,callback:function(t){e.$set(e.form,"is_group_trip_enabled",t)},expression:"form.is_group_trip_enabled"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowReservationFeature"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowReservationFeature"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.allowReservationFeature"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.allowReservationFeature"),options:e.getReservationOptions,"hide-search-box":!0},model:{value:e.form.reservation_allowed,callback:function(t){e.$set(e.form,"reservation_allowed",t)},expression:"form.reservation_allowed"}})],1),a("div",{staticClass:"grid grid-cols-1 "},[e.form.reservation_allowed?a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetReservationTime"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetReservationTime"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.fleetReservationTime"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetReservationTime"),options:e.getFleetReservationTimeOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"Mins"},model:{value:e.form.reservation_time,callback:function(t){e.$set(e.form,"reservation_time",t)},expression:"form.reservation_time"}}):e._e()],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.signUpBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.signUpBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetReservationTime"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.user_init_balance,callback:function(t){e.$set(e.form,"user_init_balance",t)},expression:"form.user_init_balance"}}),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviterBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviterBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.inviterBonus"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.invitation_amount,callback:function(t){e.$set(e.form,"invitation_amount",t)},expression:"form.invitation_amount"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviteeBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviteeBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.inviteeBonus"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.invitee_invitation_amount,callback:function(t){e.$set(e.form,"invitee_invitation_amount",t)},expression:"form.invitee_invitation_amount"}})],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.numTripsRequiredForReferralBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.numTripsRequiredForReferralBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.numTripsRequiredForReferralBonus")},model:{value:e.form.invitation_required_trips,callback:function(t){e.$set(e.form,"invitation_required_trips",t)},expression:"form.invitation_required_trips"}}),e.isRidingTimeBaseWallet?a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.ridingTimingUnit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.allowReservationFeature"),options:e.getRidingTimeUnitOptions,"hide-search-box":!0},model:{value:e.form.riding_time_unit,callback:function(t){e.$set(e.form,"riding_time_unit",t)},expression:"form.riding_time_unit"}}),[0===e.form.riding_time_unit?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),rules:"required",step:"0.0001",min:"0",haveUnitText:!0,unitText:e.getUnitTextForAmountPerRidingTime,haveSuggestion:e.haveAlertForRidingTimeUnitCost,isSuggestionAlert:e.haveAlertForRidingTimeUnitCost,suggestionText:"Up to 4 decimal places allowed. Example: 0.2345"},model:{value:e.form.amount_per_riding_time_unit,callback:function(t){e.$set(e.form,"amount_per_riding_time_unit",t)},expression:"form.amount_per_riding_time_unit"}}),a("div",{staticClass:"flex items-center justify-center border-2 border-dashed border-gray-400 rounded-lg bg-gray-100"},[a("p",{staticClass:"text-xl font-semibold"},[e._v(" "+e._s(e.form.amount_per_riding_time_unit?e.formatNumberWithMaxDecimals(60*e.form.amount_per_riding_time_unit,4):"--")+" "+e._s(e.form.currency_symbol+" /Minute")+" ")])])],1),a("div",{staticClass:"grid grid-cols-2 gap-4 mt-2"},[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),rules:"required",step:"0.1",min:"0"},model:{value:e.form.minimum_riding_time_for_topup,callback:function(t){e.$set(e.form,"minimum_riding_time_for_topup",t)},expression:"form.minimum_riding_time_for_topup"}}),a("div",{staticClass:"flex items-center justify-center border-2 border-dashed border-gray-400 rounded-lg bg-gray-100"},[a("p",{staticClass:"text-xl font-semibold"},[e._v(" "+e._s(e.getMinimumRidingTimeTextForTopup)+" ")])])],1)]:e._e(),1===e.form.riding_time_unit?[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),rules:"required",step:"0.0001",min:"0",haveUnitText:!0,unitText:e.getUnitTextForAmountPerRidingTime,haveSuggestion:e.haveAlertForRidingTimeUnitCost,isSuggestionAlert:e.haveAlertForRidingTimeUnitCost,suggestionText:"Up to 4 decimal places allowed. Example: 0.2345"},model:{value:e.form.amount_per_riding_time_unit,callback:function(t){e.$set(e.form,"amount_per_riding_time_unit",t)},expression:"form.amount_per_riding_time_unit"}}),a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),rules:"required",step:"0.01",min:"0"},model:{value:e.form.minimum_riding_time_for_topup,callback:function(t){e.$set(e.form,"minimum_riding_time_for_topup",t)},expression:"form.minimum_riding_time_for_topup"}})]:e._e()]],2):e._e(),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.applyTaxOnTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.applyTaxOnTopup"),"value-attribute":"value","text-attribute":"text",options:e.getApplyTaxOnTopupOptions,"hide-search-box":!0},model:{value:e.form.should_apply_tax_on_topup_amount,callback:function(t){e.$set(e.form,"should_apply_tax_on_topup_amount",t)},expression:"form.should_apply_tax_on_topup_amount"}}),e.form.should_apply_tax_on_topup_amount?a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.topupTaxRate"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.topupTaxRate"),step:"0.01",min:"0",haveUnitText:!0,unitText:"%"},model:{value:e.form.topup_tax_percentage,callback:function(t){e.$set(e.form,"topup_tax_percentage",t)},expression:"form.topup_tax_percentage"}}):e._e(),a("section",[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[e._v(e._s(e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmount")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:e.onAddPenaltyTypeField}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),e._l(e.selectedPenaltyTypes,(function(t,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-1/2"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.type"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.type"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.managePenaltyByAmountInfo.type"),"value-attribute":"id","text-attribute":"title",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.managePenaltyByAmountInfo.type"),options:e.penaltyOptions,"hide-search-box":""},model:{value:t.id,callback:function(a){e.$set(t,"id",a)},expression:"item.id"}})],1),a("div",{staticClass:"w-1/2"},[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.amount"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.amount"),placeholder:"e.g. 2",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.managePenaltyByAmountInfo.amount"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:t.deduct_amount,callback:function(a){e.$set(t,"deduct_amount",a)},expression:"item.deduct_amount"}})],1)]),a("div",{staticClass:"flex justify-center w-1/12 item-center"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(t){return e.onRemovePenaltyTypeField(n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])])])}))],2),e.fleetIsPrivate?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCode"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCode"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.privateCode")},model:{value:e.form.private_code,callback:function(t){e.$set(e.form,"private_code",t)},expression:"form.private_code"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCodeRefreshTime"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCodeRefreshTime"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.privateCodeRefreshTime"),"value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.privateCodeRefreshTime"),options:e.getFleetReservationTimeOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"Mins"},model:{value:e.form.private_code_refresh_mins,callback:function(t){e.$set(e.form,"private_code_refresh_mins",t)},expression:"form.private_code_refresh_mins"}})],1)]:e._e(),a("div",{staticClass:"my-4 parentbox"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.useOrgEmailConfigCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.useOrgEmailConfigCheckbox"),wrapped:""},model:{value:e.form.email_enabled,callback:function(t){e.$set(e.form,"email_enabled",t)},expression:"form.email_enabled"}})],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailAddress")+" "+(e.isUsedOtorideDefaultEmailCredential&&"(Default)"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailAddress")+" "+(e.isUsedOtorideDefaultEmailCredential&&"(Default)"),placeholder:"john_doe@gmail.com",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailAddress"),disabled:e.form.email_enabled},model:{value:e.form.email_address,callback:function(t){e.$set(e.form,"email_address",t)},expression:"form.email_address"}}),e.isUsedOtorideDefaultEmailCredential?e._e():[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailCredentialProvider"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailCredentialProvider"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.emailCredentialProvider"),options:[{text:"SMTP",value:!0},{text:"SendGrid",value:!1}],disabled:e.form.email_enabled,"hide-search-box":""},model:{value:e.form.email_is_smtp,callback:function(t){e.$set(e.form,"email_is_smtp",t)},expression:"form.email_is_smtp"}}),e.emailIsSMTP?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailHost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailHost"),placeholder:"e.g. smtp.gmail.com",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailHost"),disabled:e.form.email_enabled},model:{value:e.form.email_host,callback:function(t){e.$set(e.form,"email_host",t)},expression:"form.email_host"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPort"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPort"),placeholder:"e.g.587",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailPort"),disabled:e.form.email_enabled},model:{value:e.form.email_port,callback:function(t){e.$set(e.form,"email_port",t)},expression:"form.email_port"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPassword"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPassword"),placeholder:"*** *** ***",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailPassword"),disabled:e.form.email_enabled},model:{value:e.form.email_password,callback:function(t){e.$set(e.form,"email_password",t)},expression:"form.email_password"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailEncryption"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailEncryption"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.emailEncryption"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailEncryption"),options:e.getEmailEncryptionOptions,disabled:e.form.email_enabled,"hide-search-box":!0},model:{value:e.form.email_encryption,callback:function(t){e.$set(e.form,"email_encryption",t)},expression:"form.email_encryption"}})],1)]:[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailApiKey"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailApiKey"),placeholder:"e.g. xvgsf^$R7865rtxsnb",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailApiKey"),disabled:e.form.email_enabled},model:{value:e.form.email_api_key,callback:function(t){e.$set(e.form,"email_api_key",t)},expression:"form.email_api_key"}})],1)])]],a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],2)]}}])})},O=[],L=(a("99af"),a("25f0"),a("159b"),a("4de4"),a("d81d"),a("a434"),a("caad"),a("2532"),a("5da7")),R={name:"Step2",components:{},props:{primaryKey:{required:!0},orgEmailSettings:{type:Object,required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1},isRidingTimeBaseWallet:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,saveCounter:0,showMsg:!1,emailMissingSettings:[],penaltyOptions:[],allPenaltyTypes:[],selectedPenaltyTypes:[],update_heartbeat_position_frequency:!1,vehicleTypes:[],form:{id:"",currency_symbol:"",is_parking_required:"",return_vehicle_to_pickup_area:null,vehicle_types_exempted_from_parking:[],reservation_time:"",reservation_allowed:null,pause_ride_enabled:"",user_init_balance:"",invitation_amount:"",invitee_invitation_amount:"",amount_per_riding_time_unit:"",should_apply_tax_on_topup_amount:"",topup_tax_percentage:"",invitation_required_trips:"",on_ride_location_update_frequency:30,off_ride_location_update_frequency:240,end_ride_picture:"",max_speed_limit:"",low_speed_limit:null,medium_speed_limit:null,high_speed_limit:null,visibility:"",is_group_trip_enabled:null,private_code:"",private_code_refresh_mins:"",email_enabled:"",email_address:"",email_api_key:"",email_is_smtp:"",email_host:"",email_port:"",email_password:"",email_encryption:""},previousEmailSettings:{email_address:"",email_api_key:"",email_is_smtp:"",email_host:"",email_port:"",email_password:"",email_encryption:""},haveAlertForRidingTimeUnitCost:!1}},computed:{isUsedOtorideDefaultEmailCredential:function(){return this.$store.getters["auth/organizationInfo"].subscription.should_use_otoride_email_credentials||!1},isOrgEmailSettingsOkay:function(){var e=this.orgEmailSettings,t=0!==Object.keys(e).length;for(var a in e)if("null"===e[a]||""===e[a]||null===e[a]){t=!1;var n=void 0;n="email_is_smtp"===a?"SMTP decision":"email_api_key"===a?"API key":a.split("_")[1],this.emailMissingData(n)}return t},emailEnabled:function(){return this.form.email_enabled},emailIsSMTP:function(){return this.form.email_is_smtp},fleetIsPrivate:function(){return"PR"===this.form.visibility},getParkingRequiredOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getGroupTripRequiredOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getReservationOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getPauseEnabledOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getEndRideEnabledOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getApplyTaxOnTopupOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getRidingTimeUnitOptions:function(){return[{value:0,text:"Second"},{value:1,text:"Minute"}]},getUnitTextForAmountPerRidingTime:function(){var e="";return 0===this.form.riding_time_unit&&(e="Sec"),1===this.form.riding_time_unit&&(e="Min"),"".concat(this.form.currency_symbol," /").concat(e)},getVisibilityOptions:function(){return[{value:"PU",text:"Public"},{value:"PR",text:"Private"}]},getFleetReservationTimeOptions:function(){return[{value:5,text:"5"},{value:10,text:"10"},{value:15,text:"15"},{value:20,text:"20"},{value:25,text:"25"},{value:30,text:"30"}]},getMaxSpeedLimitOptions:function(){return[{value:"LOW",text:"Low"},{value:"MEDIUM",text:"Medium"},{value:"HIGH",text:"High"}]},getSpeedLimitOptions:function(){return[{value:6,text:6},{value:7,text:7},{value:8,text:8},{value:9,text:9},{value:10,text:10},{value:11,text:11},{value:12,text:12},{value:13,text:13},{value:14,text:14},{value:15,text:15},{value:16,text:16},{value:17,text:17},{value:18,text:18},{value:19,text:19},{value:20,text:20},{value:21,text:21},{value:22,text:22},{value:23,text:23},{value:24,text:24},{value:25,text:25}]},getFrequencyOptionsOnRide:function(){return[{value:10,text:"10s"},{value:20,text:"20s"},{value:30,text:"30s"},{value:60,text:"1m"},{value:90,text:"1m 30s"},{value:120,text:"2m"},{value:150,text:"2m 30s"},{value:180,text:"3m"},{value:210,text:"3m 30s"},{value:240,text:"4m"}]},getFrequencyOptionsOffRide:function(){return[{value:30,text:"30s"},{value:60,text:"1m"},{value:90,text:"1m 30s"},{value:120,text:"2m"},{value:150,text:"2m 30s"},{value:180,text:"3m"},{value:210,text:"3m 30s"},{value:240,text:"4m"}]},getEmailEncryptionOptions:function(){return[{value:"TLS",text:"TLS"},{value:"SSL",text:"SSL"},{value:"None",text:"None"}]},getMinimumRidingTimeTextForTopup:function(){var e="";if(0===this.form.riding_time_unit&&(this.form.minimum_riding_time_for_topup<60&&(e="".concat(this.form.minimum_riding_time_for_topup," Sec")),this.form.minimum_riding_time_for_topup>=60)){var t=Math.floor(parseInt(this.form.minimum_riding_time_for_topup)/60),a=parseInt(this.form.minimum_riding_time_for_topup)%60;t>0&&a>0&&(e="".concat(t," Min ").concat(a," Sec")),t>0&&0===a&&(e="".concat(t," Minute"))}return e}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(e.email_enabled?e.email_enabled=!1:e.email_enabled=!0,this.form=Object(o["a"])({},e),this.previousEmailSettings.email_address=e.email_address,this.previousEmailSettings.email_api_key=e.email_api_key,this.previousEmailSettings.email_is_smtp=e.email_is_smtp,this.previousEmailSettings.email_host=e.email_host,this.previousEmailSettings.email_port=e.email_port,this.previousEmailSettings.email_password=e.email_password,this.previousEmailSettings.email_encryption=e.email_encryption)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:2,data:this.form})}},emailEnabled:{immediate:!1,deep:!1,handler:function(e){if(0===this.saveCounter)if(e){var t=this.orgEmailSettings;this.form.email_address=t.email_address,this.form.email_api_key=t.email_api_key,this.form.email_is_smtp=t.email_is_smtp,this.form.email_host=t.email_host,this.form.email_port=t.email_port,this.form.email_password=t.email_password,this.form.email_encryption=t.email_encryption}else this.form.email_address=this.previousEmailSettings.email_address,this.form.email_api_key=this.previousEmailSettings.email_api_key,this.form.email_is_smtp=this.previousEmailSettings.email_is_smtp,this.form.email_host=this.previousEmailSettings.email_host,this.form.email_port=this.previousEmailSettings.email_port,this.form.email_password=this.previousEmailSettings.email_password,this.form.email_encryption=this.previousEmailSettings.email_encryption}},"form.amount_per_riding_time_unit":{immediate:!0,deep:!1,handler:function(e){console.log("amount_per_riding_time_unit",e.toString().split(".")[1].length),e.toString().split(".")[1].length>4?this.haveAlertForRidingTimeUnitCost=!0:this.haveAlertForRidingTimeUnitCost=!1}}},created:function(){var e,t=this;this.saveCounter=0;var a=(null===this||void 0===this||null===(e=this.$org)||void 0===e?void 0:e.vehicle_type)||[];this.vehicleTypes.push({text:"None",value:"NONE"}),a.forEach((function(e){return t.vehicleTypes.push(h["w"][e])})),this.$http.get(d["c"].fleet.penaltyIndex(this.form.id)).then((function(e){t.allPenaltyTypes=e.data.data,t.selectedPenaltyTypes=e.data.data.filter((function(e){return parseFloat(e.deduct_amount)>0})),t.penaltyOptions=e.data.data.map((function(e){return{id:e.id,title:e.title}}))}))},methods:{formatNumberWithMaxDecimals:L["b"],handleVehicleTypes:function(e){if("NONE"===e[e.length-1])for(var t=e.length-1;t>=0;t--)"NONE"!==e[t]&&e.splice(t,1);"NONE"===e[0]&&e.length>1&&e.splice(0,1)},onAddPenaltyTypeField:function(){this.selectedPenaltyTypes.length<this.allPenaltyTypes.length?this.selectedPenaltyTypes.unshift({id:"",deduct_amount:"0.00"}):this.$notify({group:"generic",type:"default",title:"CAUTION",text:"No more policy have been left"},3e3)},onRemovePenaltyTypeField:function(e){this.selectedPenaltyTypes.splice(e,1)},showErrorMsg:function(){this.showMsg=!0},emailMissingData:function(e){this.emailMissingSettings.push(e)},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.submitButton.click();case 1:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,s,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(u in a="PATCH",e.selectedPenaltyTypes.length?(e.selectedPenaltyTypes.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",t.deduct_amount),e.$http({url:a,method:"PATCH",data:n})})),n=e.allPenaltyTypes.filter((function(t){return!e.selectedPenaltyTypes.some((function(e){return t.id===e.id}))})),n.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",0),e.$http({url:a,method:"PATCH",data:n})}))):e.allPenaltyTypes.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",0),e.$http({url:a,method:"PATCH",data:n})})),i=d["c"].fleet.update(e.primaryKey),e.form.email_enabled?e.form.email_enabled=!1:e.form.email_enabled=!0,r=Object(o["a"])(Object(o["a"])({},e.form),{},{update_heartbeat_position_frequency:e.update_heartbeat_position_frequency}),console.log("formDataProxy",r),s=Object.keys(r),s.map((function(e){null===r[e]&&delete r[e]})),"PATCH"!==a&&delete r.update_heartbeat_position_frequency,e.emailIsSMTP?delete r.email_api_key:(delete r.email_host,delete r.email_port,delete r.email_password,delete r.email_encryption),!1===e.fleetIsPrivate&&(delete r.private_code,delete r.private_code_refresh_mins),l=new FormData,r)"vehicle_types_exempted_from_parking"===u?r[u].includes("NONE")?l.append(u,JSON.stringify([])):l.append(u,JSON.stringify(r[u])):l.append(u,r[u]);return e.saveCounter++,e.form.email_enabled=!e.form.email_enabled,e.isLoading=!0,t.next=18,e.$http({method:a,url:i,data:l}).then((function(t){e.$emit("save",{step:2,data:t.data});var a="Organization User ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:a})})).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.status})})).finally((function(){e.isLoading=!1,e.update_heartbeat_position_frequency=!1}));case 18:case"end":return t.stop()}}),t)})))()}}},I=R,F=(a("6d84"),Object(C["a"])(I,D,O,!1,null,"315e1116",null)),q=F.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("section",[a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.useDefaultPaymentGatewayCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.useDefaultPaymentGatewayCheckbox"),wrapped:""},model:{value:e.form.useOrgPaymentGateway,callback:function(t){e.$set(e.form,"useOrgPaymentGateway",t)},expression:"form.useOrgPaymentGateway"}})],1),a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.paymentGateway"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.paymentGateway"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.paymentGateway"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.paymentGateway"),rules:"required","text-attribute":"name","value-attribute":"id",options:e.paymentGateways,disabled:e.form.useOrgPaymentGateway,"hide-search-box":""},model:{value:e.form.payment.payment_gateway,callback:function(t){e.$set(e.form.payment,"payment_gateway",t)},expression:"form.payment.payment_gateway"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableLiveModeCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableLiveModeCheckbox"),disabled:e.form.useOrgPaymentGateway,wrapped:""},model:{value:e.form.payment.sandbox_mode,callback:function(t){e.$set(e.form.payment,"sandbox_mode",t)},expression:"form.payment.sandbox_mode"}})],1),e.isItPayoneMethod?a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_mid,callback:function(t){e.$set(e.form.payment,"payone_mid",t)},expression:"form.payment.payone_mid"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),rules:e.form.payment.sandbox_mode?"required":"",placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_portalid,callback:function(t){e.$set(e.form.payment,"payone_portalid",t)},expression:"form.payment.payone_portalid"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_aid,callback:function(t){e.$set(e.form.payment,"payone_aid",t)},expression:"form.payment.payone_aid"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_key,callback:function(t){e.$set(e.form.payment,"payone_key",t)},expression:"form.payment.payone_key"}})],1)]):e.isItKKiaPayMethod?a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_public_key,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_public_key",t)},expression:"form.payment.kkiapay_sandbox_public_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_public_key,callback:function(t){e.$set(e.form.payment,"kkiapay_live_public_key",t)},expression:"form.payment.kkiapay_live_public_key"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_private_key,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_private_key",t)},expression:"form.payment.kkiapay_sandbox_private_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_private_key,callback:function(t){e.$set(e.form.payment,"kkiapay_live_private_key",t)},expression:"form.payment.kkiapay_live_private_key"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_secret,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_secret",t)},expression:"form.payment.kkiapay_sandbox_secret"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_secret,callback:function(t){e.$set(e.form.payment,"kkiapay_live_secret",t)},expression:"form.payment.kkiapay_live_secret"}})],1)]):e.isItMyFatoorahMethod?a("div",[e.form.payment.sandbox_mode?a("div",[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiToken"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiToken"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.apiToken")},model:{value:e.form.payment.secret_key,callback:function(t){e.$set(e.form.payment,"secret_key",t)},expression:"form.payment.secret_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.javascriptSdkUrl"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.javascriptSdkUrl"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.javascriptSdkUrl")},model:{value:e.form.payment.src_url,callback:function(t){e.$set(e.form.payment,"src_url",t)},expression:"form.payment.src_url"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiBaseUrl"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiBaseUrl"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.apiBaseUrl")},model:{value:e.form.payment.api_url,callback:function(t){e.$set(e.form.payment,"api_url",t)},expression:"form.payment.api_url"}})],1):a("div",[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.testApiToken"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.testApiToken"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.testApiToken")},model:{value:e.form.payment.sandbox_secret_key,callback:function(t){e.$set(e.form.payment,"sandbox_secret_key",t)},expression:"form.payment.sandbox_secret_key"}})],1)]):a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:""+e.getClientIdLabel,rules:e.form.payment.sandbox_mode?"":"required",infoDescription:"Please provide "+e.getClientIdLabel+" for testing purpose",label:""+e.getClientIdLabel,placeholder:""+e.getClientIdLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.sandbox_client_id,callback:function(t){e.$set(e.form.payment,"sandbox_client_id",t)},expression:"form.payment.sandbox_client_id"}}),a("AppInput",{attrs:{type:"password",rules:e.form.payment.sandbox_mode?"required":"",name:"Live "+e.getClientIdLabel,infoDescription:"Please provide "+e.getClientIdLabel+" for production purpose",label:"Live "+e.getClientIdLabel,placeholder:"Live "+e.getClientIdLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.client_id,callback:function(t){e.$set(e.form.payment,"client_id",t)},expression:"form.payment.client_id"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.getSecretKeyLabel,rules:e.form.payment.sandbox_mode?"":"required",infoDescription:"Please provide "+e.getSecretKeyLabel+" for testing purpose",label:e.getSecretKeyLabel,placeholder:e.getSecretKeyLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.sandbox_secret_key,callback:function(t){e.$set(e.form.payment,"sandbox_secret_key",t)},expression:"form.payment.sandbox_secret_key"}}),a("AppInput",{attrs:{type:"password",name:"Live "+e.getSecretKeyLabel,infoDescription:"Please provide  "+e.getSecretKeyLabel+"for production purpose",rules:e.form.payment.sandbox_mode?"required":"",label:"Live "+e.getSecretKeyLabel,placeholder:"Live "+e.getSecretKeyLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.secret_key,callback:function(t){e.$set(e.form.payment,"secret_key",t)},expression:"form.payment.secret_key"}})],1),e.isItStripeMethod?a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.supportedPaymentMethodTypes"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.supportedPaymentMethodTypes"),rules:"",options:e.supportedPaymentMethodTypes,placeholder:"Select method","hide-search-box":!0,disabled:e.form.useOrgPaymentGateway,multiple:""},model:{value:e.form.payment.supported_payment_method_types,callback:function(t){e.$set(e.form.payment,"supported_payment_method_types",t)},expression:"form.payment.supported_payment_method_types"}})],1):e._e()]),a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableAutoRechargeFromWallet"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableAutoRechargeFromWallet"),wrapped:""},model:{value:e.form.should_auto_refill_wallet_on_negative_balance,callback:function(t){e.$set(e.form,"should_auto_refill_wallet_on_negative_balance",t)},expression:"form.should_auto_refill_wallet_on_negative_balance"}})],1),e.form.should_auto_refill_wallet_on_negative_balance?a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.autoRechargeAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.autoRechargeAmount"),rules:"required",placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.auto_refill_amount,callback:function(t){e.$set(e.form,"auto_refill_amount",t)},expression:"form.auto_refill_amount"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.allowRiderToggleAutoRecharge"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.allowRiderToggleAutoRecharge"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.allowRiderToggleAutoRecharge"),rules:"required",options:e.getRiderEnabledAutoRefillOptions,"hide-search-box":!0},model:{value:e.form.is_rider_allowed_to_toggle_auto_refill_setting,callback:function(t){e.$set(e.form,"is_rider_allowed_to_toggle_auto_refill_setting",t)},expression:"form.is_rider_allowed_to_toggle_auto_refill_setting"}})],1):e._e(),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.deposit"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.deposit"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.deposit"),rules:"",placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_deposit,callback:function(t){e.$set(e.form.topup,"user_deposit",t)},expression:"form.topup.user_deposit"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.lowBalanceThreshold"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.lowBalanceThreshold"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.lowBalanceThreshold"),placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_balance_threshold,callback:function(t){e.$set(e.form.topup,"user_balance_threshold",t)},expression:"form.topup.user_balance_threshold"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.maxTopupAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.maxTopupAmount"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.maxTopupAmount"),placeholder:"e.g. 400",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_max_balance,callback:function(t){e.$set(e.form.topup,"user_topup_max_balance",t)},expression:"form.topup.user_topup_max_balance"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.minTopupAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.minTopupAmount"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.minTopupAmount"),placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_min_balance,callback:function(t){e.$set(e.form.topup,"user_topup_min_balance",t)},expression:"form.topup.user_topup_min_balance"}})],1),a("div",[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.topupDailyLimit"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.topupDailyLimit"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.topupDailyLimit"),placeholder:"e.g. 400",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_daily_limit,callback:function(t){e.$set(e.form.topup,"user_topup_daily_limit",t)},expression:"form.topup.user_topup_daily_limit"}})],1),a("div",{staticClass:" pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableFreeRideAllowed"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableFreeRideAllowed"),wrapped:""},model:{value:e.form.is_free_ride_allowed,callback:function(t){e.$set(e.form,"is_free_ride_allowed",t)},expression:"form.is_free_ride_allowed"}}),a("p",{staticClass:"text-xs text-gray-500 "},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.enableFreeRideAllowed"))+" ")])],1),a("div",{staticClass:" pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableExtraSurchargeRechargeForTourist"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableExtraSurchargeRechargeForTourist"),wrapped:""},model:{value:e.form.should_apply_extra_charge_for_non_local_rider,callback:function(t){e.$set(e.form,"should_apply_extra_charge_for_non_local_rider",t)},expression:"form.should_apply_extra_charge_for_non_local_rider"}}),a("p",{staticClass:"text-xs text-gray-500 "},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.enableExtraSurchargeRechargeForTourist",{country:e.form.fleetCountry}))+" ")])],1),e.form.should_apply_extra_charge_for_non_local_rider?a("div",[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.provideExtraSurcharge"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.provideExtraSurcharge"),rules:"required",placeholder:"e.g. 10",haveUnitText:!0,unitText:"%"},model:{value:e.form.extra_charge_percentage_for_non_local_rider,callback:function(t){e.$set(e.form,"extra_charge_percentage_for_non_local_rider",t)},expression:"form.extra_charge_percentage_for_non_local_rider"}})],1):e._e()]),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v("Save")])])]}}])})},j=[],V={name:"Step3",components:{},props:{paymentGateways:{type:Array,required:!0},orgPaymentConfig:{type:Object,required:!0},primaryKey:{required:!0},orgId:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,haveTopupData:!1,supportedPaymentMethodTypes:[{text:"PayPal",value:"PayPal"},{text:"Card",value:"Card"}],currencySymbol:"",form:{payment:{payment_gateway:"",client_id:"",secret_key:"",app_key:"apk-123",extra_key:"exk-123",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"apk-123",supported_payment_method_types:[]},topup:{user_deposit:null,user_balance_threshold:null,user_topup_min_balance:null,user_topup_max_balance:null,user_topup_daily_limit:null},useOrgPaymentGateway:!1,should_auto_refill_wallet_on_negative_balance:!1,auto_refill_amount:0,is_rider_allowed_to_toggle_auto_refill_setting:!1,is_free_ride_allowed:!1,should_apply_extra_charge_for_non_local_rider:!1,extra_charge_percentage_for_non_local_rider:0,fleetCountry:""},orgPaymentDetails:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""},fleetPaymentDetails:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""}}},computed:{getRiderEnabledAutoRefillOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},isItPayoneMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"Payone"!==t[0].name)},isItKKiaPayMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"KKiaPay"!==t[0].name)},isItStripeMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"Stripe"!==t[0].name)},isItSTSPayoneMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"STS PayOne"!==t[0].name)},isItMyFatoorahMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"MyFatoorah"!==t[0].name)},getClientIdLabel:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.privateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.merchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.title.clientID")},getClientIdInfoDescription:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.privateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.merchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.clientID")},getLiveClientIdLabel:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.livePrivateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.liveMerchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.title.liveClientID")},getLiveClientIdInfoDescription:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.livePrivateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveMerchantID"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveClientID")},getSecretKeyLabel:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.authToken"):this.$t("components.fleetManagement.addEdit.steps.payment.title.secretKey")},getSecretKeyInfoDescription:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.authToken"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.secretKey")},getLiveSecretKeyLabel:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.liveAuthToken"):this.$t("components.fleetManagement.addEdit.steps.payment.title.liveSecretKey")},getLiveSecretKeyInfoDescription:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveAuthToken"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveSecretKey")}},watch:{formData:{deep:!0,immediate:!0,handler:function(e){if(e){var t=e.payment,a=e.paymentId,n=e.orgId,i=e.useOrgPaymentGateway,r=e.currencySymbol,s=e.topup,l=e.should_auto_refill_wallet_on_negative_balance,d=e.auto_refill_amount,u=e.is_rider_allowed_to_toggle_auto_refill_setting,c=e.is_free_ride_allowed,p=e.should_apply_extra_charge_for_non_local_rider,m=e.extra_charge_percentage_for_non_local_rider,f=e.fleetCountry;t.supported_payment_method_types&&t.supported_payment_method_types.length&&(t.supported_payment_method_types=["Card"]),this.form={payment:t,paymentId:a,orgId:n,useOrgPaymentGateway:i,topup:s,should_auto_refill_wallet_on_negative_balance:l,auto_refill_amount:d,is_rider_allowed_to_toggle_auto_refill_setting:u,is_free_ride_allowed:c,should_apply_extra_charge_for_non_local_rider:p,extra_charge_percentage_for_non_local_rider:m,fleetCountry:f},this.fleetPaymentDetails=t||this.fleetPaymentDetails,this.currencySymbol=r,i?(this.form.payment=this.orgPaymentConfig,console.log("ff3-useOrgPayment",!0,this.orgPaymentConfig)):(this.form.payment=this.fleetPaymentDetails,console.log("ff3-useOrgPayment",!1)),this.form.payment=Object(o["a"])(Object(o["a"])({},this.form.payment),{},{sandbox_mode:!this.form.payment.sandbox_mode}),console.log(this.form,"ff3")}}},form:{deep:!0,immediate:!1,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:3,data:this.form})}},"form.useOrgPaymentGateway":function(e){this.form.payment=e?Object(o["a"])(Object(o["a"])({},this.orgPaymentConfig),{},{sandbox_mode:!this.form.payment.sandbox_mode}):Object(o["a"])(Object(o["a"])({},this.fleetPaymentDetails),{},{sandbox_mode:!this.form.payment.sandbox_mode})}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,s,l,u,c,p,m,f,g,h,_,y,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(u in a=e.form.paymentId,n=a?d["c"].paymentGateway.update(a):d["c"].paymentGateway.create(),i=a?"PATCH":"POST",console.log({paymentMethod:i}),r=new FormData,s=JSON.stringify(e.form.payment.supported_payment_method_types),l=Object(o["a"])(Object(o["a"])({},e.form.payment),{},{sandbox_mode:!e.form.payment.sandbox_mode,supported_payment_method_types:null!==s&&void 0!==s?s:JSON.stringify(["Card"]),organization:e.form.orgId?e.form.orgId:e.orgId,fleet:e.primaryKey}),l)r.append(u,l[u]);for(g in c=d["c"].fleet.update(e.primaryKey),p="PATCH",m=new FormData,f=Object(o["a"])({},e.form.topup),f)f[g]&&(e.haveTopupData=!0,m.append(g,f[g]));if(e.isLoading=!0,e.haveTopupData&&e.$http({url:c,method:p,data:m}),h=new FormData,h.append("should_auto_refill_wallet_on_negative_balance",e.form.should_auto_refill_wallet_on_negative_balance),h.append("auto_refill_amount",e.form.auto_refill_amount),h.append("is_rider_allowed_to_toggle_auto_refill_setting",e.form.is_rider_allowed_to_toggle_auto_refill_setting),e.$http({url:d["c"].fleet.update(e.primaryKey),method:"PATCH",data:h}),_=new FormData,_.append("is_free_ride_allowed",e.form.is_free_ride_allowed),_.append("should_apply_extra_charge_for_non_local_rider",e.form.should_apply_extra_charge_for_non_local_rider),e.form.should_apply_extra_charge_for_non_local_rider&&_.append("extra_charge_percentage_for_non_local_rider",e.form.extra_charge_percentage_for_non_local_rider),e.$http({url:d["c"].fleet.update(e.primaryKey),method:"PATCH",data:_}),!e.form.useOrgPaymentGateway){t.next=28;break}return e.updatePaymentGatewayConfigFlag(e.form.useOrgPaymentGateway),t.abrupt("return");case 28:return y=e.$http({url:n,method:i,data:r}),v=[y],t.next=32,e.$http.all(v).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a[0],r={payment:i.data};console.log(r),e.updatePaymentGatewayConfigFlag(e.form.useOrgPaymentGateway);var o="Fleet Payment Settings ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:o})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})}));case 32:case"end":return t.stop()}}),t)})))()},updatePaymentGatewayConfigFlag:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("use_org_payment_gateway_config",e),a.next=4,t.$http.patch(d["c"].fleet.update(t.primaryKey),n).then((function(e){console.log("step-3-fleet-update",e),t.$emit("save",{step:3})})).catch((function(e){console.log("step-3-fleet-update-error",{err:e})})).finally((function(){return t.isLoading=!1}));case 4:case"end":return a.stop()}}),a)})))()}}},B=V,U=(a("deab"),Object(C["a"])(B,N,j,!1,null,"70927d9a",null)),G=U.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"py-2"},[a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.schedule.title.useDefaultOrgBusinessHoursCheckbox"),name:e.$t("components.fleetManagement.addEdit.steps.schedule.title.useDefaultOrgBusinessHoursCheckbox"),wrapped:""},model:{value:e.form.use_org_business_hours,callback:function(t){e.$set(e.form,"use_org_business_hours",t)},expression:"form.use_org_business_hours"}})],1),a("div",{staticClass:"grid grid-cols-12 py-2 gap-x-1 "},[a("div",{staticClass:"col-span-5"},[a("p",{staticClass:"font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.day"))+" ")])]),a("div",{staticClass:"col-span-7"},[a("div",{staticClass:"flex gap-x-1"},[a("div",{staticClass:"w-1/2"},[a("span",{staticClass:"hidden md:block font-bold",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.startingTime"))+" ")]),a("span",{staticClass:"block md:hidden font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v("Start")])]),a("div",{staticClass:"w-1/2"},[a("span",{staticClass:"hidden md:block font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.endingTime"))+" ")]),a("span",{staticClass:"block md:hidden font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v("End")])])])])]),e._l(e.getSchedules,(function(t,n){return[a("div",{key:n,staticClass:"grid grid-cols-12 py-2 gap-x-1 ",class:n%2?"bg-gray-50":""},[a("div",{staticClass:"col-span-5  flex items-center"},[a("t-toggle",{attrs:{variant:"success",readonly:e.form.use_org_business_hours},model:{value:t.is_active,callback:function(a){e.$set(t,"is_active",a)},expression:"item.is_active"}}),a("span",{staticClass:"ml-1 md-3 font-bold text-14px  ",class:e.form.use_org_business_hours?"text-gray-500":"text-oGray"},[e._v(e._s(t.day))])],1),a("div",{staticClass:"col-span-7 "},[a("div",{staticClass:"flex gap-x-1 items-center"},[a("div",{staticClass:"w-1/2 flex items-center"},[e.form.use_org_business_hours||!t.is_active?a("div",{staticClass:"bg-gray-200 border-1 border-gray-700 px-5 py-1 w-full rounded-md text-gray-400"},[a("p",[e._v(e._s(t.start_time))])]):a("ClockPicker",{attrs:{placeholder:"--:--"},model:{value:t.start_time,callback:function(a){e.$set(t,"start_time",a)},expression:"item.start_time"}})],1),a("div",{staticClass:"w-1/2  flex items-center "},[e.form.use_org_business_hours||!t.is_active?a("div",{staticClass:"bg-gray-200 border-1 border-gray-700 px-5 py-1 w-full rounded-md  text-gray-400"},[a("p",[e._v(e._s(t.end_time))])]):a("ClockPicker",{attrs:{placeholder:"--:--"},model:{value:t.end_time,callback:function(a){e.$set(t,"end_time",a)},expression:"item.end_time"}})],1)])])])]})),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v("Save")])],2)]}}])})},K=[],W=a("6eb7"),z={name:"Step4",components:{ClockPicker:W["a"]},props:{primaryKey:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!0,form:{use_org_business_hours:null,fleet_schedules:[],org_schedules:[]}}},created:function(){var e=this;this.formData||this.$http.get(d["c"].fleet.details(this.primaryKey)).then((function(t){e.form.use_org_business_hours=t.data.use_org_business_hours,t.data.business_hour_settings.forEach((function(t){e.mapDataWithModel("fleet",t)})),t.data.org_business_hour_settings.forEach((function(t){e.mapDataWithModel("org",t)}))})).catch((function(e){return console.log(e)})).finally((function(){return e.isLoading=!1}))},watch:{formData:{deep:!0,immediate:!0,handler:function(e){var t=this;e&&(this.isLoading=!1,this.form.use_org_business_hours=e.use_org_business_hours,e.business_hour_settings.forEach((function(e){t.mapDataWithModel("fleet",e)})),e.org_business_hour_settings.forEach((function(e){t.mapDataWithModel("org",e)})))}}},computed:{getSchedules:function(){return this.form.use_org_business_hours?this.form.org_schedules:this.form.fleet_schedules}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,a="PATCH",n=d["c"].fleet.update(e.primaryKey),i=new FormData,i.append("use_org_business_hours",e.form.use_org_business_hours),r=e.$http({url:n,method:a,data:i}),o=[r],e.form.use_org_business_hours||(s=[],e.form.fleet_schedules.length&&(e.form.fleet_schedules.forEach((function(t){var a="PATCH",n=d["c"].settings.businessHour.update(t.id),i=new FormData;i.append("is_active",t.is_active),i.append("start_time",t.start_time),i.append("end_time",t.end_time);var r=e.$http({url:n,method:a,data:i});s.push(r)})),s.forEach((function(e){return o.push(e)})))),t.next=10,e.$http.all(o).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];console.log("step-res",a);var i="Fleet Settings updated successfully";e.$notify({group:"bottomLeft",type:"success",title:"Success",text:i}),e.$emit("save",{step:4})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 10:case"end":return t.stop()}}),t)})))()},formatTimeForClockPicker:function(e){var t=e.split(":");return t[0]+":"+t[1]},mapDataWithModel:function(e,t){"org"===e&&this.form.org_schedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)}),"fleet"===e&&this.form.fleet_schedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)})}}},J=z,Y=Object(C["a"])(J,H,K,!1,null,null,null),X=Y.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"mb-6 border-b"},[a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.operator.title.doNotNeedOperatorConfigCheckbox"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.doNotNeedOperatorConfigCheckbox"),wrapped:""},model:{value:e.skipOperatorApp,callback:function(t){e.skipOperatorApp=t},expression:"skipOperatorApp"}})],1),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingEarningRate"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingEarningRate"),placeholder:"e.g. 20",disabled:e.skipOperatorApp,haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.charging_task.rate,callback:function(t){e.$set(e.form.charging_task,"rate",t)},expression:"form.charging_task.rate"}}),a("text-input",{attrs:{rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingPoint"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingPoint"),placeholder:"e.g. 5",disabled:e.skipOperatorApp},model:{value:e.form.charging_task.point,callback:function(t){e.$set(e.form.charging_task,"point",t)},expression:"form.charging_task.point"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalanceEarningRate"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalanceEarningRate"),placeholder:"e.g. 20",disabled:e.skipOperatorApp,haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.rebalance_task.rate,callback:function(t){e.$set(e.form.rebalance_task,"rate",t)},expression:"form.rebalance_task.rate"}}),a("text-input",{attrs:{rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalancePoint"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalancePoint"),placeholder:"e.g. 5",disabled:e.skipOperatorApp},model:{value:e.form.rebalance_task.point,callback:function(t){e.$set(e.form.rebalance_task,"point",t)},expression:"form.rebalance_task.point"}}),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},Z=[],ee=a("e94b"),te={name:"Step5",components:{TextInput:ee["default"]},props:{primaryKey:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,skipOperatorApp:!1,form:{charging_task:{rate:"",point:""},rebalance_task:{rate:"",point:""}},permanentAddressIsSame:!1,currencySymbol:""}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(this.form=Object(o["a"])({},e.data),this.currencySymbol=e.currencySymbol)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:5,data:this.form})}}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,s,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.skipOperatorApp){t.next=3;break}return e.$emit("save",{step:5}),t.abrupt("return");case 3:for(i in a=d["c"].fleet.operator.charging(e.primaryKey),n=new FormData,e.form.charging_task)n.append(i,e.form.charging_task[i]);for(l in r=e.$http.patch(a,n),o=d["c"].fleet.operator.rebalance(e.primaryKey),s=new FormData,e.form.rebalance_task)s.append(l,e.form.rebalance_task[l]);return u=e.$http.patch(o,s),e.isLoading=!0,t.next=14,e.$http.all([r,u]).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a[0],r=a[1],o={charging_task:i.data,rebalance_task:r.data};console.log("submit3",o),e.$emit("save",{step:5,data:o});var s="Fleet ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:s})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 14:case"end":return t.stop()}}),t)})))()}}},ae=te,ne=(a("7777"),Object(C["a"])(ae,Q,Z,!1,null,"1293add3",null)),ie=(ne.exports,{name:"FleetAddEdit",components:{EdgeStack:u["a"],XStepper:c["a"],XStepperNavigation:p["a"],AppButton:m["default"],Step1:A,Step2:q,Step3:G,Step4:X},props:{esId:{type:String,default:"fleet-add-edit"},stepperMode:{type:String,default:"free"},stepperStep:{type:Number,default:1},primaryKey:{required:!1},rawData:{type:Object,required:!1},orgPaymentConfig:{type:Object,required:!1},busy:{type:Boolean,default:!1},operatorAppEnabled:{type:Boolean,default:!1},orgEmailSettings:{type:Object,required:!0}},data:function(){var e=[{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.details")),free:!0},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.configuration")),free:!1},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.payment")),free:!1},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.schedule")),free:!1}];return{isLoading:!1,errors:[],stepperSteps:e,stepperCurrentStep:null,countries:[],serviceAreas:[],organizations:[],paymentGateways:[],primaryKeyProxy:null,orgIdProxy:null,isRidingTimeBaseWallet:null}},computed:{isEditing:function(){return!!this.rawData},orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},getRidingTimeBaseWalletStatus:function(){return this.isRidingTimeBaseWallet},getTitleText:function(){return this.isEditing?this.$t("components.fleetManagement.addEdit.headline.update"):this.$t("components.fleetManagement.addEdit.headline.add")},getSubmitButtonText:function(){return this.stepperCurrentStep>this.stepperSteps.length-1?this.$t("components.stepNavigation.finish"):this.isEditing?this.$t("components.stepNavigation.update"):this.$t("components.stepNavigation.saveAndContinue")},getStep1FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:1})),t=l()(this.rawData,e);return t.city=this.rawData.city.id,t.country=this.rawData.country.id,t}return null},getStep2FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:2})),t=l()(this.rawData,e);return t.currency_symbol=this.rawData.country.currency_symbol,Object(o["a"])(Object(o["a"])({},t),{},{vehicle_types_exempted_from_parking:t.vehicle_types_exempted_from_parking.length>0?t.vehicle_types_exempted_from_parking:["NONE"]})}return null},getStep3FormData:function(){if(this.rawData){var e,t=this.getFormModel({step:3}),a=t.payment,n=t.topup;console.log("topup-t",n);var i=null===(e=this.rawData)||void 0===e?void 0:e.default_payment_gateway_config,r=Object.keys(a),o=l()(i,r),s=Object.keys(n),d=l()(this.rawData,s);return console.log("getStep3FormData",i,o,d),{payment:o||{},paymentId:i&&i.id?i.id:"",useOrgPaymentGateway:this.rawData.use_org_payment_gateway_config,orgId:this.rawData&&this.rawData.organization?this.rawData.organization:"",topup:d,currencySymbol:this.rawData.country.currency_symbol,is_free_ride_allowed:this.rawData.is_free_ride_allowed,should_auto_refill_wallet_on_negative_balance:this.rawData.should_auto_refill_wallet_on_negative_balance,auto_refill_amount:this.rawData.auto_refill_amount,is_rider_allowed_to_toggle_auto_refill_setting:this.rawData.is_rider_allowed_to_toggle_auto_refill_setting,should_apply_extra_charge_for_non_local_rider:this.rawData.should_apply_extra_charge_for_non_local_rider,extra_charge_percentage_for_non_local_rider:this.rawData.extra_charge_percentage_for_non_local_rider,fleetCountry:this.rawData.country.name}}return null},getStep4FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:4})),t=l()(this.rawData,e);return t}return null}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(d["c"].dropdown.country()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 2:return e.countries=t.sent,t.next=5,e.$http.get(d["c"].organization.index()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 5:return e.organizations=t.sent,t.next=8,e.$http.get(d["c"].dropdown.serviceAreas()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 8:return e.serviceAreas=t.sent,t.next=11,e.$http.get(d["c"].dropdown.paymentGateways()).then((function(e){return e.data.data})).catch((function(e){return console.log("paymentGatewayErr",e)}));case 11:return e.paymentGateways=t.sent,t.next=14,e.$http.get(d["c"].settings.riderApp.index(e.orgId)).then((function(e){if(1===e.data.rider_wallet_balance_type)return!0})).catch((function(e){return console.log("appSettingsErr",e)}));case 14:e.isRidingTimeBaseWallet=t.sent;case 15:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1}))},beforeDestroy:function(){this.$edgeStack.emitter.off(this.$edgeStack.getEventName("closed",this.esId))},watch:{primaryKey:{immediate:!0,handler:function(e){e&&(this.primaryKeyProxy=e)}},stepperStep:{immediate:!0,handler:function(e){this.stepperCurrentStep=e}}},methods:{onDirty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.esId;return!0===e?this.$edgeStack.shouldConfirm(t):this.$edgeStack.shouldNotConfirm(t)},onSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{step:null,data:{}};if(console.log(e),1===e.step){this.primaryKeyProxy=e.data.id,this.orgIdProxy=e.data.organization;var t=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,t),this.beforeNextStep()}if(2===e.step){var a=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,a),this.beforeNextStep()}if(3===e.step){var n=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,n),this.beforeNextStep()}4===e.step&&(this.$xStepper.defineSteps(this.esId,this.stepperSteps),this.onLastStep())},beforeNextStep:function(){"free"===this.stepperMode?this.$edgeStack.shouldNotConfirm(this.esId):this.$edgeStack.shouldConfirm(this.esId),this.$xStepper.navigate(this.esId).next()},onLastStep:function(){var e=this;this.$edgeStack.shouldNotConfirm(this.esId),this.$edgeStack.close(this.esId),this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1})),this.$emit("refresh")},onSubmit:function(e){this.$refs["step".concat(e.step)].submit()},getFormModel:function(e){var t=e.step;return 1===t?{name:"",organization:"",warehouse_name:"",warehouse_lat:"",warehouse_lon:"",rent_store_address:null,use_rent_store_location:null,use_company_details:!1,country:"",city:"",zip_code:"",address:"",whatsapp_business_number:"",support_phone_number:"",registration_no:"",tax_id:"",brand_logo:null}:2===t?{id:"",is_parking_required:!1,return_vehicle_to_pickup_area:!1,vehicle_types_exempted_from_parking:["NONE"],reservation_time:"",reservation_allowed:null,on_ride_location_update_frequency:"",off_ride_location_update_frequency:"",end_ride_picture:null,max_speed_limit:"",low_speed_limit:null,medium_speed_limit:null,high_speed_limit:null,visibility:"",is_group_trip_enabled:null,private_code:"",private_code_refresh_mins:"",email_enabled:!1,email_address:"",email_api_key:"",email_is_smtp:!1,email_host:"",email_port:"",email_password:"",email_encryption:"",pause_ride_enabled:"",user_init_balance:"",invitation_amount:"",invitee_invitation_amount:"",invitation_required_trips:"",riding_time_unit:1,minimum_riding_time_for_topup:0,amount_per_riding_time_unit:"",should_apply_tax_on_topup_amount:"",topup_tax_percentage:""}:3===t?{payment:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""},topup:{user_deposit:null,user_balance_threshold:null,user_topup_min_balance:null,user_topup_max_balance:null,user_topup_daily_limit:null},paymentId:"",should_auto_refill_wallet_on_negative_balance:!1,auto_refill_amount:0,is_rider_allowed_to_toggle_auto_refill_setting:!1}:4===t?{use_org_business_hours:!1,business_hour_settings:[],org_business_hour_settings:[]}:5===t?{charging_task:{rate:"",point:""},rebalance_task:{rate:"",point:""}}:void console.error("Unknown step param! - ".concat(t))}}}),re=ie,oe=(a("4f38"),Object(C["a"])(re,n,i,!1,null,"09e90716",null));t["a"]=oe.exports},"4d8c":function(e,t,a){var n=a("5c69");function i(e){var t=null==e?0:e.length;return t?n(e,1):[]}e.exports=i},"4f38":function(e,t,a){"use strict";a("a400")},5010:function(e,t,a){},"535d":function(e,t,a){"use strict";a("14a4")},5422:function(e,t,a){"use strict";a("5f45")},"5c69":function(e,t,a){var n=a("087d"),i=a("0621");function r(e,t,a,o,s){var l=-1,d=e.length;a||(a=i),s||(s=[]);while(++l<d){var u=e[l];t>0&&a(u)?t>1?r(u,t-1,a,o,s):n(s,u):o||(s[s.length]=u)}return s}e.exports=r},"5d6a":function(e,t,a){"use strict";a("ef45")},"5ea3":function(e,t,a){"use strict";(function(e){var a="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=a}).call(this,a("c8ba"))},"5f45":function(e,t,a){},"5f81":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-gray-700 text-14px  ",class:{"text-gray-700":!!e.error,"text-red-600":!!e.error,"flex items-center":e.isShowInfoSymbol}},[e._t("default",(function(){return[e._v(e._s(e.text))]})),e.isShowInfoSymbol?n("img",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"<div class='w-40 p-1 text-xs'>"+e.info+"</div>",expression:"`<div class='w-40 p-1 text-xs'>${info}</div>`",modifiers:{top:!0}}],staticClass:"cursor-pointer ml-1 h-4 w-4",attrs:{src:a("b581")}}):e._e()],2)},i=[],r={name:"InputLabel",props:{text:{type:String},error:{type:String},isShowInfoSymbol:{type:Boolean,default:!1},info:{type:String,default:""}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"612a":function(e,t,a){},"619d":function(e,t,a){},6277:function(e,t,a){"use strict";a("dbe9")},"656b4":function(e,t,a){var n=a("e2e4"),i=a("f4d6");function r(e,t){t=n(t,e);var a=0,r=t.length;while(null!=e&&a<r)e=e[i(t[a++])];return a&&a==r?e:void 0}e.exports=r},"6d84":function(e,t,a){"use strict";a("ce45")},"6eb7":function(e,t,a){"use strict";var n=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"clock-picker"},[n("div",{class:(e={},e[t.inputContainerClass]=!0,e[t.inputValueClass]=t.hasValue,e[t.inputErrorClass]=t.hasError&&t.isTouched,e[t.inputFocusClass]=t.isFocused,e)},[t.label?n("label",{class:t.labelClass,attrs:{for:t.uuid}},[t._v(t._s(t.label))]):t._e(),n("input",{ref:"input",class:t.inputClass,attrs:{type:"text",id:t.uuid,name:t.name,placeholder:t.placeholder,readonly:""},domProps:{value:t.value},on:{click:t.open}}),t._t("error",(function(){return[t._v(t._s(t.hasError&&t.isTouched?"Error":""))]}))],2),n("clock-picker-dialog",{ref:"dialog",attrs:{"initial-value":t.hasError||!t.value?"--:--":t.value,"disabled-from":t.disabledFrom,"disabled-to":t.disabledTo,"done-text":t.doneText,"cancel-text":t.cancelText,color:t.color,"disabled-color":t.disabledColor,"active-color":t.activeColor,"active-text-color":t.activeTextColor,"close-on-overlay":t.closeOnOverlay,font:t.font},on:{cancel:function(e){return t.cancel(e)},done:function(e){return t.handleDone(e)}}})],1)},i=[],r=(a("d3b7"),a("25f0"),a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clock-picker__dialog",class:{"clock-picker__dialog--active":e.opened}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.opened?a("div",{staticClass:"clock-picker__dialog-drop",on:{click:function(t){return e.onOverlayClick()}}}):e._e()]),a("transition",{attrs:{name:"scale",mode:"out-in"}},[e.opened?a("div",{staticClass:"clock-picker__dialog-body"},[a("div",{staticClass:"clock-picker__dialog-header",style:{backgroundColor:e.activeColor,color:e.activeTextColor,fontFamily:e.font}},[a("span",{on:{click:function(t){e.isHoursSet=!1}}},[e._v(e._s(e.tempHours||e.hours))]),a("b",[e._v(":")]),a("span",[e._v(e._s(e.tempMins||e.minutes))])]),a("div",{staticClass:"clock-picker__dialog-content"},[a("transition",{attrs:{name:"scale",mode:"out-in"}},[e.isHoursSet?e._e():a("clock-picker-hours",{attrs:{"disabled-from":e.disabledHoursFrom,"disabled-to":e.disabledHoursTo,"disabled-mins-from":e.disabledMinutesFrom,"disabled-mins-to":e.disabledMinutesTo,value:e.hours,color:e.color,"disabled-color":e.disabledColor,"active-color":e.activeColor,"active-text-color":e.activeTextColor,font:e.font},on:{"set-temp-hours":function(t){return e.onSetTempHours(t)},set:function(t){return e.setHours(t)}}})],1),a("transition",{attrs:{name:"scale",mode:"out-in"}},[e.isHoursSet?a("clock-picker-minutes",{attrs:{"should-disable-all":e.shouldDisableAllMinutes,"should-disable-from":e.shouldDisableFrom,"disabled-from":e.disabledMinutesFrom,"disabled-to":e.disabledMinutesTo,"disabled-hr-from":e.disabledHoursFrom,"disabled-hr-to":e.disabledHoursTo,value:e.minutes,color:e.color,"disabled-color":e.disabledColor,"active-color":e.activeColor,"active-text-color":e.activeTextColor,font:e.font},on:{"set-temp-mins":function(t){return e.onSetTempMins(t)},set:function(t){return e.setMinutes(t)}}}):e._e()],1)],1),a("div",{staticClass:"clock-picker__dialog-actions"},[a("button",{staticClass:"clock-picker__dialog-action",style:{color:e.activeColor},attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.cancelText)+" ")]),a("button",{staticClass:"clock-picker__dialog-action",style:{color:e.isDoneDisabled?e.disabledColor:e.activeColor},attrs:{type:"button",disabled:e.isDoneDisabled},on:{click:e.done}},[e._v(" "+e._s(e.doneText)+" ")])])]):e._e()])],1)}),o=[],s=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clock-picker__hours"},[a("clock-picker-canvas",{attrs:{width:280,disabled:e.disabledRange,"default-value":e.value,color:e.color,"disabled-color":e.disabledColor,"active-color":e.activeColor,"active-text-color":e.activeTextColor,font:e.font},on:{"value-change":function(t){return e.$emit("set-temp-hours",t)},set:function(t){return e.setValue(t)}}})],1)}),l=[],d=(a("a9e3"),a("caad"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clock-picker__canvas"},[a("canvas",{ref:"canvas",style:{width:e.width+"px",height:e.width+"px"},attrs:{width:e.width*e.pxRatio,height:e.width*e.pxRatio},on:{mouseup:function(t){return e.onMouseUp(t)},mousedown:function(t){return e.onMouseDown(t)},touchstart:function(t){return e.onTouchStart(t)},touchend:function(t){return e.onTouchEnd(t)},mousemove:function(t){return e.onMouseMove(t)},touchmove:function(t){return e.onTouchMove(t)}}})])}),u=[],c=a("2909"),p=(a("159b"),a("b64b"),a("cb29"),a("7db0"),{name:"ClockPickerCanvas",props:{width:{type:Number,default:320},type:{type:String,default:"hours"},hoursIn:{type:Number,default:24},gisture:{type:Number,default:30},disabled:{type:Array,default:function(){return[]}},defaultValue:{type:String,default:null},activeColor:{type:String,default:"#a48bd1"},activeTextColor:{type:String,default:"white"},color:{type:String,default:"#757575"},disabledColor:{type:String,default:"#ddd"},font:{type:String,default:""}},data:function(){return{radius:null,ctx:null,anglesMap:{},anglesMapFactor:null,$canvas:null,value:null,lastEvent:{x:null,y:null,angle:null,radius:null,round:null},moveStart:!1,throttleDelay:100,scheduled:!1,alpha:.7}},computed:{pxRatio:function(){return"undefined"===typeof window?1:window.devicePixelRatio}},methods:{init:function(){this.getCanvasElement(),this.setDimensions(),this.setAnglesMap(),this.setTypography(),this.drawNumbers()},getCanvasElement:function(){this.$canvas=this.$refs.canvas,this.ctx=this.$canvas.getContext("2d")},setDimensions:function(){var e=this.gisture*this.pxRatio,t=this.width*this.pxRatio;return this.ctx.translate(t/2,t/2),this.radius=t/2-e/2,{x:t/2,y:t/2}},setTypography:function(){var e=14*this.pxRatio;this.ctx.font="normal normal 500 ".concat(e,"px ").concat(this.font),this.ctx.textAlign="center",this.ctx.textBaseline="middle"},setAnglesMap:function(){var e="hours"===this.type?12:60;this.anglesMapFactor=360/e;for(var t=0;t<e;t+=1){var a=this.anglesMapFactor*t-90;this.anglesMap[this.padNo(t)]={angle:this.roundAngle(a),round:Math.floor((a+90)/360)}}if("hours"===this.type&&24===this.hoursIn)for(var n=12;n<24;n+=1){var i=this.anglesMapFactor*n-90;this.anglesMap[this.padNo(n)]={angle:this.roundAngle(i),round:Math.floor((i+90)/360)}}},drawNumbers:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.pxRatio*this.width,n=[],i=[],r=[];Object.keys(this.anglesMap).forEach((function(a){var o=e.gisture*e.pxRatio,s=e.anglesMap[a],l=s.angle,d=s.round,u=e.radius-d*o,c=u*Math.cos(l*(Math.PI/180)),p=u*Math.sin(l*(Math.PI/180));e.disabled.includes(a)?i.push([a,c,p]):t&&e.value===a?n.push(a,c,p):t||e.lastEvent.value!==a?r.push([a,c,p]):n.push(a,c,p)})),this.ctx.clearRect(-a/2,-a/2,a,a),this.drawCircle(0,0,3,this.activeColor),this.drawLine(n[1],n[2],this.activeColor),this.drawCircle(n[1],n[2],12,this.activeColor,this.alpha,!0),i.forEach((function(t){return e.drawDisabled.apply(e,Object(c["a"])(t))})),r.forEach((function(t){return e.drawNormalValue.apply(e,Object(c["a"])(t))})),this.drawValue.apply(this,n)},drawDisabled:function(e,t,a){var n=this.type,i=Number(e)%5===0;if("hours"===n||i)return this.ctx.fillStyle=this.disabledColor,void this.ctx.fillText(e,t,a);this.drawCircle(t,a,2,this.disabledColor)},drawValue:function(e,t,a){var n=this.shouldDrawNo(e);this.ctx.fillStyle=this.activeColor,n?(this.ctx.fillStyle=this.activeTextColor,this.ctx.fillText(e,t,a)):this.drawCircle(t,a,3,this.activeTextColor)},drawNormalValue:function(e,t,a){if(this.shouldDrawNo(e))return this.ctx.fillStyle=this.color,void this.ctx.fillText(e,t,a);this.drawCircle(t,a,2,this.activeColor,.3)},shouldDrawNo:function(e){var t=Number(e)%5===0;return"hours"===this.type||t},drawCircle:function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=a*this.pxRatio,s=this.width*this.pxRatio;this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e,t,o,0,2*Math.PI),this.ctx.closePath(),r&&(this.ctx.clip(),this.ctx.clearRect(-s/2,-s/2,s,s)),this.ctx.fillStyle=n,this.ctx.globalAlpha=i,this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=1},drawLine:function(e,t,a){this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(e,t),this.ctx.closePath(),this.ctx.strokeStyle=a,this.ctx.globalAlpha=this.alpha,this.ctx.lineWidth=this.pxRatio,this.ctx.stroke(),this.ctx.restore(),this.ctx.globalAlpha=1},padNo:function(e){var t="00".concat(e);return t.slice(t.length-2)},roundAngle:function(e){var t=e<0?360+e:e,a=Math.floor(t/360);return t-360*a},onPointChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.pxRatio*this.width;this.ctx.clearRect(-a/2,-a/2,a,a),this.calculateLastEvent(e),this.getSelectedNo(t),this.drawNumbers(t)},calculateLastEvent:function(e){var t=e.clientX,a=e.clientY,n=this.gisture*this.pxRatio,i=this.$canvas.getBoundingClientRect(),r=i.x+this.width/2,o=i.y+this.width/2,s=t-r,l=a-o,d=Math.atan(l/s),u=Math.abs(s/Math.cos(d))*this.pxRatio,c=Math.round((this.radius-u)/n),p=d*(180/Math.PI);return s<0?p+=180:l<0&&(p+=360),c<0?c=0:c>1&&(c=1),"hours"!==this.type&&(c=0),"hours"===this.type&&12===this.hoursIn&&(c=0),this.lastEvent=Object.assign(this.lastEvent,{x:s,y:l,angle:p,radius:u,round:c}),this.lastEvent},getSelectedNo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.anglesMapFactor,n=this.lastEvent.angle%a>=a/2?1:0,i=Math.floor(this.lastEvent.angle/a),r=a*(i+n),o=Object.keys(this.anglesMap).find((function(t){var a=e.anglesMap[t],n=a.angle,i=a.round,o=r>=360?r-360:r;return n===o&&i===e.lastEvent.round}));if(t&&this.$emit("value-change",""),!this.disabled.includes(o)){if(t)return this.value=o,void this.$emit("set",this.value);this.$emit("value-change",o),this.lastEvent.value=o}},onMouseDown:function(){this.moveStart=!0},onMouseMove:function(e){var t=this;this.moveStart&&(this.scheduled||(this.scheduled=!0,setTimeout((function(){t.onPointChange(e,!1),t.scheduled=!1}),this.throttleDelay)))},onMouseUp:function(e){this.moveStart=!1,this.onPointChange(e,!0)},onTouchStart:function(){this.moveStart=!0},onTouchMove:function(e){var t=this;this.moveStart&&(this.scheduled||(this.scheduled=!0,setTimeout((function(){var a=e.changedTouches;t.onPointChange(a[0],!1),t.scheduled=!1}),this.throttleDelay)))},onTouchEnd:function(e){var t=e.changedTouches;this.onPointChange(t[0],!0),this.moveStart=!1}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.disabled.includes(e.defaultValue);e.value=t?"--":e.defaultValue,e.init()}))}}),m=p,f=(a("5422"),a("2877")),g=Object(f["a"])(m,d,u,!1,null,null,null),h=g.exports,_={name:"ClockPickerHours",props:{value:{type:String,default:"00"},disabledFrom:{type:String,default:null},disabledTo:{type:String,default:null},disabledMinsFrom:{type:String,default:null},disabledMinsTo:{type:String,default:null},activeColor:{type:String,default:"black"},activeTextColor:{type:String,default:"white"},color:{type:String,default:"#757575"},disabledColor:{type:String,default:"#ddd"},font:{type:String,default:""}},components:{ClockPickerCanvas:h},data:function(){return{}},computed:{disabledRange:function(){var e=this.disabledFrom,t=this.disabledTo,a=this.disabledMinsFrom,n=this.disabledMinsTo,i="00"===a?0:1,r="59"===n?0:1;return e===t?[]:e&&t?this.makeArray(Number(e)+i,Number(t)-r):e?this.makeArray(Number(e)+i,23):t&&t>0?this.makeArray(0,Number(t)-r):[]}},methods:{makeArray:function(e,t){for(var a=[],n=e;n<=t;n++){var i="00".concat(n>23?0:n);a.push(i.slice(i.length-2))}return a},isDisabled:function(e){return this.disabledRange.includes(e)},itemClass:function(e){var t=Number(e);return 12===t?0:t>12?t-12:t},setValue:function(e){this.$emit("set",e)}}},y=_,v=(a("1dd1"),Object(f["a"])(y,s,l,!1,null,null,null)),b=v.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clock-picker__minutes"},[a("clock-picker-canvas",{attrs:{disabled:e.disabledRange,type:"mins",width:280,"default-value":e.value,color:e.color,"disabled-color":e.disabledColor,"active-color":e.activeColor,"active-text-color":e.activeTextColor,font:e.font},on:{"value-change":function(t){return e.$emit("set-temp-mins",t)},set:function(t){return e.setValue(t)}}})],1)},w=[],k={name:"ClockPickerMinutes",props:{buttonClass:{type:String},value:{type:String},shouldDisableAll:{type:Boolean,default:!1},shouldDisableFrom:{type:Boolean,default:!1},disabledFrom:{type:String,default:null},disabledTo:{type:String,default:null},disabledHrFrom:{type:String,default:null},disabledHrTo:{type:String,default:null},activeColor:{type:String,default:"black"},activeTextColor:{type:String,default:"white"},color:{type:String,default:"#757575"},disabledColor:{type:String,default:"#ddd"},font:{type:String,default:""}},components:{ClockPickerCanvas:h},data:function(){return{}},computed:{minutes:function(){return this.makeArray(0,59)},disabledRange:function(){var e=this.disabledFrom,t=this.disabledTo,a=this.shouldDisableFrom,n=this.disabledHrFrom,i=this.disabledHrTo,r=n===i;return a&&e?this.makeArray(e,r?t:59):t?this.makeArray(0,t):[]}},methods:{makeArray:function(e,t){for(var a=[],n=e;n<=t;n++){var i="00".concat(n);a.push(i.slice(i.length-2))}return a},isDisabled:function(e){return this.disabledRange.includes(e)},isSmall:function(e){return Number(e)%5!==0},setValue:function(e){this.$emit("set",e)}}},C=k,S=(a("d5f9"),Object(f["a"])(C,x,w,!1,null,null,null)),E=S.exports,$={name:"ClockPickerDialog",props:{disabledFrom:{type:String,default:null},disabledTo:{type:String,default:null},initialValue:{type:String,default:"00:00"},cancelText:{type:String,default:null},doneText:{type:String,default:null},activeColor:{type:String,default:"black"},activeTextColor:{type:String,default:"white"},color:{type:String,default:"#757575"},disabledColor:{type:String,default:"#ddd"},closeOnOverlay:{type:Boolean,default:!1},font:{type:String,default:""}},components:{ClockPickerHours:b,ClockPickerMinutes:E},watch:{initialValue:function(){this.updateTime()}},data:function(){return{opened:!1,hours:this.initialValue.slice(0,2),minutes:this.initialValue.slice(3,5),isHoursSet:!1,isMinutesSet:!1,tempHours:"",tempMins:""}},computed:{disabledHoursFrom:function(){var e=this.disabledFrom;return e?e.slice(0,2):null},disabledMinutesFrom:function(){var e=this.disabledFrom;return e?e.slice(3,5):null},disabledHoursTo:function(){var e=this.disabledTo;return e?e.slice(0,2):null},disabledMinutesTo:function(){var e=this.disabledTo,t=this.isHoursSet,a=this.disabledHoursTo,n=this.hours;return!e||t&&n!==a?null:e.slice(3)},shouldDisableAllMinutes:function(){var e=this.isHoursSet,t=this.hours,a=this.disabledHoursTo,n=this.disabledHoursFrom;return e&&t<a&&t>n},shouldDisableFrom:function(){var e=this.isHoursSet,t=this.hours,a=this.disabledHoursFrom;return e&&t===a},isDoneDisabled:function(){var e=/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,t="".concat(this.hours,":").concat(this.minutes);return!e.test(t)}},methods:{open:function(){this.opened=!0},close:function(){this.opened=!1,this.isHoursSet=!1,this.isMinutesSet=!1},cancel:function(){this.$emit("cancel","".concat(this.hours,":").concat(this.minutes)),this.hours=this.initialValue.slice(0,2),this.minutes=this.initialValue.slice(3)},setHours:function(e){this.hours=e,this.isHoursSet=!0},setMinutes:function(e){this.minutes=e,this.isMinutesSet=!0},done:function(){this.$emit("done","".concat(this.hours,":").concat(this.minutes))},updateTime:function(){this.hours=this.initialValue.slice(0,2),this.minutes=this.initialValue.slice(3,5)},onSetTempHours:function(e){this.tempHours=e},onSetTempMins:function(e){this.tempMins=e},onOverlayClick:function(){this.closeOnOverlay&&this.cancel()}},mounted:function(){this.updateTime()}},T=$,P=(a("b5e8"),Object(f["a"])(T,r,o,!1,null,null,null)),M=P.exports,A=function(){var e=Math.random().toString(36).substring(2,9),t=Date.now().toString(36);return"clock_picker_input_".concat(t+e)},D={container:"clock-picker__input-container",focus:"clock-picker__input--focused",error:"clock-picker__input--error",value:"clock-picker__input--has-value",input:"clock-picker__input",label:"clock-picker__label"},O={name:"VueClockPicker",props:{inputContainerClass:{type:String,default:D.container},inputClass:{type:String,default:D.input},inputFocusClass:{type:String,default:D.focus},inputErrorClass:{type:String,default:D.error},inputValueClass:{type:String,default:D.value},labelClass:{type:String,default:D.label},placeholder:{type:String,default:""},name:{type:String,default:"time_input"},label:{type:String,default:""},id:{type:String,default:null},required:{type:Boolean,default:!1},value:{type:String,default:""},disabledFrom:{type:String,default:""},disabledTo:{type:String,default:""},doneText:{type:String,default:"done"},cancelText:{type:String,default:"cancel"},activeColor:{type:String,default:"#a48bd1"},activeTextColor:{type:String,default:"white"},color:{type:String,default:"#757575"},disabledColor:{type:String,default:"#ddd"},closeOnEsc:{type:Boolean,default:!1},closeOnOverlay:{type:Boolean,default:!1},font:{type:String,default:"Roboto, arial, san-serif"}},components:{ClockPickerDialog:M},data:function(){return{isFocused:!1,dialogOpen:!1,showError:!1,isTouched:!1,uuid:this.id||A(),timeErrors:{}}},computed:{hasError:function(){return this.checkErrors()&&this.isTouched},hasValue:function(){return!!this.value}},methods:{open:function(){var e=this;this.emitEvent("beforeOpen"),this.$refs.dialog.open(),this.$nextTick((function(){e.emitEvent("open")}))},close:function(){var e=this;this.emitEvent("beforeClose"),this.$refs.dialog.close(),this.$nextTick((function(){e.emitEvent("close"),e.isTouched=!0}))},cancel:function(e){this.emitEvent("cancel",e),this.close()},onKeydown:function(e){"Escape"===e.key&&this.cancel()},handleDone:function(e){this.$emit("input",e),this.validate(),this.$emit("timeset",e),this.close()},emitEvent:function(e,t){this.$emit(e,t)},getValue:function(){return this.value},setValue:function(e){this.handleDone(e)},isValid:function(){var e=/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;return e.test(this.value)},isDisabled:function(e){var t=parseInt(this.disabledFrom.slice(0,2),10),a=parseInt(this.disabledTo.slice(0,2),10),n=parseInt(this.disabledFrom.slice(3),10),i=parseInt(this.disabledTo.slice(3),10),r=parseInt(e.slice(0,2),10),o=parseInt(e.slice(3),10);return t===a&&t===r&&0===n&&59===i||t===a&&t===r&&o>=n&&o<=i||t<a&&r===t&&n<=o||t<a&&r===a&&i>=o||t<a&&r>t&&r<a||t>a},checkErrors:function(){var e=this.required&&!this.value,t=this.value&&!this.isValid(),a=this.value&&this.isDisabled(this.value);return this.timeErrors=Object.assign(this.timeErrors,{required:e,notValid:t,disabled:a}),e||t||a},validate:function(){this.showError=this.checkErrors(),this.isTouched=!0}},mounted:function(){this.value&&this.validate(),this.closeOnEsc&&document.body.addEventListener("keydown",this.onKeydown)},destroy:function(){this.closeOnEsc&&document.body.removeEventListener("keydown",this.onKeydown)}},L=O,R=(a("6277"),Object(f["a"])(L,n,i,!1,null,null,null));t["a"]=R.exports},7334:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationProvider",{ref:"providerRef",class:"relative w-full appearance-none",attrs:{tag:"div",vid:e.vid||e.name,name:e.name||e.vid,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,r=t.required,o=t.ariaInput,s=t.ariaMsg;return[n("label",{staticClass:"block pb-1 w-full font-semibold leading-normal text-14px",class:{"text-gray-700":!i[0],"text-red-600":i[0]||""!=e.customError},attrs:{for:e.name},on:{click:e.focus}},[e.label?n("div",{staticClass:"flex"},[n("span",[e._v(e._s(e.label))]),n("span",[e._v(e._s(r?" *":""))]),e.isInfoEnabled?n("img",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"<div class='max-w-xs p-1 text-xs'>"+e.infoDescription+"</div>",expression:"\n          `<div class='max-w-xs p-1 text-xs'>${infoDescription}</div>`\n        "}],staticClass:"cursor-pointer ml-1 w-4 h-4",attrs:{src:a("b581")}}):e._e()]):e._e(),e.showDescription?n("div",{staticClass:"description"},[e._v(e._s(e.description))]):e._e()]),"tel"===e.type?[n("vue-tel-input",e._g(e._b({ref:"inputRef",class:{"border-gray-400 placeholder-gray-500 telinput":!i[0]||""==e.customError,"border-red-600 placeholder-red-400 custom-phone":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray telinput":e.disabled,"has-value telinput":e.hasValue},attrs:{validCharactersOnly:"",disabled:e.disabled},on:{input:e.onChangePhoneNumber},model:{value:e.valueProxy,callback:function(t){e.valueProxy=t},expression:"valueProxy"}},"vue-tel-input",Object.assign({},e.$attrs),!1),e.getListeners))]:"textarea"==e.type?[n("textarea",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block py-1 px-4 h-10 w-full leading-normal bg-white rounded border border-gray-400 outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{disabled:e.disabled},domProps:{value:e.valueProxy},on:{input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"textarea",Object.assign({},o,e.$attrs),!1),e.getListeners))]:"password"===e.type?[n("div",{staticClass:"relative"},["checkbox"===e.typeProxy?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.valueProxy)?e._i(e.valueProxy,null)>-1:e.valueProxy},on:{change:function(t){var a=e.valueProxy,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.valueProxy=a.concat([r])):o>-1&&(e.valueProxy=a.slice(0,o).concat(a.slice(o+1)))}else e.valueProxy=i}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):"radio"===e.typeProxy?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.valueProxy,null)},on:{change:function(t){e.valueProxy=null}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{disabled:e.disabled,type:e.typeProxy},domProps:{value:e.valueProxy},on:{input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)),n("div",{staticClass:"eye-body",on:{click:e.onTogglePasswordFeild}},["text"===e.typeProxy?n("i",{staticClass:"far fa-eye"}):e._e(),"password"===e.typeProxy?n("i",{staticClass:"far fa-eye-slash"}):e._e()])])]:"richselect"===e.type?[e.haveUnitText?n("div",{staticClass:"flex items-center  rounded-md",class:e.getUnitPortionBgVariant+"-background"},[n("div",{staticClass:"w-full"},[n("TRichSelect",e._g(e._b({ref:"inputRef",attrs:{delay:e.delaySearchTime,disabled:e.disabled,variant:{danger:!!i[0],readonly:e.disabled}},on:{focus:e.focusHandler,blur:e.blurHandler},model:{value:e.valueProxy,callback:function(t){e.valueProxy=t},expression:"valueProxy"}},"TRichSelect",Object.assign({},o,e.$attrs),!1),e.getListeners))],1),n("div",{staticClass:"h-full  text-oWhite",class:e.getUnitWidthVariantClass},[n("p",{staticClass:"py-1 text-center"},[e._v(e._s(e.unitText))])])]):n("div",[n("TRichSelect",e._g(e._b({ref:"inputRef",attrs:{delay:e.delaySearchTime,disabled:e.disabled,variant:{danger:!!i[0],readonly:e.disabled}},model:{value:e.valueProxy,callback:function(t){e.valueProxy=t},expression:"valueProxy"}},"TRichSelect",Object.assign({},o,e.$attrs),!1),e.getListeners))],1)]:"color"===e.type?[n("div",{staticClass:"flex items-center space-x-4"},["checkbox"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-10 h-10 p-0 border border-gray-400 rounded",class:{"border-gray-400":!i[0],"border-red-600":i[0],"bg-oLightestGray":e.disabled,"has-value":e.hasValue},attrs:{disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.valueProxy)?e._i(e.valueProxy,null)>-1:e.valueProxy},on:{change:function(t){var a=e.valueProxy,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.valueProxy=a.concat([r])):o>-1&&(e.valueProxy=a.slice(0,o).concat(a.slice(o+1)))}else e.valueProxy=i}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):"radio"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-10 h-10 p-0 border border-gray-400 rounded",class:{"border-gray-400":!i[0],"border-red-600":i[0],"bg-oLightestGray":e.disabled,"has-value":e.hasValue},attrs:{disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.valueProxy,null)},on:{change:function(t){e.valueProxy=null}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-10 h-10 p-0 border border-gray-400 rounded",class:{"border-gray-400":!i[0],"border-red-600":i[0],"bg-oLightestGray":e.disabled,"has-value":e.hasValue},attrs:{disabled:e.disabled,type:e.type},domProps:{value:e.valueProxy},on:{input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)),n("input",e._g({directives:[{name:"model",rawName:"v-model",value:e.hexValue,expression:"hexValue"}],staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400":!i[0],"border-red-600":i[0],"bg-oLightestGray":e.disabled,"text-oLightGray":e.disabled},attrs:{disabled:e.disabled,type:"text",maxlength:"7",placeholder:"#000000"},domProps:{value:e.hexValue},on:{input:[function(t){t.target.composing||(e.hexValue=t.target.value)},e.onHexInputChange]}},e.getListeners))])]:["date"===e.type?n("div",["checkbox"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue},attrs:{max:e.max,min:e.min,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.valueProxy)?e._i(e.valueProxy,null)>-1:e.valueProxy},on:{change:function(t){var a=e.valueProxy,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.valueProxy=a.concat([r])):o>-1&&(e.valueProxy=a.slice(0,o).concat(a.slice(o+1)))}else e.valueProxy=i}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):"radio"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue},attrs:{max:e.max,min:e.min,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.valueProxy,null)},on:{change:function(t){e.valueProxy=null}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue},attrs:{max:e.max,min:e.min,disabled:e.disabled,type:e.type},domProps:{value:e.valueProxy},on:{input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners))]):n("div",[e.haveUnitText?n("div",{staticClass:"flex items-center  rounded-md",class:e.getUnitPortionBgVariant+"-background"},[n("div",{staticClass:"w-full"},["checkbox"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:"checkbox"},domProps:{checked:Array.isArray(e.valueProxy)?e._i(e.valueProxy,null)>-1:e.valueProxy},on:{focus:e.focusHandler,blur:e.blurHandler,change:function(t){var a=e.valueProxy,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.valueProxy=a.concat([r])):o>-1&&(e.valueProxy=a.slice(0,o).concat(a.slice(o+1)))}else e.valueProxy=i}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):"radio"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:"radio"},domProps:{checked:e._q(e.valueProxy,null)},on:{focus:e.focusHandler,blur:e.blurHandler,change:function(t){e.valueProxy=null}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:e.type},domProps:{value:e.valueProxy},on:{focus:e.focusHandler,blur:e.blurHandler,input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners))]),n("div",{staticClass:"h-full  text-oWhite",class:e.getUnitWidthVariantClass},[n("p",{staticClass:"py-1 text-center"},[e._v(e._s(e.unitText))])])]):n("div",["checkbox"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:"checkbox"},domProps:{checked:Array.isArray(e.valueProxy)?e._i(e.valueProxy,null)>-1:e.valueProxy},on:{change:function(t){var a=e.valueProxy,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.valueProxy=a.concat([r])):o>-1&&(e.valueProxy=a.slice(0,o).concat(a.slice(o+1)))}else e.valueProxy=i}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):"radio"===e.type?n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:"radio"},domProps:{checked:e._q(e.valueProxy,null)},on:{change:function(t){e.valueProxy=null}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners)):n("input",e._g(e._b({directives:[{name:"model",rawName:"v-model",value:e.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:" block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!i[0],"border-red-600 placeholder-red-400":i[0],"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled,"has-value":e.hasValue,"outline-none px-2 appearance-none ring-0 focus:ring-0 focus:outline-none":e.isSearch},attrs:{disabled:e.disabled,max:e.max,min:e.min,type:e.type},domProps:{value:e.valueProxy},on:{input:function(t){t.target.composing||(e.valueProxy=t.target.value)}}},"input",Object.assign({},o,e.$attrs),!1),e.getListeners))])])],e.haveSuggestion?n("div",{staticClass:"flex items-center min-h-6"},[n("span",{staticClass:"block text-xs ",class:e.isSuggestionAlert?e.suggestionAlertClass:e.suggestionNonAlertClass,domProps:{innerHTML:e._s(e.suggestionText)}})]):e._e(),e.showError?n("div",[e.haveSuggestion||""!=e.customError?e._e():n("div",{staticClass:"flex items-center min-h-6"},[n("span",e._b({directives:[{name:"show",rawName:"v-show",value:i[0],expression:"errors[0]"}],staticClass:"block text-xs text-red-600",domProps:{textContent:e._s(i[0])}},"span",s,!1))]),""!=e.customError?n("div",{staticClass:"flex items-center min-h-6"},[n("span",e._b({directives:[{name:"show",rawName:"v-show",value:e.customError,expression:"customError"}],staticClass:"block text-xs text-red-600",domProps:{textContent:e._s(e.customError)}},"span",s,!1))]):e._e()]):e._e()]}}])})},i=[],r=(a("caad"),a("a9e3"),a("2332")),o=a("26ee"),s=function(){return o["a"].Date.now()},l=s,d=/\s/;function u(e){var t=e.length;while(t--&&d.test(e.charAt(t)));return t}var c=u,p=/^\s+/;function m(e){return e?e.slice(0,c(e)+1).replace(p,""):e}var f=m,g=a("1bc6"),h=NaN,_=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,v=/^0o[0-7]+$/i,b=parseInt;function x(e){if("number"==typeof e)return e;if(Object(g["a"])(e))return h;if(Object(r["a"])(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r["a"])(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=f(e);var a=y.test(e);return a||v.test(e)?b(e.slice(2),a?2:8):_.test(e)?h:+e}var w=x,k="Expected a function",C=Math.max,S=Math.min;function E(e,t,a){var n,i,o,s,d,u,c=0,p=!1,m=!1,f=!0;if("function"!=typeof e)throw new TypeError(k);function g(t){var a=n,r=i;return n=i=void 0,c=t,s=e.apply(r,a),s}function h(e){return c=e,d=setTimeout(v,t),p?g(e):s}function _(e){var a=e-u,n=e-c,i=t-a;return m?S(i,o-n):i}function y(e){var a=e-u,n=e-c;return void 0===u||a>=t||a<0||m&&n>=o}function v(){var e=l();if(y(e))return b(e);d=setTimeout(v,_(e))}function b(e){return d=void 0,f&&n?g(e):(n=i=void 0,s)}function x(){void 0!==d&&clearTimeout(d),c=0,n=u=i=d=void 0}function E(){return void 0===d?s:b(l())}function $(){var e=l(),a=y(e);if(n=arguments,i=this,u=e,a){if(void 0===d)return h(u);if(m)return clearTimeout(d),d=setTimeout(v,t),g(u)}return void 0===d&&(d=setTimeout(v,t)),s}return t=w(t)||0,Object(r["a"])(a)&&(p=!!a.leading,m="maxWait"in a,o=m?C(w(a.maxWait)||0,t):o,f="trailing"in a?!!a.trailing:f),$.cancel=x,$.flush=E,$}var $=E,T=["url","text","email","search","number","date","textarea","tel","password","richselect","color"],P=["small","standard","large"],M={name:"AppInput",inheritAttrs:!1,components:{},props:{vid:{type:String,default:void 0},name:{type:String,default:""},type:{type:String,default:"text",validator:function(e){return T.includes(e)}},min:{type:String},max:{type:String},label:{type:String,default:""},rules:{type:[Object,String],default:""},value:{type:null,default:""},disabled:{type:Boolean,default:!1},variant:{type:null,default:""},isSearch:{type:Boolean,default:!1},delaySearchTime:{type:Number,required:!1,default:400},isInfoEnabled:{type:Boolean,default:!0},infoDescription:{type:String,default:""},showError:{type:Boolean,default:!0},showDescription:{type:Boolean,default:!1},description:{type:String,default:""},haveSuggestion:{type:Boolean,default:!1},isSuggestionAlert:{type:Boolean,default:!1},suggestionAlertClass:{type:String,default:"text-red-500 font-semibold"},suggestionNonAlertClass:{type:String,default:"text-gray-700"},suggestionText:{type:String,default:""},haveUnitText:{type:Boolean,default:!1},unitText:{type:String,default:""},unitWidthVariant:{type:String,default:"standard",validator:function(e){return P.includes(e)}}},data:function(){return{typeProxy:"",valueProxy:"",customError:"",unitPortionBgVariant:"blur",hexValue:""}},computed:{hasValue:function(){return!!this.valueProxy},getListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:$((function(t){var a="richselect"===e.type||"tel"===e.type?t:t.target.value;e.$emit("input",a)}),400)})},getUnitPortionBgVariant:function(){return this.unitPortionBgVariant},getUnitWidthVariantClass:function(){return"".concat(this.unitWidthVariant,"-unit-width")}},watch:{value:{deep:!1,immediate:!0,handler:function(e){e!==this.valueProxy&&(this.valueProxy=e,this.hexValue=this.valueProxy)}},type:{deep:!1,immediate:!0,handler:function(e){e!==this.typeProxy&&(this.typeProxy=e)}},valueProxy:{handler:function(e){this.hexValue=e}}},methods:{onHexInputChange:function(e){var t=e.target.value,a=/^#[0-9A-Fa-f]{6}$/.test(t);a?(this.valueProxy=t,this.customError=""):this.customError="Invalid hex color code"},onChangePhoneNumber:function(e,t){t.isValid&&(this.valueProxy=t.number.input,this.customError="")},onTogglePasswordFeild:function(){this.typeProxy="password"===this.typeProxy?"text":"password"},focus:function(){this.$refs.inputRef.focus()},focusHandler:function(){this.unitPortionBgVariant="focus",console.log("handler-focus")},blurHandler:function(){this.unitPortionBgVariant="blur",console.log("handler-blur")}}},A=M,D=(a("a238"),a("2877")),O=Object(D["a"])(A,n,i,!1,null,"0c9f5680",null);t["default"]=O.exports},"758b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative w-full"},[a("google-places-autocomplete",{on:{resultChanged:e.onChangingPlace,resultCleared:e.onClearingPlace},scopedSlots:e._u([{key:"input",fn:function(t){var n=t.context,i=t.events,r=t.actions;return a("div",{},[a("label",{staticClass:"font-bold text-gray-700 text-14px"},[e._v(" "+e._s(e.label)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:n.input,expression:"context.input"}],class:e.disabled?"places-autocomplete disabled":"places-autocomplete enabled",attrs:{type:"search",autocomplete:"autocomplete-off",placeholder:e.placeholder,disabled:e.disabled},domProps:{value:n.input},on:{focus:i.inputHasReceivedFocus,input:[function(t){t.target.composing||e.$set(n,"input",t.target.value)},i.inputHasChanged],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),r.selectItemFromList.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),r.shiftResultsSelection.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),r.unshiftResultsSelection.apply(null,arguments))}]}})])}},{key:"item",fn:function(t){var n=t.place;return a("span",{},[a("i",{staticClass:"mr-3 fas fa-map-marker-alt text-oLightGray"}),e._v(" "+e._s(n.structured_formatting.main_text)+" "),a("span",{staticClass:"text-xs text-oLightGray"},[e._v(" "+e._s(n.structured_formatting.secondary_text?"- "+n.structured_formatting.secondary_text:"")+" ")])])}},{key:"activeItem",fn:function(t){var n=t.place;return a("span",{},[a("i",{staticClass:"mr-3 fas fa-map-marker-alt text-oLightGray"}),e._v(" "+e._s(n.structured_formatting.main_text)+" "),a("span",{staticClass:"text-xs text-oLightGray"},[e._v(" "+e._s(n.structured_formatting.secondary_text?"- "+n.structured_formatting.secondary_text:"")+" ")])])}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],r=a("1da1"),o=(a("96cf"),a("4d28")),s={name:"PlacesAutocomplete",props:{value:{required:!1},label:{type:String,required:!1,default:"Search Location"},disabled:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:"Enter address / location"}},components:{GooglePlacesAutocomplete:o["GooglePlacesAutocomplete"]},methods:{onChangingPlace:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$emit("update:place",e);case 1:case"end":return a.stop()}}),a)})))()},onClearingPlace:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("clear:place");case 1:case"end":return t.stop()}}),t)})))()}}},l=s,d=(a("3200"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports},"765e":function(e,t,a){"use strict";a("e2ab")},7668:function(e,t,a){},"76dd":function(e,t,a){var n=a("ce86");function i(e){return null==e?"":n(e)}e.exports=i},7777:function(e,t,a){"use strict";a("003a")},"77f7":function(e,t,a){},7948:function(e,t){function a(e,t){var a=-1,n=null==e?0:e.length,i=Array(n);while(++a<n)i[a]=t(e[a],a,e);return i}e.exports=a},"7cd2":function(e,t,a){"use strict";a("cc64")},8604:function(e,t,a){var n=a("26e8"),i=a("e2c0");function r(e,t){return null!=e&&i(e,t,n)}e.exports=r},"89d9":function(e,t,a){var n=a("656b4"),i=a("159a"),r=a("e2e4");function o(e,t,a){var o=-1,s=t.length,l={};while(++o<s){var d=t[o],u=n(e,d);a(u,d)&&i(l,r(d,e),u)}return l}e.exports=o},"8a12":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-over-right",{attrs:{id:e.sorId},on:{showModal:e.showModal},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"flex items-center justify-between"},[a("h2",{staticClass:"font-semibold text-gray-900 text-22px"},[e._v(" "+e._s(e.titleText)+" ")])])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"flex items-center justify-end mt-6"},[a("slide-over-right-trigger",{attrs:{id:e.sorId}},[a("anchor-button",{attrs:{variant:"secondary"}},[e._v("Cancel")])],1),a("t-button",{staticClass:"ml-3",attrs:{type:"submit"},on:{click:function(t){return e.$refs.submitButton.click()}}},[e._v(e._s(e.actionButtonText))])],1)]},proxy:!0}])},[a("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submit)}}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",label:"Pricing Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Vehicle Type",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Vehicle Type *"}}),a("t-rich-select",{attrs:{name:"options",options:e.vehicleTypes,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.bike_category,callback:function(t){e.$set(e.form,"bike_category",t)},expression:"form.bike_category"}}),a("div",{},[a("input-error-item",{attrs:{message:n[0]}})],1)]}}],null,!0)})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2 mt-2"},[a("ValidationProvider",{attrs:{name:"Fleet",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Fleet *"}}),a("t-rich-select",{attrs:{name:"options",options:e.billingFleets,valueAttribute:"id",textAttribute:"name",hideSearchBox:!1,variant:{danger:!!n[0]}},model:{value:e.form.fleet,callback:function(t){e.$set(e.form,"fleet",t)},expression:"form.fleet"}}),a("div",{staticClass:"mt-4"},[a("input-error-item",{attrs:{message:n[0]}})],1)]}}],null,!0)})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("AppInput",{attrs:{rules:"",label:"Fleet Currency",value:e.selectedFleetCurrency||"Please select a fleet",disabled:""}}),a("div",{staticClass:"h-2"})],1)]),a("div",{staticClass:"flex items-center mt-2"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required|between:0,1000",label:"Vehicle Reservation Price"+e.selectedFleetCurrencyFormatted},model:{value:e.form.vehicle_reservation_fees,callback:function(t){e.$set(e.form,"vehicle_reservation_fees",e._n(t))},expression:"form.vehicle_reservation_fees"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{type:"number",rules:"required",step:"0.01",label:"Unlock Charge"+e.selectedFleetCurrencyFormatted},model:{value:e.form.vehicle_unlock_fees,callback:function(t){e.$set(e.form,"vehicle_unlock_fees",e._n(t))},expression:"form.vehicle_unlock_fees"}})],1)]),e.rentalEnabled?a("div",{staticClass:"flex items-center mt-2"},[a("div",{staticClass:"w-full pl-2"},[a("text-input",{attrs:{rules:"required|between:0,1000",label:"Vehicle Rental Price/hour"+e.selectedFleetCurrencyFormatted},model:{value:e.form.vehicle_rental_per_hour_fees,callback:function(t){e.$set(e.form,"vehicle_rental_per_hour_fees",e._n(t))},expression:"form.vehicle_rental_per_hour_fees"}})],1)]):e._e(),a("div",{staticClass:"flex items-center pt-2 pl-2"},[a("ValidationProvider",{attrs:{vid:"tax_enabled",name:" ",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Tax Plan*"}}),a("div",{staticClass:"flex"},[a("label",{staticClass:"flex items-center mt-px ml-2 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.useTaxPlanField,expression:"useTaxPlanField"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"useTaxPlanField"},domProps:{value:!0,checked:e._q(e.useTaxPlanField,!0)},on:{change:function(t){e.useTaxPlanField=!0}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("Yes")])]),a("label",{staticClass:"flex items-center mt-px ml-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.useTaxPlanField,expression:"useTaxPlanField"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"useTaxPlanField"},domProps:{value:!1,checked:e._q(e.useTaxPlanField,!1)},on:{change:function(t){e.useTaxPlanField=!1}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("No")])])])]}}],null,!0)})],1),e.useTaxPlanField?a("div",{staticClass:"flex items-center pt-6"},[a("div",{staticClass:"w-full pl-2"},[a("ValidationProvider",{attrs:{name:"Tax Plan",rules:e.useTaxPlanField?"required":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"LOAD TAX PLAN"}}),a("t-rich-select",{attrs:{name:"options",options:e.taxPlans,valueAttribute:"id",textAttribute:"name",hideSearchBox:!1},model:{value:e.form.tax_plan,callback:function(t){e.$set(e.form,"tax_plan",t)},expression:"form.tax_plan"}}),a("div",{staticClass:"mt-4"},[a("input-error-item",{attrs:{message:n[0]}})],1)]}}],null,!0)})],1)]):e._e(),a("div",{staticClass:"flex items-center pt-4"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"1",label:"Billing Unit (Mins)"},model:{value:e.form.billing_unit_mins,callback:function(t){e.$set(e.form,"billing_unit_mins",e._n(t))},expression:"form.billing_unit_mins"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"First Unit Fees"+e.selectedFleetCurrencyFormatted},model:{value:e.form.first_unit_fees,callback:function(t){e.$set(e.form,"first_unit_fees",e._n(t))},expression:"form.first_unit_fees"}})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"Default Unit Fees"+e.selectedFleetCurrencyFormatted},model:{value:e.form.default_unit_fees,callback:function(t){e.$set(e.form,"default_unit_fees",e._n(t))},expression:"form.default_unit_fees"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"Max Billing Per Ride"},model:{value:e.form.max_billing_per_ride,callback:function(t){e.$set(e.form,"max_billing_per_ride",e._n(t))},expression:"form.max_billing_per_ride"}})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{type:"number",step:"0.01",label:"Min Billing Per Ride"},model:{value:e.form.minimum_ride_fee,callback:function(t){e.$set(e.form,"minimum_ride_fee",e._n(t))},expression:"form.minimum_ride_fee"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{type:"number",step:"0.01",label:"Min Billing Per Rental"},model:{value:e.form.minimum_rental_fee,callback:function(t){e.$set(e.form,"minimum_rental_fee",e._n(t))},expression:"form.minimum_rental_fee"}})],1)]),a("div",{staticClass:"flex items-center pt-4 pb-5 pl-2"},[a("ValidationProvider",{attrs:{vid:"status",name:" ",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Status *"}}),a("div",{staticClass:"flex"},[a("label",{staticClass:"flex items-center mt-px ml-2 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.status_active,expression:"form.status_active"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"status"},domProps:{value:!0,checked:e._q(e.form.status_active,!0)},on:{change:function(t){return e.$set(e.form,"status_active",!0)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("Active")])]),a("label",{staticClass:"flex items-center mt-px ml-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.status_active,expression:"form.status_active"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"status"},domProps:{value:!1,checked:e._q(e.form.status_active,!1)},on:{change:function(t){return e.$set(e.form,"status_active",!1)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("Inactive")])])])]}}],null,!0)})],1),a("div",{staticClass:"flex items-center pt-4 pb-5 pl-2"},[a("ValidationProvider",{attrs:{vid:"pause_ride_fee_same_as_billing",name:" ",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Is the pause ride fee same as above? *"}}),a("div",{staticClass:"flex"},[a("label",{staticClass:"flex items-center mt-px ml-2 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.pause_ride_fee_same_as_billing,expression:"form.pause_ride_fee_same_as_billing"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"pause_ride_fee_same_as_billing"},domProps:{value:!0,checked:e._q(e.form.pause_ride_fee_same_as_billing,!0)},on:{change:function(t){return e.$set(e.form,"pause_ride_fee_same_as_billing",!0)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("Yes")])]),a("label",{staticClass:"flex items-center mt-px ml-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.pause_ride_fee_same_as_billing,expression:"form.pause_ride_fee_same_as_billing"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"pause_ride_fee_same_as_billing"},domProps:{value:!1,checked:e._q(e.form.pause_ride_fee_same_as_billing,!1)},on:{change:function(t){return e.$set(e.form,"pause_ride_fee_same_as_billing",!1)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("No")])])])]}}],null,!0)})],1),e.form.pause_ride_fee_same_as_billing?e._e():a("div",{staticClass:"flex items-center pt-2"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"1",label:"Pause Billing Unit (Mins)"},model:{value:e.form.pause_billing_unit_mins,callback:function(t){e.$set(e.form,"pause_billing_unit_mins",e._n(t))},expression:"form.pause_billing_unit_mins"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"Pause First Unit Fees"},model:{value:e.form.pause_first_unit_fees,callback:function(t){e.$set(e.form,"pause_first_unit_fees",t)},expression:"form.pause_first_unit_fees"}})],1)]),e.form.pause_ride_fee_same_as_billing?e._e():a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"Pause Next Unit Fees"+e.selectedFleetCurrencyFormatted},model:{value:e.form.pause_default_unit_fees,callback:function(t){e.$set(e.form,"pause_default_unit_fees",t)},expression:"form.pause_default_unit_fees"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{vid:"Tax applied on pauses",name:"Tax applied on pauses",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("AppFormLabel",{attrs:{error:n[0],text:"Tax applied on pauses?"}}),a("TRichSelect",{attrs:{options:[{text:"Yes",value:!0},{text:"No",value:!1}],placeholder:"Select one","value-attribute":"value","text-attribute":"text",variant:{danger:!!n[0]},"hide-search-box":""},model:{value:e.form.tax_applies_to_pause_fees,callback:function(t){e.$set(e.form,"tax_applies_to_pause_fees",t)},expression:"form.tax_applies_to_pause_fees"}}),a("AppFormError",{attrs:{message:n[0]}})]}}],null,!0)})],1)]),a("div",{staticClass:"flex items-center pt-4 pb-5 pl-2"},[a("ValidationProvider",{attrs:{vid:"is_pre_auth_required",name:" ",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Is pre auth required? *"}}),a("div",{staticClass:"flex"},[a("label",{staticClass:"flex items-center mt-px ml-2 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.is_pre_auth_required,expression:"form.is_pre_auth_required"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"is_pre_auth_required"},domProps:{value:!0,checked:e._q(e.form.is_pre_auth_required,!0)},on:{change:function(t){return e.$set(e.form,"is_pre_auth_required",!0)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("Yes")])]),a("label",{staticClass:"flex items-center mt-px ml-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.is_pre_auth_required,expression:"form.is_pre_auth_required"}],staticClass:"p-1 form-radio",attrs:{type:"radio",name:"is_pre_auth_required"},domProps:{value:!1,checked:e._q(e.form.is_pre_auth_required,!1)},on:{change:function(t){return e.$set(e.form,"is_pre_auth_required",!1)}}}),a("span",{staticClass:"ml-2 text-sm"},[e._v("No")])])])]}}],null,!0)})],1),e.form.is_pre_auth_required?a("div",{staticClass:"flex items-center pt-2"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"required",type:"number",step:"0.01",label:"Pre auth hold amount *"},model:{value:e.form.pre_auth_hold_amount,callback:function(t){e.$set(e.form,"pre_auth_hold_amount",e._n(t))},expression:"form.pre_auth_hold_amount"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Pre auth ride condition",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Pre auth ride condition*"}}),a("t-rich-select",{attrs:{name:"pre_auth_ride_condition",options:e.rideTypeChoice,valueAttribute:"value",textAttribute:"name",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.pre_auth_ride_condition,callback:function(t){e.$set(e.form,"pre_auth_ride_condition",t)},expression:"form.pre_auth_ride_condition"}}),a("div",{},[a("input-error-item",{attrs:{message:n[0]}})],1)]}}],null,!0)})],1)]):e._e(),a("div",{staticClass:"w-full pl-2"},[a("input-label",{attrs:{text:"Billing Description"}}),a("t-textarea",{attrs:{name:"billingDescription"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),a("input-error-item")],1),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v("Save")])])]}}])})],1)},i=[],r=a("5530"),o=a("1da1"),s=(a("b64b"),a("7db0"),a("96cf"),a("9f07")),l=a.n(s),d=a("4a9d"),u=a("99e4"),c=a("8992"),p=a("04ec"),m=a("fd9d"),f=a("15e7"),g=a("e94b"),h=a("5f81"),_={name:"AddBillingPlan",components:{SlideOverRight:p["default"],SlideOverRightTrigger:m["default"],AnchorButton:f["default"],TextInput:g["default"],InputLabel:h["default"]},props:{vehicleTypes:Array},data:function(){return{rentalEnabled:!1,isLoading:!1,billingFleets:[],taxPlans:[],item:{},form:{},errors:[],sorId:u["a"].events.sorId,useTaxPlanField:"no"}},watch:{form:{handler:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.form.tax_enabled=!!t.tax_plan,this.isEditing){e.next=5;break}if("S"!=t.bike_category&&"P"!=t.bike_category&&"E"!=t.bike_category){e.next=5;break}return e.next=5,this.loadBillingFleets();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deep:!0}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==(a=e.$org)&&void 0!==a&&null!==(n=a.subscription)&&void 0!==n&&n.rental_enabled&&(e.rentalEnabled=!0),t.next=3,e.loadBillingFleets();case 3:return t.next=5,e.$http.get(c["a"].api.taxPlans).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 5:e.taxPlans=t.sent;case 6:case"end":return t.stop()}}),t)})))()},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},isEditing:function(){return Object.keys(this.item).length>4},titleText:function(){return this.isEditing?"Edit Billing Plan":"Add Billing Plan"},actionButtonText:function(){return this.isEditing?"Update":"Save"},vehicleTypeChoice:function(){return[{name:"Scooter",value:"P"},{name:"Bike",value:"S"},{name:"E-Bike",value:"E"},{name:"SuperCoco",value:"C"},{name:"Kenota",value:"K"}]},rideTypeChoice:function(){return[{name:"First Ride",value:"FIRST_RIDE"},{name:"All Ride",value:"ALL_RIDE"}]},selectedFleet:function(){var e=this;return this.form.fleet?this.billingFleets.find((function(t){return t.id==e.form.fleet})):null},selectedFleetCurrency:function(){var e,t;return this.selectedFleet?null===(e=this.selectedFleet)||void 0===e||null===(t=e.country)||void 0===t?void 0:t.currency_symbol:null},selectedFleetCurrencyFormatted:function(){return this.selectedFleetCurrency?"(".concat(this.selectedFleetCurrency,")"):""}},mounted:function(){var e=this;d["a"].$on(u["a"].events.editingData,(function(t){if(console.log("ii",t),e.item=t,e.item.existing_fleet){var a=e.billingFleets.some((function(t){return JSON.stringify(e.item.existing_fleet)===JSON.stringify(t)}));a||(console.log("-------- Propagating Existing Fleet into Edit --------"),e.billingFleets.push(e.item.existing_fleet)),delete e.item.existing_fleet}null==t.pause_ride_fee_same_as_billing&&(t.pause_ride_fee_same_as_billing=!0),null==t.is_pre_auth_required&&(t.is_pre_auth_required=!0),null==t.tax_applies_to_pause_fees&&(t.tax_applies_to_pause_fees=!1),t.tax_plan?e.useTaxPlanField=!0:e.useTaxPlanField=!1,e.form=Object(r["a"])({},e.item),console.log("tp",e.form.tax_plan,"hideTp=",e.useTaxPlanField)}))},methods:{showModal:function(){dispatchEvent(new Event(u["a"].events.sorToggle))},loadBillingFleets:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(c["a"].api.billingFleets(this.form.bike_category)).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 2:this.billingFleets=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,o,s,d,c,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,t=this.isEditing?"PATCH":"POST",a=this.isEditing?u["a"].api.update(this.item.id):u["a"].api.create,n=Object(r["a"])({},this.form),this.useTaxPlanField||(n.tax_plan=""),this.form.default_currency&&(n.default_currency=this.form.default_currency.id),console.log("form = ",n),i=new l.a(n).toFormData(),o=this.isEditing?"Billing plan updated successfully":"Billing plan added successfully",e.prev=9,e.next=12,this.$http({method:t,url:a,data:i});case 12:return s=e.sent,this.isLoading=!1,dispatchEvent(new Event(u["a"].events.sorClose)),dispatchEvent(new Event(u["a"].events.refresh)),this.form={},this.$notify({group:"generic",type:"success",title:"Success",text:o},3e3),e.abrupt("return",s.status);case 21:for(m in e.prev=21,e.t0=e["catch"](9),this.isLoading=!1,console.error("Error occured!",e.t0.response),d=null===e.t0||void 0===e.t0?void 0:e.t0.response.data,c=Object.keys(d).length,p=2e3*c,d)this.$notify({group:"bottomLeft",type:"error",title:"Error Occured",text:m+": "+d[m]},p),p-=2e3;case 29:case"end":return e.stop()}}),e,this,[[9,21]])})));function t(){return e.apply(this,arguments)}return t}()}},y=_,v=(a("2e8b"),a("2877")),b=Object(v["a"])(y,n,i,!1,null,"6d11028a",null);t["a"]=b.exports},"93e2":function(e,t,a){"use strict";a("7668")},"99e4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={api:{index:"/dashboard/pricing-plans/",create:"/dashboard/pricing-plans/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/pricing-plans/".concat(e,"/")},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/pricing-plans/".concat(e,"/")}},events:{name:"billing-plan",refresh:"rid-billing-plan",sorId:"billing-plan",sorOpen:"sor-open-billing-plan",sorClose:"sor-close-billing-plan",sorToggle:"sor-toggle-billing-plan",editingData:"edit-billing-plan-data",viewingData:"view-billing-plan-data"}}},"9ea1":function(e,t,a){"use strict";t["a"]={methods:{copyContentToClipboard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{important:!1,title:"Copied",text:"Successfully copied to your clipboard"},a=document.createElement("textarea");a.value=e,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-99999px",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),this.$notify({group:t.important?"modal":"generic",type:"success",title:t.title,text:t.text},2e3)}}}},a238:function(e,t,a){"use strict";a("bf73")},a400:function(e,t,a){},a8c9:function(e,t,a){"use strict";a("612a")},abee:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Fleet",{attrs:{qso:e.qso,endpoint:e.endpoint,pageTitle:e.$t("components.fleetManagement.headline"),isShowOnlyPageTitle:!0}})},i=[],r=a("f18c"),o=a("c644"),s={name:"ViewOrganizationFleets",components:{Fleet:r["a"]},data:function(){return{qso:{append:"",prepend:"&"},endpoint:null}},created:function(){this.generateEndPoint()},methods:{generateEndPoint:function(){this.endpoint=o["a"].api.index+"?organization=".concat(this.$route.params.id)}}},l=s,d=a("2877"),u=Object(d["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports},b5e8:function(e,t,a){"use strict";a("d47f")},bc84:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"fade"}},[e.visibility?a("button",{staticClass:"fixed inset-0 w-full h-full opacity-50 cursor-default bg-oBlack",staticStyle:{"z-index":"1050"},attrs:{tabindex:"-1"},on:{click:function(t){return e.close(!1)}}}):e._e()]),a("transition",{attrs:{name:"SOR","enter-active-class":"transition duration-300 ease-out transform","leave-active-class":"transition duration-300 ease-in transform","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[e.visibility?a("div",{staticClass:"fixed bottom-0 right-0 h-full px-4 bg-white border-l-2 border-gray-400 border-opacity-50 shadow-lg container-sor",class:e.getEdgeStackSize},[e.busy?a("section",{staticClass:"py-4"},e._l(3,(function(e){return a("TheSuspense",{key:"es-skeletons-"+e,attrs:{rounded:""}},[a("SuspenseHeading",{attrs:{img:""}}),a("SuspenseText",{attrs:{lines:5}})],1)})),1):[a("header",{class:e.computeHeaderClassName},[e._t("header")],2),a("div",{staticClass:"pb-4 overflow-x-hidden overflow-y-auto sb-farhan"},[e._t("default")],2),e.hasFooterSlot?a("div",{staticClass:"w-full"},[a("footer",{class:e.footerClass.fixed+" "+e.footerClass.append+" "+(e.exitButton.hidden?"":"justify-between")+" "},[!1===e.exitButton.hidden?a("div",[a("anchor-button",{class:"",attrs:{variant:e.getCloseButtonVariant,isLoading:!1},on:{click:function(t){return e.close(!e.confirmFirst)}}},[e._v(" "+e._s(e.$t("components.stepNavigation.cancel"))+" ")])],1):e._e(),a("div",{staticClass:"flex items-center text-sm"},[e._t("footer",(function(){return[e._v(" Footer Slot ")]}),null,{close:e.close,confirmFirst:e.confirmFirst,exitButton:e.exitButton})],2)])]):e._e()]],2):e._e()]),e.confirmFirstVisibility?a("div",{staticClass:"fixed inset-0 w-full h-full transition-all duration-100 ease-in-out bg-gray-900 bg-opacity-50",staticStyle:{"z-index":"1105"}},[a("section",{staticClass:"relative max-w-lg mx-auto my-0 mt-20 overflow-y-auto transition-all duration-300 ease-in-out",staticStyle:{"z-index":"1110"}},[a("div",{staticClass:"relative overflow-hidden bg-white border border-gray-600 rounded-md shadow-lg"},[e._m(0),a("section",{staticClass:"px-4 text-2xl font-extrabold text-center"},[e._v(" "+e._s(e.confirmQuestion)+" ")]),a("section",{staticClass:"px-4 font-bold text-center"},[e._v(" "+e._s(e.$t("components.edgeStack.changeCaution"))+" ")]),a("section",{staticClass:"flex items-center px-4 py-4 mt-6 space-x-5 bg-gray-100"},[a("anchor-button",{class:"w-1/2",attrs:{variant:"warning-alt",isLoading:!1},on:{click:function(t){return e.close(!0)}}},[e._v(" "+e._s(e.$t("components.edgeStack.exit"))+" ")]),a("anchor-button",{class:"w-1/2",attrs:{variant:"primary",isLoading:!1},on:{click:e.closeConfirmFirst}},[e._v(" "+e._s(e.$t("components.edgeStack.cancel"))+" ")])],1)])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"flex items-center justify-center mt-8 mb-2 text-gray-500"},[a("i",{staticClass:"text-4xl fas fa-exclamation-circle"})])}],r=(a("d3b7"),a("3ca3"),a("ddb0"),a("a6f4")),o=a("e068"),s=Object(r["c"])({components:{AnchorButton:function(){return a.e("chunk-389dd0fb").then(a.bind(null,"15e7"))}},name:"EdgeStack",props:{id:{type:String,required:!0},confirm:{type:Boolean,required:!1,default:!1},confirmQuestion:{type:String,required:!1,default:"Are you sure you want to exit?"},fullWidth:{type:Boolean,required:!1,default:!1},sizeClass:{type:String,required:!1,default:""},headerClassName:{type:String,required:!1,default:"mt-16 px-4 mb-6"},value:{type:Boolean,required:!1,default:!1},busy:{type:Boolean,default:!1},exitButton:{type:Object,default:function(){return{text:"Cancel",hidden:!1}}},footerClass:{type:Object,default:function(){return{fixed:"flex items-center px-6 pt-2 pb-5 w-full h-auto",append:""}}},debug:{type:Boolean,required:!1,default:!1}},setup:function(e,t){var a=t.slots,n=t.scopedSlots;e.debug&&console.log("edgeStack",a,n);var i=Object(r["a"])((function(){var t,i,r=null!==(t=null!==(i=null===a||void 0===a?void 0:a.footer)&&void 0!==i?i:null===n||void 0===n?void 0:n.footer())&&void 0!==t&&t;return e.debug&&console.log("hasFooterSlot, slots, scopedSlots:",!!r,a,n),!!r})),s=new o["a"],l=Object(r["h"])(e.value);Object(r["j"])(l,(function(e){!0===e?(document.body.style.overflow="hidden",document.body.style.marginRight="11px"):setTimeout((function(){document.body.style.overflow="auto",document.body.style.marginRight=""}),200)}));var d=Object(r["h"])(!1),u=Object(r["h"])(!1),c=Object(r["a"])((function(){return!0===d.value?"warning-alt":"secondary"})),p=Object(r["a"])((function(){return e.sizeClass?e.sizeClass:e.fullWidth?"w-full":"w-full md:w-3/6 2xl:w-2/5"})),m=function(){o["b"].emit(s.getEventName("opening",e.id)),setTimeout((function(){l.value=!0}),250),setTimeout((function(){o["b"].emit(s.getEventName("opened",e.id))}),350)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.debug&&console.log({onClose_ConfirmFirst:d.value,onClose_Confirmed:t}),!0!==d.value||!1!==t?(u.value=!1,d.value=!1,o["b"].emit(s.getEventName("closing",e.id)),setTimeout((function(){l.value=!1}),250),setTimeout((function(){o["b"].emit(s.getEventName("closed",e.id))}),350)):u.value=!0},g=function(){var e=l.value;!0===e?f():m(),o["b"].emit(s.getEventName("toggled",{from:e,to:l.value}))},h=function(){u.value=!1},_=function(){o["b"].on(s.getEventName("open",e.id),(function(){m()})),o["b"].on(s.getEventName("close",e.id),(function(){f()})),o["b"].on(s.getEventName("toggle",e.id),(function(){g()})),o["b"].on(s.getEventName("confirmFirst",e.id),(function(e){d.value=e.confirmFirst})),e.debug&&console.log({EdgeStackComponents:{id:e.id,events:o["b"].all}})},y=function(){o["b"].off(s.getEventName("open",e.id),(function(){m()})),o["b"].off(s.getEventName("close",e.id),(function(){f()})),o["b"].off(s.getEventName("toggle",e.id),(function(){g()})),o["b"].off(s.getEventName("confirmFirst",e.id)),e.debug&&console.log({EdgeStackComponents:{id:e.id,events:o["b"].all}})};return Object(r["e"])(_),Object(r["f"])(y),{open:m,close:f,toggle:g,visibility:l,confirmFirst:d,confirmFirstVisibility:u,getEdgeStackSize:p,closeConfirmFirst:h,getCloseButtonVariant:c,computeHeaderClassName:Object(r["a"])((function(){return a.header?e.headerClassName:""})),hasFooterSlot:i}}}),l=s,d=(a("7cd2"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"1ef8d6ba",null);t["a"]=u.exports},bcf7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center font-semibold text-oDark text-28px"},[e._t("default",(function(){return[e._v(e._s(e.title))]})),e.hidePlus?e._e():a("div",{staticClass:"flex items-center justify-center w-6 h-6 ml-2 rounded-full cursor-pointer oto-plus-bg",on:{click:function(t){return e.handleClickingPlus()}}},[a("svg",{staticClass:"w-6 h-6 text-white",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})])])],2)},i=[],r={name:"TitlePlus",props:{title:{type:String},hidePlus:{type:Boolean,default:!1}},methods:{handleClickingPlus:function(){this.$emit("plus")}}},o=r,s=(a("a8c9"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"ec17ab2c",null);t["default"]=l.exports},bf73:function(e,t,a){},c18b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n["default"]})),a.d(t,"b",(function(){return u["a"]})),a.d(t,"c",(function(){return h}));a("7334");var n=a("acfd"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e.label?a("AppFormLabel",{attrs:{text:e.label,error:e.error}}):e._e(),a("div",{class:e.getWrapperClasses,on:{click:e.onClick,dragover:e.onDragover,dragleave:e.onDragleave,drop:e.onDrop}},[a("input",{ref:"file",staticClass:"overflow-hidden absolute w-0 h-0 opacity-0",attrs:{type:"file",accept:"*"},on:{change:e.onChange}}),e.previewImage||e.current?a("div",{key:"upload-preview-or-placeholder",staticClass:"w-full h-full"},[e.current&&!e.previewImage?a("img",{staticClass:"object-cover overflow-hidden w-full h-full",attrs:{src:e.current}}):e._e(),e.previewImage?a("img",{staticClass:"object-cover overflow-hidden w-full h-full",attrs:{src:e.previewImage}}):e._e()]):a("div",{key:"upload-preview-or-placeholder",staticClass:"grid place-items-center"},[a("span",{staticClass:"upload-text"},[e._v(e._s(e.text))]),a("button",{staticClass:"upload-button",attrs:{type:"button"}},[e._v(e._s(e.buttonText))])])]),e.label?a("AppFormError",{attrs:{text:e.label,error:e.error}}):e._e()],1)},r=[],o={name:"UploadFileAlt",props:{value:{required:!1},current:{required:!1},label:{type:String,required:!1,default:"Upload File"},error:{type:[String,Boolean],required:!1,default:""},text:{type:String,required:!1,default:"Select or Drag files to upload"},buttonText:{type:String,required:!1,default:"Upload"},variant:{requried:!1,default:"default"}},data:function(){return{file:null,previewImage:null}},computed:{getWrapperClasses:function(){return"upload-wrapper"}},methods:{onChange:function(){var e=this,t=this.$refs.file,a=t.files;if(a&&a[0]){var n=new FileReader;n.onload=function(t){e.previewImage=t.target.result},n.readAsDataURL(a[0]),this.$emit("input",a[0])}},onClick:function(){this.$refs.file.click()},onDragover:function(e){console.log("dragover = ",e),e.preventDefault(),e.currentTarget.classList.contains("onDragover")||e.currentTarget.classList.add("onDragover")},onDragleave:function(e){console.log("dragleave = ",e),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.add("onDragleave")},onDrop:function(e){console.log("drop = ",e),e.preventDefault(),this.$refs.file.files=e.dataTransfer.files,this.onChange(),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.remove("onDragleave"),e.currentTarget.classList.add("onDrop")}}},s=o,l=(a("cbfe"),a("2877")),d=Object(l["a"])(s,i,r,!1,null,"3d746b53",null),u=(d.exports,a("219c")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{class:e.getWrapperClasses,on:{click:e.onClick,dragover:e.onDragover,dragleave:e.onDragleave,drop:e.onDrop}},[a("input",{ref:"file",staticClass:"overflow-hidden absolute w-0 h-0 opacity-0",attrs:{type:"file",accept:".kml"},on:{change:e.onChange}}),a("div",{key:"upload-preview-or-placeholder",staticClass:"grid place-items-center"},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Import KML File",expression:"`Import KML File`",modifiers:{top:!0}}],staticClass:"upload-button",attrs:{type:"button"}},[a("i",{staticClass:"text-lg text-center fas fa-cloud-upload-alt"})])])])])},p=[],m={name:"UploadGeoFile",data:function(){return{}},computed:{getWrapperClasses:function(){return"upload-wrapper"}},methods:{onChange:function(){var e=this,t=this.$refs.file,a=t.files;if(a&&a[0]){var n,i=new FileReader;i.onload=function(e){n=e.target.result},i.readAsText(a[0]),setTimeout((function(){e.$emit("input",n)}),1e3)}},onClick:function(){this.$refs.file.click()},onDragover:function(e){console.log("dragover = ",e),e.preventDefault(),e.currentTarget.classList.contains("onDragover")||e.currentTarget.classList.add("onDragover")},onDragleave:function(e){console.log("dragleave = ",e),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.add("onDragleave")},onDrop:function(e){console.log("drop = ",e),e.preventDefault(),this.$refs.file.files=e.dataTransfer.files,this.onChange(),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.remove("onDragleave"),e.currentTarget.classList.add("onDrop")}}},f=m,g=(a("e3dd"),Object(l["a"])(f,c,p,!1,null,"3b01a8eb",null)),h=g.exports},c5c6:function(e,t,a){},c644:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={api:{index:"/dashboard/fleets/",create:"/dashboard/fleets/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/")},single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/")},single_charging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/operator-task-charging-settings/")},single_rebalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/operator-task-rebalancing-settings/")}},events:{name:"fleet",refresh:"rid-fleet",sorId:"fleet",sorOpen:"sor-open-fleet",sorClose:"sor-close-fleet",sorToggle:"sor-toggle-fleet",editingData:"edit-fleet-data",editingStep1Data:"edit-fleet-step-1-data",editingStep2Data:"edit-fleet-step-2-data",succeededStep1:"succeeded-step-1",succeededStep2:"succeeded-step-2",succeededStep3:"successed-step-3",viewingData:"view-fleet-data"}}},c6cf:function(e,t,a){var n=a("4d8c"),i=a("2286"),r=a("c1c9");function o(e){return r(i(e,void 0,n),e+"")}e.exports=o},ca54:function(e,t,a){"use strict";var n=a("26ee"),i=n["a"].Symbol;t["a"]=i},cb29:function(e,t,a){var n=a("23e7"),i=a("81d5"),r=a("44d2");n({target:"Array",proto:!0},{fill:i}),r("fill")},cbfe:function(e,t,a){"use strict";a("5010")},cc64:function(e,t,a){},ce45:function(e,t,a){},ce86:function(e,t,a){var n=a("9e69"),i=a("7948"),r=a("6747"),o=a("ffd6"),s=1/0,l=n?n.prototype:void 0,d=l?l.toString:void 0;function u(e){if("string"==typeof e)return e;if(r(e))return i(e,u)+"";if(o(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=u},d47f:function(e,t,a){},d5f9:function(e,t,a){"use strict";a("77f7")},dbe9:function(e,t,a){},deab:function(e,t,a){"use strict";a("0c9b")},df72:function(e,t,a){"use strict";a("2e59")},e031:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"focus:outline-none focus:shadow-solid",on:{click:function(t){return e.$emit("click")}}},[a("svg",{staticClass:"w-6 h-5 transform -rotate-6 text-oGray hover:text-oDark",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])])},i=[],r=a("2877"),o={},s=Object(r["a"])(o,n,i,!1,null,null,null);t["default"]=s.exports},e1fd:function(e,t,a){},e2ab:function(e,t,a){},e2c0:function(e,t,a){var n=a("e2e4"),i=a("d370"),r=a("6747"),o=a("c098"),s=a("b218"),l=a("f4d6");function d(e,t,a){t=n(t,e);var d=-1,u=t.length,c=!1;while(++d<u){var p=l(t[d]);if(!(c=null!=e&&a(e,p)))break;e=e[p]}return c||++d!=u?c:(u=null==e?0:e.length,!!u&&s(u)&&o(p,u)&&(r(e)||i(e)))}e.exports=d},e2e4:function(e,t,a){var n=a("6747"),i=a("f608"),r=a("18d8"),o=a("76dd");function s(e,t){return n(e)?e:i(e,t)?[e]:r(o(e))}e.exports=s},e380:function(e,t,a){var n=a("7b83"),i="Expected a function";function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var a=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=a.cache;if(r.has(i))return r.get(i);var o=e.apply(this,n);return a.cache=r.set(i,o)||r,o};return a.cache=new(r.Cache||n),a}r.Cache=n,e.exports=r},e3dd:function(e,t,a){"use strict";a("e1fd")},e94b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationProvider",{staticClass:"relative w-full appearance-none",attrs:{tag:"div",vid:e.vid,rules:e.rules,name:e.name||e.label},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors,i=t.required,r=t.ariaInput,o=t.ariaMsg;return[a("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-14px",class:{"text-gray-700":!n[0],"text-red-600":n[0]||""!=e.phone_error},attrs:{for:e.name},on:{click:function(t){return e.$refs.input.focus()}}},[e.label?a("div",[a("span",[e._v(e._s(e.label))]),a("span",[e._v(e._s(i?" *":""))])]):e._e()]),"phone"==e.input_type?a("vue-tel-input",{ref:"telInput",class:{"border-gray-400 placeholder-gray-500 telinput":!n[0]||""==e.phone_error,"border-red-600 placeholder-red-400 custom-phone":n[0],"has-value telinput":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray telinput":e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled},on:{input:e.onChangePhoneNumber},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}}):e._e(),a("div",{staticClass:"relative"},["textarea"==e.input_type?a("textarea",e._b({directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full h-20 px-4 py-1 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0],"border-red-600 placeholder-red-400":n[0],"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled,step:e.step},domProps:{value:e.innerValue},on:{input:function(t){t.target.composing||(e.innerValue=t.target.value)}}},"textarea",r,!1)):e._e(),"checkbox"===e.type&&"phone"!=e.input_type&&"textarea"!=e.input_type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!e.errorMessage,"border-red-600 placeholder-red-400":n[0]||e.errorMessage,"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled,step:e.step,min:e.min,type:"checkbox"},domProps:{checked:Array.isArray(e.innerValue)?e._i(e.innerValue,null)>-1:e.innerValue},on:{change:function(t){var a=e.innerValue,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);n.checked?o<0&&(e.innerValue=a.concat([r])):o>-1&&(e.innerValue=a.slice(0,o).concat(a.slice(o+1)))}else e.innerValue=i}}},"input",r,!1)):"radio"===e.type&&"phone"!=e.input_type&&"textarea"!=e.input_type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!e.errorMessage,"border-red-600 placeholder-red-400":n[0]||e.errorMessage,"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled,step:e.step,min:e.min,type:"radio"},domProps:{checked:e._q(e.innerValue,null)},on:{change:function(t){e.innerValue=null}}},"input",r,!1)):"phone"!=e.input_type&&"textarea"!=e.input_type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!e.errorMessage,"border-red-600 placeholder-red-400":n[0]||e.errorMessage,"has-value":e.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled,step:e.step,min:e.min,type:e.type},domProps:{value:e.innerValue},on:{input:function(t){t.target.composing||(e.innerValue=t.target.value)}}},"input",r,!1)):e._e(),"password"==e.input_type?a("div",{staticClass:"eye-body",on:{click:e.onChangeShowPassword}},[e.show_password?a("i",{staticClass:"far fa-eye"}):e._e(),e.show_password?e._e():a("i",{staticClass:"far fa-eye-slash"})]):e._e()]),""!==e.phone_error||""!=e.errorMessage||!n[0]&&e.showSubText?e._e():a("div",{staticClass:"flex items-center min-h-6"},[a("span",e._b({directives:[{name:"show",rawName:"v-show",value:n[0],expression:"errors[0]"}],staticClass:"block text-xs text-red-600 "},"span",o,!1),[e._v(e._s(n[0]))])]),""==e.errorMessage&&e.showSubText?a("div",{staticClass:"flex items-center min-h-6"},[a("span",{staticClass:"block text-xs text-gray-600 "},[e._v(e._s(e.subText))])]):e._e(),""!=e.phone_error?a("div",{staticClass:"flex items-center min-h-6"},[a("span",e._b({staticClass:"block text-xs text-red-600 "},"span",o,!1),[e._v(e._s(e.phone_error))])]):e._e(),""!=e.errorMessage?a("div",{staticClass:"flex items-center min-h-6"},[a("span",e._b({staticClass:"block text-xs text-red-600 "},"span",o,!1),[e._v(e._s(e.errorMessage))])]):e._e()]}}])})},i=[],r=(a("caad"),{name:"TextInput",components:{},props:{vid:{type:String,default:void 0},disabled:{type:Boolean,default:!1},name:{type:String,default:""},label:{type:String,default:""},input_type:{type:String,default:""},rules:{type:[Object,String],default:""},placeholder:{type:String,default:""},show_password:{type:Boolean,default:!1},type:{type:String,default:"text",validator:function(e){return["url","text","password","tel","search","number","email","date","textarea"].includes(e)}},step:{type:String,default:"1"},value:{type:null,default:""},errorMessage:{type:String,default:""},errorKey:{type:String,default:""},min:{type:String,default:""},subText:{type:String,default:""},showSubText:{type:Boolean,default:!1}},data:function(){return{innerValue:"",phone_error:""}},computed:{hasValue:function(){return!!this.innerValue}},methods:{onChangePhoneNumber:function(e,t){t.isValid?(this.innerValue=t.number.input,this.phone_error=""):this.phone_error="The phone number field must be a valid"},onChangeShowPassword:function(){this.$emit("showPassword",!this.show_password)}},watch:{innerValue:function(e){this.$emit("input",e),this.$emit("clear-error",this.errorKey)},value:function(e){e!==this.innerValue&&(this.innerValue=e)}},created:function(){null===this.value&&"undefined"===typeof this.value||(this.innerValue=this.value)}}),o=r,s=(a("df72"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"7b8ea01e",null);t["default"]=l.exports},ef45:function(e,t,a){},f0ce:function(e,t,a){"use strict";var n=a("ca54"),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,s=n["a"]?n["a"].toStringTag:void 0;function l(e){var t=r.call(e,s),a=e[s];try{e[s]=void 0;var n=!0}catch(l){}var i=o.call(e);return n&&(t?e[s]=a:delete e[s]),i}var d=l,u=Object.prototype,c=u.toString;function p(e){return c.call(e)}var m=p,f="[object Null]",g="[object Undefined]",h=n["a"]?n["a"].toStringTag:void 0;function _(e){return null==e?void 0===e?g:f:h&&h in Object(e)?d(e):m(e)}t["a"]=_},f18c:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("FleetAddEdit",{attrs:{"es-id":e.ae.esId,"stepper-mode":e.ae.stepperMode,"stepper-step":e.ae.stepperStep,"primary-key":e.ae.primaryKey,"raw-data":e.ae.rawData,orgPaymentConfig:e.ae.orgPaymentConfig,busy:e.ae.busy,"org-email-settings":e.orgEmailSettings},on:{refresh:function(t){return e.$store.dispatch("fsTable/fetchData")}}}),a("add-edit-billing-plan",{attrs:{vehicleTypes:e.getVehicleTypes}}),a("content-section",{attrs:{spacing:!1}},[a("div",{staticClass:"content-spacing"},[e.isShowOnlyPageTitle?a("div",[a("oto-page-title",{attrs:{title:e.pageTitle}})],1):a("title-plus",{staticClass:"mb-10",attrs:{title:e.pageTitle},on:{plus:function(t){return e.onOpenES({primaryKey:null})}}})],1),a("FSTable",{attrs:{"fst-id":"fleets",qso:e.qso,endpoint:e.endpoint,headers:e.getTableHeaders},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[e._l(n,(function(t,n){return["full"===e.getTableMode?[a("FSTableRow",{key:n},[a("FSTableRowItem",[a("div",{staticClass:"flex items-center"},[a("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewFleetProfile",params:{id:t.id}},target:"_blank"}},[e._v(" "+e._s(t.name)+" ")]),t.is_default_fleet_for_organization?a("span",{staticClass:"bg-blue-600 badge"},[e._v("D")]):e._e()],1)]),a("FSTableRowItem",{attrs:{text:t.address}}),a("FSTableRowItem",[t.geofence&&t.geofence.id?a("div",{staticClass:"flex items-center gap-2 flex-wrap"},[a("RouterLink",{staticClass:"text-blue-600 ",attrs:{to:{name:"ViewServiceArea",params:{id:t.geofence.id}},target:"_blank"}},[e._v(e._s(t.geofence.name))])],1):e._e()]),a("FSTableRowItem",{attrs:{text:t.total_vehicles}}),a("FSTableRowItem",[t.pricing_plans&&t.pricing_plans.length>0?a("div",e._l(t.pricing_plans,(function(t,n){return a("div",{key:n},[a("p",[a("span",{staticClass:"font-semibold text-blue-700 cursor-pointer",on:{click:function(a){return e.showPricingPlan(t.id)}}},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"text-gray-500"},[e._v("("+e._s(t.bike_category_display_text)+")")])])])})),0):e._e()]),a("FSTableRowItem",{attrs:{text:t.updated_at,date:""}}),a("FSTableRowItem",[a("div",{staticClass:"flex items-center 111__111"},[a("OtoEditIcon",{on:{click:function(a){return e.onOpenES({primaryKey:t.id})}}}),a("MoreActionsDropdown",{key:"more-actions-"+n,attrs:{data:t},on:{delete:function(t){return e.$store.dispatch("fsTable/fetchData")}}})],1)])],1)]:e._e(),"responsive"===e.getTableMode?[a("FSTableRow",{key:"fs-table-row-"+n,attrs:{textFallbackAlways:""}},[a("FSTableRowItem",[a("div",{staticClass:"col-span-1 focus:text-gray-400",on:{click:function(t){return e.toggle(n)}}},[e.opened.includes(n)?a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}}):a("i",{staticClass:"fas fa-plus-circle"})])]),a("FSTableRowItem",[a("div",{staticClass:"flex items-center"},[a("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewFleetProfile",params:{id:t.id}},target:"_blank"}},[e._v(" "+e._s(t.name)+" ")]),t.is_default_fleet_for_organization?a("span",{staticClass:"bg-blue-600 badge"},[e._v("D")]):e._e()],1)]),a("FSTableRowItem",[t.geofence&&t.geofence.id?a("div",{staticClass:"flex items-center gap-2 flex-wrap"},[a("RouterLink",{staticClass:"text-blue-600 ",attrs:{to:{name:"ViewServiceArea",params:{id:t.geofence.id}},target:"_blank"}},[e._v(e._s(t.geofence.name))])],1):e._e()]),a("FSTableRowItem",[t.pricing_plans&&t.pricing_plans.length>0?a("div",e._l(t.pricing_plans,(function(t,n){return a("div",{key:n},[a("p",[a("span",{staticClass:"font-semibold text-blue-700 cursor-pointer",on:{click:function(a){return e.showPricingPlan(t.id)}}},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"text-gray-500"},[e._v("("+e._s(t.bike_category_display_text)+")")])])])})),0):e._e()])],1),e.opened.includes(n)?a("FSTableRow",{key:n},[a("td",{attrs:{colspan:"10"}},[a("div",{staticClass:"grid grid-cols-10 items-center w-full expand-item"},[a("div",{staticClass:"col-span-5 left-text"},[e._v(" "+e._s(e.$t("components.fleetManagement.table.columns.location"))+" ")]),a("div",{staticClass:"col-span-5 right-text"},[e._v(" "+e._s(t.address||"--")+" ")])]),a("div",{staticClass:"grid grid-cols-10 items-center w-full expand-item"},[a("div",{staticClass:"col-span-5 left-text"},[e._v(" "+e._s(e.$t("components.fleetManagement.table.columns.assignedVehicles"))+" ")]),a("div",{staticClass:"col-span-5 right-text"},[e._v(" "+e._s(t.total_vehicles||"--")+" ")])]),a("div",{staticClass:"grid grid-cols-10 items-center w-full expand-item"},[a("div",{staticClass:"col-span-5 left-text"},[e._v(" "+e._s(e.$t("components.fleetManagement.table.columns.updatedAt"))+" ")]),a("div",{staticClass:"col-span-5 right-text"},[e._v(" "+e._s(e.getFormattedDateTime(t.updated_at,"D MMM YYYY, h:mm:ss a"))+" ")])]),a("div",{staticClass:"grid grid-cols-10 items-center w-full expand-item"},[a("div",{staticClass:"col-span-5 left-text"},[e._v(" "+e._s(e.$t("components.fleetManagement.table.columns.actions"))+" ")]),a("div",{staticClass:"col-span-5 right-text "},[a("div",{staticClass:"flex items-center 111__111"},[a("OtoEditIcon",{on:{click:function(a){return e.onOpenES({primaryKey:t.id})}}}),a("MoreActionsDropdown",{key:"more-actions-"+n,attrs:{data:t},on:{delete:function(t){return e.$store.dispatch("fsTable/fetchData")}}})],1)])])])]):e._e()]:e._e()]}))]}}])})],1)],1)},i=[],r=a("5530"),o=a("1da1"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a434"),a("f625")),l=a("e031"),d=a("bcf7"),u=a("c820"),c=a("c644"),p=a("ca65"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("t-dropdown",{attrs:{variant:"smActions"},scopedSlots:e._u([{key:"trigger",fn:function(e){var t=e.mousedownHandler,n=e.focusHandler,i=e.blurHandler,r=e.keydownHandler;return[a("button",{staticClass:"text-oDark focus:outline-none",attrs:{"aria-label":"Report Status Menu","aria-haspopup":"true"},on:{mousedown:t,focus:n,blur:i,keydown:r}},[a("svg",{staticClass:"mt-1 w-6 h-5 text-oGray hover:text-oDark",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}})])])]}},{key:"default",fn:function(t){var n=t.hide;return[a("div",{staticClass:"py-1 mt-px bg-white rounded-md shadow-md z-200",on:{click:function(e){return n()}}},[a("t-dropdown-item",{attrs:{variant:"danger"},on:{click:e.askConfirmation}},[e._v(" Delete ")])],1)]}}])}),a("ConfirmFirst",{key:"confirmFirst-"+e.data.id,attrs:{id:"confirmFirst-"+e.data.id,isLoading:e.isLoading,title:"Delete Fleet?",confirmButtonText:"Delete",confirmButtonVariant:"warning-alt"},on:{confirm:function(t){return e.executeAction("delete")},cancel:e.handleCancellation}})],1)},f=[],g={name:"FleetMoreActionsDropdown",components:{TDropdownItem:function(){return Promise.resolve().then(a.bind(null,"92c2"))},ConfirmFirst:function(){return a.e("chunk-566ec0da").then(a.bind(null,"689a"))}},props:{data:{type:Object,required:!1,default:function(){return{status:!1}}}},data:function(){return{isLoading:!1}},methods:{askConfirmation:function(){this.$modal.show("confirmFirst-".concat(this.data.id))},executeAction:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("delete"!==e){a.next=5;break}return n=u["c"].fleet.delete(t.data.id),t.isLoading=!0,a.next=5,t.$http.delete(n).then((function(e){console.log("delete",e.data),t.$emit("delete",e.data),t.$modal.hide("confirmFirst-".concat(t.data.id))})).catch((function(e){console.error(e)})).finally((function(){t.isLoading=!1}));case 5:case"end":return a.stop()}}),a)})))()},handleCancellation:function(){console.log("cancelled")}}},h=g,_=a("2877"),y=Object(_["a"])(h,m,f,!1,null,"46efa50c",null),v=y.exports,b=a("4138"),x=a("4834"),w=a("8a12"),k=a("99e4"),C=a("ed08"),S={name:"Fleet",props:{pageTitle:{type:String,required:!0},endpoint:{type:String,default:c["a"].api.index},qso:{type:Object,default:function(){return{append:"",prepend:"?"}}},isShowOnlyPageTitle:{type:Boolean,default:!1}},components:{ContentSection:s["default"],OtoEditIcon:l["default"],TitlePlus:d["default"],MoreActionsDropdown:v,FSTable:b["a"],FSTableRow:b["d"],FSTableRowItem:b["e"],FleetAddEdit:x["a"],AddEditBillingPlan:w["a"],OtoPageTitle:function(){return a.e("chunk-3d4684b6").then(a.bind(null,"4a64"))}},data:function(){return{indexDataEndpoint:c["a"].api.index,windowWidth:window.innerWidth,opened:[],tableHeaders:[{text:"".concat(this.$t("components.fleetManagement.table.columns.name")),width:"12%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.location")),width:"28%",sort:"address"},{text:"".concat(this.$t("components.fleetManagement.table.columns.serviceAreaName")),width:"15%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.assignedVehicles")),width:"10%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.pricingPlan")),width:"20%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.updatedAt")),width:"15%",sort:"updated_at"},{text:"".concat(this.$t("components.fleetManagement.table.columns.actions")),width:"10%",sort:null}],resTableHeaders:[{text:"",width:"10%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.name")),width:"30%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.serviceAreaName")),width:"30%",sort:null},{text:"".concat(this.$t("components.fleetManagement.table.columns.pricingPlan")),width:"30%",sort:null}],vehicleTypes:[],orgEmailSettings:{},ae:{esId:"fleet-add-edit",stepperMode:"strict",stepperStep:1,busy:!0,rawData:null,orgPaymentConfig:null,primaryKey:null}}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.onResize)}))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},computed:{getTableHeaders:function(){return this.windowWidth<=930?this.resTableHeaders:this.tableHeaders},getTableMode:function(){return this.windowWidth<=930?"responsive":"full"},orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},hasOperatorApp:function(){return this.$org.subscription.operator_app_enabled},getVehicleTypes:function(){var e,t=[],a=(null===this||void 0===this||null===(e=this.$org)||void 0===e?void 0:e.vehicle_type)||[];return a.forEach((function(e){return t.push(C["w"][e])})),console.log("vehicleTypes",t),t}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(u["c"].settings.email.index(e.orgId)).then((function(t){var a=t.data,n={};for(var i in a)n[i]="null"===a[i]?"":a[i];e.orgEmailSettings=n})).catch((function(t){console.log("orgEmailSettingsErr",t.response),e.$notify({group:"bottomRight",type:"error",title:"HTTP Error",text:"Failed to load org email settings!"})}));case 2:case"end":return t.stop()}}),t)})))()},methods:{getFormattedDateTime:p["c"],onResize:function(){this.windowWidth=window.innerWidth},toggle:function(e){var t=this.opened.indexOf(e);t>-1?this.opened.splice(t,1):this.opened.push(e)},showPricingPlan:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("showPricingPlan",e),a.next=3,t.$http.get(k["a"].api.details(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:n=a.sent,n.tax_plan=n.tax_plan?n.tax_plan.id:null,n.existing_fleet=n.fleet,n.fleet=n.fleet?n.fleet.id:null,console.log("Morphed...",n),C["a"].$emit(k["a"].events.editingData,n),dispatchEvent(new Event(k["a"].events.sorToggle));case 10:case"end":return a.stop()}}),a)})))()},onOpenES:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o,s,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.primaryKey,"string"!==typeof n){a.next=13;break}return t.ae.busy=!0,t.$edgeStack.open(t.ae.esId),i=t.$http.get(u["c"].fleet.details(n)),a.next=7,t.$http.get(u["c"].organization.details(t.$store.getters["auth/organizationInfo"].id));case 7:return o=a.sent,s=[i,o],t.hasOperatorApp&&(l=t.$http.get(u["c"].fleet.operator.charging(n)),d=t.$http.get(u["c"].fleet.operator.rebalance(n)),s.push(l,d)),a.next=12,t.$http.all(s).then(t.$http.spread((function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var o=a[0],s=a[1],l=a[2],d=a[3];t.ae.orgPaymentConfig=s.data.default_payment_gateway_config;var u={};if(t.hasOperatorApp)u=Object(r["a"])(Object(r["a"])({},o.data),{},{charging_task:l.data,rebalance_task:d.data});else{var c=a[0];u=Object(r["a"])(Object(r["a"])({},c.data),{},{charging_task:{point:"",rate:""},rebalance_task:{point:"",rate:""}})}t.ae.rawData=u,t.ae.primaryKey=n,t.ae.stepperMode="free",t.ae.busy=!1}))).catch((function(e){console.warn({err:e}),t.$edgeStack.close(t.ae.esId),t.$notify({group:"bottomRight",type:"error",title:"Server Error",text:"Failed to retrieve data. Please try again."})}));case 12:return a.abrupt("return");case 13:t.ae.stepperMode="strict",t.ae.busy=!1,t.ae.rawData=null,t.ae.primaryKey=null,t.$edgeStack.open(t.ae.esId);case 18:case"end":return a.stop()}}),a)})))()},getActionsEndpoint:function(e){return c["a"].api.update(e)}}},E=S,$=(a("93e2"),Object(_["a"])(E,n,i,!1,null,"50797927",null));t["a"]=$.exports},f432:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isPopShow,expression:"isPopShow"}],staticClass:" fixed inset-x-0 bottom-0 z-50 flex  bg-gray-50 shadow-2xl rounded-t-md ",class:(e.isFullView?"max-h-90vh":"h-10")+" "+(e.getSmallScreenStatus?"mx-5 w-auto":"ml-16 w-96")},[a("div",{staticClass:"w-full"},[e.isFullView?e._e():a("loading",{class:"outline-none",attrs:{active:e.isLoading,height:25,opacity:0,color:"#fff",loader:"bars","is-full-page":!1}}),a("div",{staticClass:"h-10 bg-gray-900 rounded-t-md flex justify-between items-center px-4"},[a("div",{staticClass:"text-oWhite font-medium"},[a("p",[e._v(" "+e._s(e.getPopupHeadline)+" ("+e._s(e.getCompletedSuggestionsCount)+"/"+e._s(e.getSuggestions.length)+") ")])]),a("div",{staticClass:"flex gap-4 items-center justify-center"},[a("div",{staticClass:"cursor-pointer",on:{click:e.handleReload}},[a("i",{staticClass:"text-base fas text-oWhite fa-rotate-right"})]),a("div",{staticClass:"cursor-pointer",on:{click:e.toggleView}},[a("i",{staticClass:"text-base fas text-oWhite",class:e.isFullView?"fa-down-left-and-up-right-to-center":"fa-up-right-and-down-left-from-center"})]),a("div",{staticClass:"cursor-pointer",on:{click:e.handlePopClose}},[a("i",{staticClass:"text-base fas text-oWhite fa-xmark"})])])]),a("div",{staticClass:"px-2 relative"},[e.isFullView?a("loading",{class:"outline-none",attrs:{active:e.isLoading,height:25,opacity:.8,color:"#000",loader:"bars","is-full-page":!1}}):e._e(),a("div",{staticClass:" mt-2  flex items-center gap-2"},e._l(e.getSuggestions,(function(e,t){return a("div",{key:e.id+"-"+t,staticClass:"border-2 border-t-2  w-full rounded",class:e.isCompleted?"border-green-500":""})})),0),a("div",{staticClass:"py-2 overflow-auto max-h-88vh"},e._l(e.getSuggestions,(function(t,n){return a("div",{key:t.id,staticClass:"flex gap-3 py-2"},[a("div",{staticClass:"relative"},[a("div",{staticClass:"top-0 left-0 flex items-center justify-center bg-gray-200 rounded-full w-8 h-8"},[t.isCompleted?a("i",{staticClass:"fa fa-check-circle text-green-600"}):a("span",{staticClass:"bg-gray-900 badge"},[e._v(e._s(n+1))])])]),a("div",{staticClass:"w-full"},[a("div",{staticClass:"flex gap-4 justify-between"},[a("p",{staticClass:"font-medium"},[e._v(e._s(t.title))]),a("div",{staticClass:"mr-2"},[a("router-link",{attrs:{to:t.path,target:"_blank"}},[a("i",{staticClass:"fas fa-arrow-up-right-from-square text-blue-600 text-sm cursor-pointer"})])],1)]),a("p",{staticClass:"text-sm text-gray-500 text-justify mr-2"},[e._v(" "+e._s(t.subtitle)+" ")])])])})),0)],1)],1)])},i=[],r={name:"PopSuggestion",data:function(){return{}},computed:{isLoading:function(){return this.$store.getters["suggestiveStep/getReqStatus"]},isFullView:{get:function(){return this.$store.getters["suggestiveStep/getFullViewStatus"]},set:function(e){this.$store.commit("suggestiveStep/SET_FULL_VIEW_STATUS",e)}},isPopShow:{get:function(){return this.$store.getters["suggestiveStep/getPopViewStatus"]},set:function(e){this.$store.commit("suggestiveStep/SET_POPUP_VIEW_STATUS",e)}},getPopupHeadline:function(){return this.$store.getters["suggestiveStep/getHeadline"]},getSuggestions:function(){return this.$store.getters["suggestiveStep/getSuggestions"]},getCompletedSuggestionsCount:function(){return this.$store.getters["suggestiveStep/getCompletedSuggestions"].length},getSmallScreenStatus:function(){return this.$store.getters["screen/getSmallScreenStatus"]}},methods:{toggleView:function(){this.isFullView=!this.isFullView},handlePopClose:function(){this.isPopShow=!1},handleReload:function(){this.$store.dispatch("suggestiveStep/fetchData")}}},o=r,s=(a("2dd8"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},f4d6:function(e,t,a){var n=a("ffd6"),i=1/0;function r(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=r},f608:function(e,t,a){var n=a("6747"),i=a("ffd6"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function s(e,t){if(n(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!i(e))||(o.test(e)||!r.test(e)||null!=t&&e in Object(t))}e.exports=s},f625:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"w-full bg-white rounded-md",class:""+e.getSpacing},[e._t("default")],2)},i=[],r={name:"ContentSection",props:{spacing:{type:Boolean,default:!0}},computed:{getSpacing:function(){return this.spacing?"px-6 py-3 mt-2":""}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},f7fe:function(e,t,a){(function(t){var a="Expected a function",n=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,p=u||c||Function("return this")(),m=Object.prototype,f=m.toString,g=Math.max,h=Math.min,_=function(){return p.Date.now()};function y(e,t,n){var i,r,o,s,l,d,u=0,c=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError(a);function f(t){var a=i,n=r;return i=r=void 0,u=t,s=e.apply(n,a),s}function y(e){return u=e,l=setTimeout(k,t),c?f(e):s}function b(e){var a=e-d,n=e-u,i=t-a;return p?h(i,o-n):i}function x(e){var a=e-d,n=e-u;return void 0===d||a>=t||a<0||p&&n>=o}function k(){var e=_();if(x(e))return C(e);l=setTimeout(k,b(e))}function C(e){return l=void 0,m&&i?f(e):(i=r=void 0,s)}function S(){void 0!==l&&clearTimeout(l),u=0,i=d=r=l=void 0}function E(){return void 0===l?s:C(_())}function $(){var e=_(),a=x(e);if(i=arguments,r=this,d=e,a){if(void 0===l)return y(d);if(p)return l=setTimeout(k,t),f(d)}return void 0===l&&(l=setTimeout(k,t)),s}return t=w(t)||0,v(n)&&(c=!!n.leading,p="maxWait"in n,o=p?g(w(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),$.cancel=S,$.flush=E,$}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||b(e)&&f.call(e)==i}function w(e){if("number"==typeof e)return e;if(x(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=s.test(e);return a||l.test(e)?d(e.slice(2),a?2:8):o.test(e)?n:+e}e.exports=y}).call(this,a("c8ba"))},fd9d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){return e.toggle(e.id)}}},[e._t("default",(function(){return[a("button",[e._v("Toggle")])]}))],2)},i=[],r={name:"SlideOverRightTrigger",props:{id:{required:!0,type:String}},mounted:function(){},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null!==e?e:this.id;console.log("event = ",this.getOpeningEventName(t));var a=dispatchEvent(new Event(this.getOpeningEventName(t)));console.log(a)},close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("cancel = ");var t=null!==e?e:this.id;dispatchEvent(new Event(this.getClosingEventName(t)))},toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null!==e?e:this.id,n=this.getTogglingEventName(a);"number"!==typeof t?dispatchEvent(new Event(n)):setTimeout((function(){dispatchEvent(new Event(n))}),t)},getOpeningEventName:function(e){return"sor-open-".concat(e)},getClosingEventName:function(e){return"sor-close-".concat(e)},getTogglingEventName:function(e){return"sor-toggle-".concat(e)}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=organization-fleets.e7090083.js.map