(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings-OperatorSettings"],{"38ca":function(e,t,n){"use strict";n("523e")},"3fa7":function(e,t,n){"use strict";n("dcc2")},"523e":function(e,t,n){},"76bb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.isLoaded?e._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!e.isLoaded,"is-full-page":!1}})],1),e.isLoaded?n("div",{staticClass:"mx-auto mt-3 lg:mt-10 md:mt-5 max-w-6xl"},[n("div",{key:"inspectionRuleSettings_"+e.counter,staticClass:"w-full mb-10"},[n("div",{staticClass:"flex items-center  justify-between"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-binoculars text-22px text-oPurple"}),n("span",[e._v(" "+e._s(e.$t("components.settingsManagement.operatorApp.headline.operationPrimerSettings.title"))+" ")])]),n("div",{staticClass:"col-span-12 pencil-icon md:col-span-3 justify-items-end justify-self-end cursor-pointer"},[e.isInspectionRuleEdit?e._e():n("div",[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:e.handleInspectionRuleSettingsEdit}},[n("path",{attrs:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])])]),e.isInspectionRuleEdit?n("div",{staticClass:"flex ml-3 mt-3 mb-4"},[n("anchor-button",{attrs:{text:e.$t("components.stepNavigation.cancel"),width:"6rem"},on:{click:e.handleInspectionRuleSettingsCancel}}),n("anchor-button",{staticClass:"ml-4",attrs:{text:e.$t("components.stepNavigation.save"),variant:"success",width:"6rem"},on:{click:e.updateInspectionRuleSettings}})],1):e._e()]),n("div",{key:"InspectionRuleSettings_"+e.counter,staticClass:"mt-1  border-t-2"},[n("section",[n("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[n("span",[e._v(" "+e._s(e.$t("components.settingsManagement.operatorApp.operationPrimerSettings.manageInspectionRule.title")))]),n("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:e.onAddInspectionRule}},[n("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),e._l(e.inspectionRules,(function(t,a){return n("div",{key:a,staticClass:"flex items-center mb-2"},[n("div",{staticClass:"flex gap-2 items-center w-11/12"},[n("div",{staticClass:"w-7/12"},[n("AppInput",{attrs:{type:"richselect",name:"Name "+a,isInfoEnabled:!1,"value-attribute":"value","text-attribute":"text",placeholder:e.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.placeholder.name"),options:e.inspectionNameOptions,disabled:!e.isInspectionRuleEdit,showError:!1,"hide-search-box":""},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),e._m(0,!0),n("div",{staticClass:"w-3/12"},[n("AppInput",{attrs:{type:"number",name:"Value "+a,isInfoEnabled:!1,rules:"",haveUnitText:!!t.name,unitText:e.getInspectionRuleUnit(t.name),placeholder:"e.g. 100",disabled:!e.isInspectionRuleEdit,showError:!1},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1)]),e.isInspectionRuleEdit?n("div",{staticClass:"flex justify-start w-1/12 item-center"},[n("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(t){return e.onRemoveInspectionRule(a)}}},[n("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])]):e._e()])}))],2)])]),n("div",[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-id-badge text-22px text-oPurple"}),n("span",{staticClass:"pl-3"},[e._v(e._s(e.$t("components.settingsManagement.operatorApp.headline.operatorGeneralSettings.title")))])]),n("p",{staticClass:"break-words title-description mt-1"},[e._v(" "+e._s(e.$t("components.settingsManagement.operatorApp.headline.operatorGeneralSettings.description"))+" ")])]),n("div",{key:"operatorGeneralSettings_"+e.counter,staticClass:" mt-3 pt-5 border-t-2"},[e._l(e.getOperatorGeneralSettings,(function(t,a){return["operator_hardware_commands_allowed"!==t.variable&&"should_swap_battery_for_low_level"!==t.variable&&"battery_level_for_swapping"!==t.variable?["toggle"===t.type?n("SmartToggleInput",{key:a,attrs:{label:t.label,placeholder:t.placeholder,description:t.description,onText:t.onText,offText:t.offText,onValue:t.onValue,offValue:t.offValue},on:{save:function(n){return e.onSave("general",""+t.variable,n)}},model:{value:e.general[""+t.variable],callback:function(n){e.$set(e.general,""+t.variable,n)},expression:"general[`${item.variable}`]"}}):n("SmartAppInput",{key:a,attrs:{rowId:"operatorGeneral_"+a,type:t.type,label:t.label,placeholder:t.placeholder,description:t.description,isEdit:t.isEdit,options:t.options},on:{save:function(n){return e.onSave("general",""+t.variable,n)}},model:{value:e.general[""+t.variable],callback:function(n){e.$set(e.general,""+t.variable,n)},expression:"general[`${item.variable}`]"}})]:e._e(),"should_swap_battery_for_low_level"===t.variable||"battery_level_for_swapping"===t.variable?["should_swap_battery_for_low_level"===t.variable?n("SmartToggleInput",{key:a,attrs:{label:t.label,placeholder:t.placeholder,description:t.description,onText:t.onText,offText:t.offText,onValue:t.onValue,offValue:t.offValue},on:{save:function(n){return e.onSave("vehicle",""+t.variable,n)}},model:{value:e.general[""+t.variable],callback:function(n){e.$set(e.general,""+t.variable,n)},expression:"general[`${item.variable}`]"}}):e._e(),"battery_level_for_swapping"===t.variable&&e.general.should_swap_battery_for_low_level?n("SmartAppInput",{key:a,attrs:{rowId:"operatorGeneral_"+a,type:t.type,label:t.label,placeholder:t.placeholder,description:t.description,isEdit:t.isEdit,options:t.options},on:{save:function(n){return e.onSave("vehicle",""+t.variable,n)}},model:{value:e.general[""+t.variable],callback:function(n){e.$set(e.general,""+t.variable,n)},expression:"general[`${item.variable}`]"}}):e._e()]:e._e(),"operator_hardware_commands_allowed"===t.variable?n("SmartToggleInput",{key:a,attrs:{label:t.label,placeholder:t.placeholder,description:t.description,onText:t.onText,offText:t.offText,onValue:t.onValue,offValue:t.offValue},on:{save:function(n){return e.onSave("organization",""+t.variable,n)}},model:{value:e.general[""+t.variable],callback:function(n){e.$set(e.general,""+t.variable,n)},expression:"general[`${item.variable}`]"}}):e._e()]}))],2),n("div",[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-money-bill text-22px text-oPurple"}),n("span",{staticClass:"pl-3"},[e._v(e._s(e.$t("components.settingsManagement.operatorApp.headline.operatorTaskWage.title")))])]),n("p",{staticClass:"break-words title-description mt-1"},[e._v(" "+e._s(e.$t("components.settingsManagement.operatorApp.headline.operatorTaskWage.description"))+" ")])]),n("div",{key:"operatorWageSettings_"+e.counter,staticClass:" mt-3 pt-5 border-t-2"},[e._l(e.operatorWageSettings,(function(t,a){return[n("SmartAppInput",a<=1?{key:a,attrs:{rowId:"operatorWage_"+a,type:t.type,label:t.label,placeholder:t.placeholder,description:t.description,isEdit:t.isEdit},on:{save:function(n){return e.onSave("charging",""+t.variable,n)}},model:{value:e.wage.charging[""+t.variable],callback:function(n){e.$set(e.wage.charging,""+t.variable,n)},expression:"wage.charging[`${item.variable}`]"}}:{key:a,attrs:{rowId:"operatorWage_"+a,type:t.type,label:t.label,placeholder:t.placeholder,description:t.description,isEdit:t.isEdit},on:{save:function(n){return e.onSave("rebalancing",""+t.variable,n)}},model:{value:e.wage.rebalancing[""+t.variable],callback:function(n){e.$set(e.wage.rebalancing,""+t.variable,n)},expression:"wage.rebalancing[`${item.variable}`]"}})]}))],2)]):e._e()])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-1/12 flex justify-center items-center"},[n("i",{staticClass:"fas fa-greater-than text-22px text-oBlack"})])}],i=n("2909"),r=n("1da1"),s=n("5530"),l=(n("96cf"),n("4de4"),n("caad"),n("d81d"),n("ac1f"),n("1276"),n("b0c0"),n("a9e3"),n("159b"),n("498a"),n("99af"),n("d3b7"),n("a434"),n("cb0d")),p=n("b4694"),c=n("15e7"),d=n("ed08"),u=n("b345"),g=n("c820"),h={name:"OperatorSettings",components:{SmartAppInput:l["a"],SmartToggleInput:p["a"],AnchorButton:c["default"]},data:function(){return{isLoaded:!1,counter:0,currentSettingsGroup:null,isInspectionRuleEdit:!1,inspectionRules:[],previousInspectionRules:[],inspectionNameOptions:[{text:this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptions.VDGT"),value:"VDGT"},{text:this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptions.TTGT"),value:"TTGT"},{text:this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptions.DPALIGT"),value:"DPALIGT"}],toDeleteInspectionRules:[],dataChangeStatus:!1,general:{drop_off_photo_required:!0,check_inside_drop_off_area:!0,is_reservation_required:!0,release_spot_reservation_time_in_min:0,operator_hardware_commands_allowed:!0,should_swap_battery_for_low_level:!1,battery_level_for_swapping:0,should_unlock_vehicle_on_pickup:!1,should_lock_vehicle_on_dropoff:!1},wage:{charging:{rate:"",point:""},rebalancing:{rate:"",point:""}},operatorGeneralSettings:[{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.requireDropOffPhoto.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.requireDropOffPhoto.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"drop_off_photo_required",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.validateInsideDropOffArea.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.validateInsideDropOffArea.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"check_inside_drop_off_area",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.reservationRequirement.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.reservationRequirement.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_reservation_required",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.releaseSpotReservationTimeoutMinutes.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.releaseSpotReservationTimeoutMinutes.description"),variable:"release_spot_reservation_time_in_min",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.allowOperatorHardwareCommands.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.allowOperatorHardwareCommands.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"operator_hardware_commands_allowed",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.triggerSwapBatteryNeededStatusBasedOnLowBattery.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.triggerSwapBatteryNeededStatusBasedOnLowBattery.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"should_swap_battery_for_low_level",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.batteryLevelForSwapping.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.batteryLevelForSwapping.description"),variable:"battery_level_for_swapping",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.unlockVehicleBeforePickingUp.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.unlockVehicleBeforePickingUp.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"should_unlock_vehicle_on_pickup",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.lockVehicleAfterDroppingOff.title"),description:this.$t("components.settingsManagement.operatorApp.operatorGeneralSettings.lockVehicleAfterDroppingOff.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"should_lock_vehicle_on_dropoff",isEdit:!1}],operatorWageSettings:[{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.earningRateForChargingTask.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.earningRateForChargingTask.description"),variable:"rate",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.pointValueForChargingTask.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.pointValueForChargingTask.description"),variable:"point",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.earningRateForRebalancingTask.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.earningRateForRebalancingTask.description"),variable:"rate",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.pointValueForRebalancingTask.title"),placeholder:"e.g 5",description:this.$t("components.settingsManagement.operatorApp.operatorWageSettings.pointValueForRebalancingTask.description"),variable:"point",isEdit:!1}]}},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},getOperatorGeneralSettings:function(){var e=this.operatorGeneralSettings;if(!1===this.general.is_reservation_required){var t=["release_spot_reservation_time_in_min"],n=e.filter((function(e){return!t.includes(e.variable)}));return n}return this.operatorGeneralSettings}},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(e){"inspectionRuleSettings"===e&&(this.operatorWageSettings=this.operatorWageSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})),this.operatorGeneralSettings=this.operatorGeneralSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})}))),"operatorGeneralSettings"===e&&(this.handleInspectionRuleSettingsCancel(),this.operatorWageSettings=this.operatorWageSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})}))),"operatorWageSettings"===e&&(this.handleInspectionRuleSettingsCancel(),this.operatorGeneralSettings=this.operatorGeneralSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})))}},inspectionRules:{deep:!0,immediate:!1,handler:function(e){this.dataChangeStatus=this.haveAnyDataDiffForInspectionRule(this.previousInspectionRules,e)}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,o,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$http.get(u["d"].api.charging.index(e.orgId)),a=e.$http.get(u["d"].api.rebalancing.index(e.orgId)),o=e.$http.get(u["d"].api.general.index(e.orgId)),i=e.$http.get(g["c"].organization.details(e.orgId)),r=e.$http.get(g["c"].operationPrimer.inspectionRules.index(e.orgId)),s=e.$http.get(u["g"].api.index(e.orgId)),e.$http.all([n,a,o,i,r,s]).then(e.$http.spread((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];console.log("settignsData",n),e.general.drop_off_photo_required=n[2].data.drop_off_photo_required,e.general.is_reservation_required=n[2].data.is_reservation_required,e.general.check_inside_drop_off_area=n[2].data.check_inside_drop_off_area,e.general.release_spot_reservation_time_in_min=n[2].data.release_spot_reservation_time_in_min,e.general.should_unlock_vehicle_on_pickup=n[2].data.should_unlock_vehicle_on_pickup,e.general.should_lock_vehicle_on_dropoff=n[2].data.should_lock_vehicle_on_dropoff,e.general.operator_hardware_commands_allowed=n[3].data.operator_hardware_commands_allowed,e.general.should_swap_battery_for_low_level=n[5].data.should_swap_battery_for_low_level,e.general.battery_level_for_swapping=n[5].data.battery_level_for_swapping,e.wage.charging.rate=n[0].data.rate,e.wage.charging.point=n[0].data.point,e.wage.rebalancing.rate=n[1].data.rate,e.wage.rebalancing.point=n[1].data.point,e.inspectionRules=e.getFormattedInspectionRulesData(n[4].data.data),e.previousInspectionRules=e.getFormattedInspectionRulesData(n[4].data.data),e.isLoaded=!0}))).catch((function(e){console.log("settignsErr",e)}));case 7:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;d["a"].$on("open-edit",(function(t){var n=t.split("_")[0];"operatorGeneral"===n&&(e.operatorGeneralSettings=e.operatorGeneralSettings.map((function(e,n){return t==="operatorGeneral_".concat(n)?Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})),e.currentSettingsGroup="operatorGeneralSettings"),"operatorWage"===n&&(e.operatorWageSettings=e.operatorWageSettings.map((function(e,n){return t==="operatorWage_".concat(n)?Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})),e.currentSettingsGroup="operatorWageSettings")}))},methods:{getFormattedInspectionRulesData:function(e){return e.map((function(e){var t={id:e.id,name:e.name};return"VDGT"===e.name&&(t["value"]=e.rule_fields.distance_travelled_threshold),"TTGT"===e.name&&(t["value"]=e.rule_fields.trips_taken_threshold),"DPALIGT"===e.name&&(t["value"]=e.rule_fields.days_passed_threshold),t}))},haveAnyDataDiffForInspectionRule:function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++){if(e[n].name!==t[n].name)return!0;if(Number(e[n].value)!==Number(t[n].value))return!0}return!1},getInspectionRuleUnit:function(e){return"VDGT"===e?this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptionsUnit.meter"):"TTGT"===e?this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptionsUnit.trips"):"DPALIGT"===e?this.$t("components.settingsManagement.operatorApp.operationPrimerSettings.inspectionRule.ruleoptionsUnit.days"):void 0},handleInspectionRuleSettingsEdit:function(){this.isInspectionRuleEdit=!0,this.currentSettingsGroup="inspectionRuleSettings"},handleInspectionRuleSettingsCancel:function(){this.isInspectionRuleEdit=!1,this.dataChangeStatus&&(this.inspectionRules=Object(i["a"])(this.previousInspectionRules),this.dataChangeStatus=!1)},updateInspectionRuleSettings:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e.inspectionRules.length>0&&e.inspectionRules.forEach((function(t){var a="id"in t,o=a?"PATCH":"POST",i=a?g["c"].operationPrimer.inspectionRules.update(t.id):g["c"].operationPrimer.inspectionRules.create(e.orgId),r=new FormData;r.append("name",t.name),t.value&&(""!=="".concat(t.value).trim()&&isNaN(t.value)||("VDGT"===t.name&&r.append("distance_travelled_threshold",t.value),"TTGT"===t.name&&r.append("trips_taken_threshold",t.value),"DPALIGT"===t.name&&r.append("days_passed_threshold",t.value)));var s=e.$http({url:i,method:o,data:r});n.push(s)})),e.isInspectionRuleEdit&&e.toDeleteInspectionRules.length>0&&e.toDeleteInspectionRules.forEach((function(t){if("id"in t){var a=e.$http({url:g["c"].operationPrimer.inspectionRules.update(t.id),method:"DELETE"});n.push(a)}})),a=[].concat(n),e.isLoading=!0,t.next=7,e.$http.all(a).then((function(){e.$notify({group:"generic",type:"success",title:"Success",text:"Updated Successfully"})})).catch((function(t){console.error("Error occurred!",t),e.$notify({group:"generic",type:"error",title:"Error occurred!",text:t.response.data.detail})})).finally((function(){e.isInspectionRuleEdit=!1,e.toDeleteInspectionRules=[],e.$http.get(g["c"].operationPrimer.inspectionRules.index(e.orgId)).then((function(t){e.inspectionRules=e.getFormattedInspectionRulesData(t.data.data),e.previousInspectionRules=e.getFormattedInspectionRulesData(t.data.data)}))}));case 7:case"end":return t.stop()}}),t)})))()},onAddInspectionRule:function(){this.isInspectionRuleEdit&&this.inspectionRules.length===this.inspectionNameOptions.length?this.$notify({group:"generic",type:"default",title:"Warning",text:"You have created all inspection rules already"},5e3):this.isInspectionRuleEdit&&this.inspectionRules.unshift({name:"",value:""})},onRemoveInspectionRule:function(e){if(this.isInspectionRuleEdit){var t=this.inspectionRules[e];this.inspectionRules.filter((function(e){return e.name===t.name})).length>0&&this.toDeleteInspectionRules.push(this.inspectionRules[e]),this.inspectionRules.splice(e,1)}},onSave:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var i,r,l,p;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return"drop_off_photo_required"===t&&(i="Drop-off Photo Required",r="Drop-off Photo Required has been updated"),"check_inside_drop_off_area"===t&&(i="Check Inside Drop-off Area",r="Check Inside Drop-off Area has been updated"),"is_reservation_required"===t&&(i="Reservation Required",r="Reservation Required has been updated"),"should_swap_battery_for_low_level"===t&&(i="Successful",r="Update Successfully"),"battery_level_for_swapping"===t&&(i="Successful",r="Update Successfully"),"release_spot_reservation_time_in_min"===t&&(i="Release Spot Reservation Timeout (Minutes)",r="Release Spot Reservation Timeout (Minutes) has been updated"),"should_unlock_vehicle_on_pickup"===t&&(i="Successful",r="Update Successfully"),"should_lock_vehicle_on_dropoff"===t&&(i="Successful",r="Update Successfully"),"charging"===e&&"rate"===t&&(i="Earning Rate (Charging)",r="Earning Rate (Charging) has been updated"),"charging"===e&&"point"===t&&(i="Point (Charging)",r="Point (Charging) has been updated"),"rebalancing"===e&&"rate"===t&&(i="Earning Rate (Rebalance)",r="Earning Rate (Rebalance) has been updated"),"rebalancing"===e&&"point"===t&&(i="Point (Rebalance)",r="Point (Rebalance) has been updated"),"organization"===e&&"operator_hardware_commands_allowed"===t&&(i="Operator hardware commands allowed",r="Operator hardware commands allowed has been updated"),l=new FormData,l.append(t,n),p=null,"general"===e&&(p=u["d"].api.general.index(a.orgId)),"charging"===e&&(p=u["d"].api.charging.index(a.orgId)),"rebalancing"===e&&(p=u["d"].api.rebalancing.index(a.orgId)),"organization"===e&&(p=g["c"].organization.details(a.orgId)),"vehicle"===e&&(p=u["g"].api.update(a.orgId)),o.next=23,a.$http.patch(p,l).then((function(){a.operatorGeneralSettings=a.operatorGeneralSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})),a.operatorWageSettings=a.operatorWageSettings.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{isEdit:!1})})),a.$notify({group:"generic",type:"success",title:i,text:r},3e3),a.counter++})).catch((function(e){console.log("onSaveError",e),a.$notify({group:"generic",type:"error",title:i,text:"Failed to update settings"},3e3)}));case 23:case"end":return o.stop()}}),o)})))()}}},m=h,f=(n("3fa7"),n("2877")),v=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=v.exports},b345:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return p}));var a={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/basic-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/basic-settings/")}}},o={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-settings/")}}},i={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/event-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(e,"/")}}},r={api:{index:"/dashboard/organization-behavior-points/",single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(e,"/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(e,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},s={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(e,"/")}},topup:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(e,"/topup-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(e,"/topup-settings/")}}}},l={api:{general:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-general-settings/")}},charging:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-charging-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-rebalancing-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-rebalancing-settings/")}}}},p={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/business-hour-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(e,"/")}}}},b4694:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationProvider",{staticClass:"grid grid-cols-12  ",attrs:{tag:"div",rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,o=t.required;return[n("div",{staticClass:"col-span-12  md:col-span-3 "},[n("div",{staticClass:"label "},[n("input-label",{attrs:{error:a[0],text:e.label+(o?" *":"")}})],1)]),n("div",{staticClass:"col-span-12 md:col-span-6"},[n("div",{staticClass:"flex gap-2 items-center justify-start "},[n("div",{staticClass:" flex items-center"},[n("t-toggle",{attrs:{variant:"regular",checked:e.model},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),n("span",{staticClass:"text-sm font-medium"},[e._v(e._s(e.getStatusText))])]),e.showDescription?n("p",{staticClass:"description mb-2",class:{"text-red-500":a[0]}},[e._v(" "+e._s(e.description)+" ")]):e._e()])]}}])})},o=[],i=n("5f81"),r={name:"SmartToggleInput",props:{showDescription:{type:Boolean,default:!0},label:{type:String,default:""},description:{type:String,default:""},onText:{type:String,default:""},offText:{type:String,default:""},onValue:{type:Boolean,default:!0},offValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},data:function(){return{model:null}},components:{InputLabel:i["default"]},computed:{getStatusText:function(){return this.model===this.onValue?this.onText:this.offText}},watch:{value:{immediate:!0,deep:!1,handler:function(){this.model=this.value}},model:{immediate:!1,deep:!1,handler:function(e,t){e!==t&&(this.$emit("input",e),this.$emit("save",e))}}}},s=r,l=(n("38ca"),n("2877")),p=Object(l["a"])(s,a,o,!1,null,null,null);t["a"]=p.exports},dcc2:function(e,t,n){}}]);
//# sourceMappingURL=settings-OperatorSettings.5ab58d24.js.map