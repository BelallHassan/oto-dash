(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings-PointSettings","chunk-389dd0fb","chunk-2d0d3e80","chunk-42b332c1","chunk-c14436aa","chunk-2d0d3e80","chunk-2d20fb42"],{"15e7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.to?a("div",[a("router-link",{class:t.getClass,style:"white-space: nowrap; width: "+t.width+"; height: "+t.height,attrs:{to:t.to},on:{click:t.handleClick}},[t._t("default",(function(){return[t._v(t._s(t.text))]}))],2)],1):a("div",[a("a",{class:t.getClass,style:"white-space: nowrap; width: "+t.width+"; height: "+t.height,attrs:{href:t.href},on:{click:t.handleClick}},[a("loading",{class:"outline-none",attrs:{active:t.getLoaderState,height:25,opacity:0,color:"#fff",loader:"bars","is-full-page":!1}}),a("div",{class:{invisible:t.isLoading}},[t.onlyShowIcon?t._e():t._t("default",(function(){return[t._v(" "+t._s(t.text)+" ")]})),t.onlyShowIcon?t._t("icon"):t._e()],2)],1)])])},i=[],s=(a("caad"),{name:"AnchorButton",props:{text:{required:!1},onlyShowIcon:{required:!1},to:{required:!1},href:{required:!1,default:"javascript:void(0);"},variant:{required:!1,default:"primary",validator:function(t){return["primary","secondary","success","success-alt","warning","warning-alt","disabled"].includes(t)}},isLoading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},width:{type:String,required:!1,default:"auto"},height:{type:String,required:!1,default:"36px"}},computed:{getClass:function(){var t="relative flex items-center justify-center border border-transparent text-center px-4 font-semibold text-14px leading-normal rounded transition ease-in-out duration-150 cursor-pointer focus:outline-none",e=" text-gray-100 hover:text-white focus:text-white",a=" text-gray-800 hover:text-gray-900 focus:text-gray-900",n={primary:"".concat(t," ").concat(e," bg-gray-900 hover:bg-gray-800 hover:border-gray-800 focus:bg-gray-700"),secondary:"".concat(t," ").concat(a," bg-gray-200 hover:border-gray-900 hover:text-gray-900 focus:bg-gray-300"),success:"".concat(t," ").concat(e," bg-oGreen hover:border-green-600 hover:opacity-75 focus:border-green-500"),"success-alt":"".concat(t," bg-green-alt-button text-oGreen hover:text-green-600 focus:text-green-600 hover:border-green-600 focus:border-green-500"),warning:"".concat(t," ").concat(e," bg-oOrange hover:bg-orange-200 hover:border-orange-200 focus:bg-orange-300"),"warning-alt":"".concat(t," text-gray-800 ").concat(e," bg-gray-200 hover:border-oOrange hover:bg-oOrangeAlt focus:bg-oOrange "),disabled:"cursor-not-allowed text-gray-400 hover:text-gray-500 border-gray-200 ".concat(t,"  bg-gray-100 hover:border-gray-300 focus:bg-gray-200")};return this.disabled?n["disabled"]:this.variant in n?n[this.variant]:n["primary"]},getLoaderState:function(){return(!this.href||"javascript:void(0);"===this.href)&&this.isLoading}},methods:{handleClick:function(){!1===this.isLoading&&!1===this.disabled&&this.$emit("click")}}}),r=s,o=(a("b8b1"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"9dca0a76",null);e["default"]=l.exports},"2e59":function(t,e,a){},"3e96":function(t,e,a){},"5f81":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-gray-700 text-14px  ",class:{"text-gray-700":!!t.error,"text-red-600":!!t.error,"flex items-center":t.isShowInfoSymbol}},[t._t("default",(function(){return[t._v(t._s(t.text))]})),t.isShowInfoSymbol?n("img",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"<div class='w-40 p-1 text-xs'>"+t.info+"</div>",expression:"`<div class='w-40 p-1 text-xs'>${info}</div>`",modifiers:{top:!0}}],staticClass:"cursor-pointer ml-1 h-4 w-4",attrs:{src:a("b581")}}):t._e()],2)},i=[],s={name:"InputLabel",props:{text:{type:String},error:{type:String},isShowInfoSymbol:{type:Boolean,default:!1},info:{type:String,default:""}}},r=s,o=a("2877"),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},"686e":function(t,e,a){},"6c11":function(t,e,a){},"8a05":function(t,e,a){"use strict";a("686e")},b345:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"g",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return d}));var n={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")}}},i={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")}}},s={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/event-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(t,"/")}}},r={api:{index:"/dashboard/organization-behavior-points/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},o={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(t,"/")}},topup:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")}}}},l={api:{general:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-general-settings/")}},charging:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")}}}},d={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/business-hour-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(t,"/")}}}},b581:function(t,e,a){t.exports=a.p+"assets/info.554ebc24.svg"},b800:function(t,e,a){"use strict";a("3e96")},b8b1:function(t,e,a){"use strict";a("6c11")},df72:function(t,e,a){"use strict";a("2e59")},e94b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationProvider",{staticClass:"relative w-full appearance-none",attrs:{tag:"div",vid:t.vid,rules:t.rules,name:t.name||t.label},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,i=e.required,s=e.ariaInput,r=e.ariaMsg;return[a("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-14px",class:{"text-gray-700":!n[0],"text-red-600":n[0]||""!=t.phone_error},attrs:{for:t.name},on:{click:function(e){return t.$refs.input.focus()}}},[t.label?a("div",[a("span",[t._v(t._s(t.label))]),a("span",[t._v(t._s(i?" *":""))])]):t._e()]),"phone"==t.input_type?a("vue-tel-input",{ref:"telInput",class:{"border-gray-400 placeholder-gray-500 telinput":!n[0]||""==t.phone_error,"border-red-600 placeholder-red-400 custom-phone":n[0],"has-value telinput":t.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray telinput":t.disabled},attrs:{placeholder:t.placeholder,disabled:t.disabled},on:{input:t.onChangePhoneNumber},model:{value:t.innerValue,callback:function(e){t.innerValue=e},expression:"innerValue"}}):t._e(),a("div",{staticClass:"relative"},["textarea"==t.input_type?a("textarea",t._b({directives:[{name:"model",rawName:"v-model",value:t.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full h-20 px-4 py-1 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0],"border-red-600 placeholder-red-400":n[0],"has-value":t.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":t.disabled},attrs:{placeholder:t.placeholder,disabled:t.disabled,step:t.step},domProps:{value:t.innerValue},on:{input:function(e){e.target.composing||(t.innerValue=e.target.value)}}},"textarea",s,!1)):t._e(),"checkbox"===t.type&&"phone"!=t.input_type&&"textarea"!=t.input_type?a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!t.errorMessage,"border-red-600 placeholder-red-400":n[0]||t.errorMessage,"has-value":t.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":t.disabled},attrs:{placeholder:t.placeholder,disabled:t.disabled,step:t.step,min:t.min,type:"checkbox"},domProps:{checked:Array.isArray(t.innerValue)?t._i(t.innerValue,null)>-1:t.innerValue},on:{change:function(e){var a=t.innerValue,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);n.checked?r<0&&(t.innerValue=a.concat([s])):r>-1&&(t.innerValue=a.slice(0,r).concat(a.slice(r+1)))}else t.innerValue=i}}},"input",s,!1)):"radio"===t.type&&"phone"!=t.input_type&&"textarea"!=t.input_type?a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!t.errorMessage,"border-red-600 placeholder-red-400":n[0]||t.errorMessage,"has-value":t.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":t.disabled},attrs:{placeholder:t.placeholder,disabled:t.disabled,step:t.step,min:t.min,type:"radio"},domProps:{checked:t._q(t.innerValue,null)},on:{change:function(e){t.innerValue=null}}},"input",s,!1)):"phone"!=t.input_type&&"textarea"!=t.input_type?a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.innerValue,expression:"innerValue"}],ref:"input",staticClass:"block w-full px-4 py-1.5 leading-normal bg-white border border-gray-400 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"border-gray-400 placeholder-gray-500":!n[0]||!t.errorMessage,"border-red-600 placeholder-red-400":n[0]||t.errorMessage,"has-value":t.hasValue,"bg-oLightestGray text-oLightGray placeholder-oLightGray":t.disabled},attrs:{placeholder:t.placeholder,disabled:t.disabled,step:t.step,min:t.min,type:t.type},domProps:{value:t.innerValue},on:{input:function(e){e.target.composing||(t.innerValue=e.target.value)}}},"input",s,!1)):t._e(),"password"==t.input_type?a("div",{staticClass:"eye-body",on:{click:t.onChangeShowPassword}},[t.show_password?a("i",{staticClass:"far fa-eye"}):t._e(),t.show_password?t._e():a("i",{staticClass:"far fa-eye-slash"})]):t._e()]),""!==t.phone_error||""!=t.errorMessage||!n[0]&&t.showSubText?t._e():a("div",{staticClass:"flex items-center min-h-6"},[a("span",t._b({directives:[{name:"show",rawName:"v-show",value:n[0],expression:"errors[0]"}],staticClass:"block text-xs text-red-600 "},"span",r,!1),[t._v(t._s(n[0]))])]),""==t.errorMessage&&t.showSubText?a("div",{staticClass:"flex items-center min-h-6"},[a("span",{staticClass:"block text-xs text-gray-600 "},[t._v(t._s(t.subText))])]):t._e(),""!=t.phone_error?a("div",{staticClass:"flex items-center min-h-6"},[a("span",t._b({staticClass:"block text-xs text-red-600 "},"span",r,!1),[t._v(t._s(t.phone_error))])]):t._e(),""!=t.errorMessage?a("div",{staticClass:"flex items-center min-h-6"},[a("span",t._b({staticClass:"block text-xs text-red-600 "},"span",r,!1),[t._v(t._s(t.errorMessage))])]):t._e()]}}])})},i=[],s=(a("caad"),{name:"TextInput",components:{},props:{vid:{type:String,default:void 0},disabled:{type:Boolean,default:!1},name:{type:String,default:""},label:{type:String,default:""},input_type:{type:String,default:""},rules:{type:[Object,String],default:""},placeholder:{type:String,default:""},show_password:{type:Boolean,default:!1},type:{type:String,default:"text",validator:function(t){return["url","text","password","tel","search","number","email","date","textarea"].includes(t)}},step:{type:String,default:"1"},value:{type:null,default:""},errorMessage:{type:String,default:""},errorKey:{type:String,default:""},min:{type:String,default:""},subText:{type:String,default:""},showSubText:{type:Boolean,default:!1}},data:function(){return{innerValue:"",phone_error:""}},computed:{hasValue:function(){return!!this.innerValue}},methods:{onChangePhoneNumber:function(t,e){e.isValid?(this.innerValue=e.number.input,this.phone_error=""):this.phone_error="The phone number field must be a valid"},onChangeShowPassword:function(){this.$emit("showPassword",!this.show_password)}},watch:{innerValue:function(t){this.$emit("input",t),this.$emit("clear-error",this.errorKey)},value:function(t){t!==this.innerValue&&(this.innerValue=t)}},created:function(){null===this.value&&"undefined"===typeof this.value||(this.innerValue=this.value)}}),r=s,o=(a("df72"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"7b8ea01e",null);e["default"]=l.exports},fbb8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.isLoaded?t._e():a("div",{staticClass:"h-screen vld-parent"},[a("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?a("div",{staticClass:"max-w-6xl mx-auto mt-3 lg:mt-10 md:mt-5"},[a("div",{staticClass:"flex items-center justify-between"},[a("div",{staticClass:"font-bold text-22px text-oCharcoal"},[a("i",{staticClass:"fas fa-trophy text-22px text-oOrange"}),a("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.headline.points"))+" ")])]),a("div")]),a("div",{staticClass:"points-table-title"},[a("div",{staticClass:"px-2 font-bold w-70p text-14px"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.points.goodBehaviour"))+" ")]),a("div",{staticClass:"px-2 font-bold w-30p text-14px"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.points.points"))+" ")])]),t._l(t.settings.good_points,(function(e,n){return a("div",{key:"good-"+n},[a("SmartPointInput",{attrs:{rowId:"good_"+e.id,title:e.title,placeholder:"Enter\n      your point",type:t.text,point:e.point,isEdit:e.isEdit},on:{save:function(a){return t.onSave(e.id,a)}}})],1)})),a("div",{staticClass:"mt-10 points-table-title"},[a("div",{staticClass:"px-2 font-bold w-70p text-14px"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.points.badBehaviour"))+" ")]),a("div",{staticClass:"px-2 font-bold w-30p text-14px"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.points.points"))+" ")])]),t._l(t.settings.bad_points,(function(e,n){return a("div",{key:"bad-"+n},[a("SmartPointInput",{attrs:{rowId:"bad_"+e.id,title:e.title,placeholder:"Enter\n      your point",type:t.text,point:e.point,isEdit:e.isEdit},on:{save:function(a){return t.onSave(e.id,a)}}})],1)})),a("div",{staticClass:"flex justify-between mt-10"},[a("div",[a("div",{staticClass:"flex items-center"},[a("i",{staticClass:"fas fa-award text-oOrange text-22px"}),a("div",{staticClass:"pl-3 font-bold text-22px text-oCharcoal"},[t._v(" "+t._s(t.$t("components.settingsManagement.points.headline.rewardPointGroups"))+" ")])])]),a("div",{staticClass:"col-span-12 pencil-icon md:col-span-3 justify-items-end justify-self-end"},[t.isRewardPointEdit?t._e():a("div",[a("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.handleRewardPointEdit}},[a("path",{attrs:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])])]),t.isRewardPointEdit?a("div",{staticClass:"flex ml-3 mt-3 mb-4"},[a("anchor-button",{attrs:{text:t.$t("components.stepNavigation.cancel"),width:"6rem"},on:{click:t.handleRewardPointCancel}}),a("anchor-button",{staticClass:"ml-4",attrs:{text:t.$t("components.stepNavigation.save"),variant:"success",width:"6rem"},on:{click:t.updateRewardPointGroups}})],1):t._e()]),t.rewardPointGroups.length>0?a("div",{staticClass:"grid grid-cols-1 mt-6 gap-x-10 gap-y-4 md:grid-cols-2 lg:grid-cols-2"},[a("section",{staticClass:"border-1 p-4"},[a("input-label",{attrs:{text:t.$t("components.settingsManagement.points.rewardPointGroups.silver")}}),a("div",{staticClass:"flex items-center"},[a("text-input",{staticClass:"pr-2",attrs:{placeholder:"0",disabled:""}}),a("div",{staticClass:"mb-6"},[t._v("-")]),a("text-input",{staticClass:"pl-2",attrs:{type:"number",disabled:!t.isRewardPointEdit},on:{input:t.handleRewardPointGroupInputChange},model:{value:t.rewardPointGroups[0].end,callback:function(e){t.$set(t.rewardPointGroups[0],"end",t._n(e))},expression:"rewardPointGroups[0].end"}})],1),a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[t._v(t._s(t.$t("components.settingsManagement.points.rewardPointGroups.benefits")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onAddBenefit(0)}}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),t._l(t.rewardPointGroups[0].benefits,(function(e,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:"Silver Benefit "+n,rules:"",disabled:!t.isRewardPointEdit},model:{value:t.rewardPointGroups[0].benefits[n],callback:function(e){t.$set(t.rewardPointGroups[0].benefits,n,e)},expression:"rewardPointGroups[0].benefits[index]"}})],1)]),t.isRewardPointEdit?a("div",{staticClass:"flex justify-center w-1/12 item-center -mt-4 ml-2"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onRemoveBenefit(0,n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])]):t._e()])}))],2)],1),a("section",{staticClass:"border-1 p-4"},[a("input-label",{attrs:{text:t.$t("components.settingsManagement.points.rewardPointGroups.gold")}}),a("div",{staticClass:"flex items-center"},[a("text-input",{staticClass:"pr-2",attrs:{placeholder:""+t.rewardPointGroups[1].start,disabled:""}}),a("div",{staticClass:"mb-6"},[t._v("-")]),a("text-input",{staticClass:"pl-2",attrs:{type:"number",disabled:!t.isRewardPointEdit},on:{input:t.handleRewardPointGroupInputChange},model:{value:t.rewardPointGroups[1].end,callback:function(e){t.$set(t.rewardPointGroups[1],"end",t._n(e))},expression:"rewardPointGroups[1].end"}})],1),a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[t._v(t._s(t.$t("components.settingsManagement.points.rewardPointGroups.benefits")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onAddBenefit(1)}}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),t._l(t.rewardPointGroups[1].benefits,(function(e,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:"Gold Benefit "+n,rules:"",disabled:!t.isRewardPointEdit},model:{value:t.rewardPointGroups[1].benefits[n],callback:function(e){t.$set(t.rewardPointGroups[1].benefits,n,e)},expression:"rewardPointGroups[1].benefits[index]"}})],1)]),t.isRewardPointEdit?a("div",{staticClass:"flex justify-center w-1/12 item-center -mt-4 ml-2"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onRemoveBenefit(1,n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])]):t._e()])}))],2)],1),a("section",{staticClass:"border-1 p-4"},[a("input-label",{attrs:{text:t.$t("components.settingsManagement.points.rewardPointGroups.diamond")}}),a("div",{staticClass:"flex items-center"},[a("text-input",{staticClass:"pr-2",attrs:{placeholder:""+t.rewardPointGroups[2].start,disabled:""}}),a("div",{staticClass:"mb-6"},[t._v("-")]),a("text-input",{staticClass:"pl-2",attrs:{type:"number",disabled:!t.isRewardPointEdit},on:{input:t.handleRewardPointGroupInputChange},model:{value:t.rewardPointGroups[2].end,callback:function(e){t.$set(t.rewardPointGroups[2],"end",t._n(e))},expression:"rewardPointGroups[2].end"}})],1),a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[t._v(t._s(t.$t("components.settingsManagement.points.rewardPointGroups.diamond")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onAddBenefit(2)}}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),t._l(t.rewardPointGroups[2].benefits,(function(e,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:"Diamond Benefit "+n,rules:"",disabled:!t.isRewardPointEdit},model:{value:t.rewardPointGroups[2].benefits[n],callback:function(e){t.$set(t.rewardPointGroups[2].benefits,n,e)},expression:"rewardPointGroups[2].benefits[index]"}})],1)]),t.isRewardPointEdit?a("div",{staticClass:"flex justify-center w-1/12 item-center -mt-4 ml-2"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onRemoveBenefit(2,n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])]):t._e()])}))],2)],1),a("section",{staticClass:"border-1 p-4"},[a("input-label",{attrs:{text:t.$t("components.settingsManagement.points.rewardPointGroups.platinum")}}),a("div",{staticClass:"flex items-center"},[a("text-input",{staticClass:"pr-2",attrs:{placeholder:""+t.rewardPointGroups[3].start,disabled:""}}),a("div",{staticClass:"mb-6"},[t._v("-")]),a("text-input",{staticClass:"pl-2",attrs:{placeholder:"∞",disabled:""}})],1),a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[t._v(t._s(t.$t("components.settingsManagement.points.rewardPointGroups.benefits")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onAddBenefit(3)}}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),t._l(t.rewardPointGroups[3].benefits,(function(e,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:"Platinum Benefit "+n,rules:"",disabled:!t.isRewardPointEdit},model:{value:t.rewardPointGroups[3].benefits[n],callback:function(e){t.$set(t.rewardPointGroups[3].benefits,n,e)},expression:"rewardPointGroups[3].benefits[index]"}})],1)]),t.isRewardPointEdit?a("div",{staticClass:"flex justify-center w-1/12 item-center -mt-4 ml-2"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(e){return t.onRemoveBenefit(3,n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])]):t._e()])}))],2)],1)]):t._e()],2):t._e()])},i=[],s=a("3835"),r=a("1da1"),o=a("5530"),l=(a("96cf"),a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("159b"),a("a434"),a("4a9d")),d=a("b345"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"points-item"},[a("div",{staticClass:"left"},[t._v(t._s(t.title))]),a("div",{staticClass:"right"},["checkbox"===t.typeProxy?a("input",t._g({directives:[{name:"model",rawName:"v-model",value:t.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"w-60p  block px-4 py-1.5 leading-normal bg-gray-200 text-gray-800 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"point text-oLightGray placeholder-oLightGray":t.getDisableStatus,"has-value":t.hasValue},attrs:{disabled:t.getDisableStatus,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.valueProxy)?t._i(t.valueProxy,null)>-1:t.valueProxy},on:{change:function(e){var a=t.valueProxy,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);n.checked?r<0&&(t.valueProxy=a.concat([s])):r>-1&&(t.valueProxy=a.slice(0,r).concat(a.slice(r+1)))}else t.valueProxy=i}}},t.getListeners)):"radio"===t.typeProxy?a("input",t._g({directives:[{name:"model",rawName:"v-model",value:t.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"w-60p  block px-4 py-1.5 leading-normal bg-gray-200 text-gray-800 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"point text-oLightGray placeholder-oLightGray":t.getDisableStatus,"has-value":t.hasValue},attrs:{disabled:t.getDisableStatus,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.valueProxy,null)},on:{change:function(e){t.valueProxy=null}}},t.getListeners)):a("input",t._g({directives:[{name:"model",rawName:"v-model",value:t.valueProxy,expression:"valueProxy"}],ref:"inputRef",staticClass:"w-60p  block px-4 py-1.5 leading-normal bg-gray-200 text-gray-800 rounded outline-none focus:ring-0 focus:border-gray-700 focus:placeholder-gray-500",class:{"point text-oLightGray placeholder-oLightGray":t.getDisableStatus,"has-value":t.hasValue},attrs:{disabled:t.getDisableStatus,placeholder:t.placeholder,type:t.typeProxy},domProps:{value:t.valueProxy},on:{input:function(e){e.target.composing||(t.valueProxy=e.target.value)}}},t.getListeners)),a("div",{staticClass:"w-40p point-edit"},[a("div",[t.getEditStatus?a("div",{staticClass:" flex pl-2"},[a("anchor-button",{attrs:{onlyShowIcon:!0},on:{click:t.handleCancel},scopedSlots:t._u([{key:"icon",fn:function(){return[a("i",{staticClass:"fas fa-ban  text-oWhite"})]},proxy:!0}],null,!1,488599655)}),a("anchor-button",{staticClass:"ml-2",attrs:{onlyShowIcon:!0,variant:"success"},on:{click:t.handleSave},scopedSlots:t._u([{key:"icon",fn:function(){return[a("i",{staticClass:"fas fa-check  text-oWhite"})]},proxy:!0}],null,!1,4153634092)})],1):t._e()]),a("div",{staticClass:"pencil-icon "},[t.getEditStatus?t._e():a("div",[a("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:function(e){return t.handleEdit(t.id)}}},[a("path",{attrs:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])])])])])])},u=[],p=(a("a9e3"),a("ac1f"),a("1276"),a("ed08")),h=a("15e7"),g={name:"SmartPointInput",components:{AnchorButton:h["default"]},props:{rowId:{type:[String,Number],default:"PointInputId"},title:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},point:{type:null,default:""},isEdit:{type:Boolean,default:!1}},data:function(){return{typeProxy:"",valueProxy:"",editableStatus:!1,previousData:null,group:null,id:null}},created:function(){this.previousData=this.valueProxy},computed:{hasValue:function(){return!!this.valueProxy},getDisableStatus:function(){return!this.editableStatus},getEditStatus:function(){return!!this.editableStatus},getListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){var a=e.target.value;t.$emit("input",a)}})}},watch:{rowId:{deep:!1,immediate:!0,handler:function(t){t&&(this.group=t.split("_")[0],this.id=t.split("_")[1])}},point:{deep:!1,immediate:!0,handler:function(t){t!==this.valueProxy&&(this.valueProxy=t)}},type:{deep:!1,immediate:!0,handler:function(t){t!==this.typeProxy&&(this.typeProxy=t)}},isEdit:{deep:!1,immediate:!0,handler:function(t){t?this.editableStatus=!0:(this.editableStatus=!1,null!==this.previousData&&(this.valueProxy=this.previousData))}}},methods:{handleCancel:function(){this.editableStatus=!this.editableStatus,null!==this.previousData&&(this.valueProxy=this.previousData)},handleSave:function(){this.editableStatus=!this.editableStatus,this.$emit("save",{title:this.title,value:this.valueProxy})},handleEdit:function(t){p["a"].$emit("open-edit",this.group,t),this.editableStatus=!this.editableStatus},focus:function(){this.$refs.inputRef.focus()}}},f=g,b=(a("b800"),a("2877")),v=Object(b["a"])(f,c,u,!1,null,"44b300fc",null),m=v.exports,y=a("5f81"),x=a("e94b"),w={name:"PointSettings",components:{AnchorButton:h["default"],InputLabel:y["default"],TextInput:x["default"],SmartPointInput:m},data:function(){return{isLoaded:!1,settings:{},counter:0,currentSettingsGroup:null,rewardPointGroups:[],rewardPointGroupEditMode:!1,isRewardPointEdit:!1,dataChangeStatus:!1}},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(t){"good"===t&&(this.settings.bad_points=this.settings.bad_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),this.isRewardPointEdit=!1),"bad"===t&&(this.settings.good_points=this.settings.good_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),this.isRewardPointEdit=!1)}},rewardPointGroups:{deep:!0,handler:function(){this.counter>0&&(this.dataChangeStatus=!0),this.counter++}}},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=[t.$http.get(d["e"].api.index),t.$http.get(d["e"].api.rewardPointGroupIndex)],Promise.all(a).then((function(e){var a=Object(s["a"])(e,2),n=a[0],i=a[1];console.log(n,i),t.settings=n.data.data,t.rewardPointGroups=i.data.data,t.isLoaded=!0})).catch((function(t){console.log("settignsErr",t)}));case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;l["a"].$on("open-edit",(function(e,a){console.log("groupid",e,a),"good"===e&&(t.settings.good_points=t.settings.good_points.map((function(t){return a===t.id?Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!0}):Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="good"),"bad"===e&&(t.settings.bad_points=t.settings.bad_points.map((function(t){return a===t.id?Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!0}):Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="bad"),t.isRewardPointEdit&&(t.isRewardPointEdit=!1,t.handleRewardPointCancel())}))},methods:{handleRewardPointEdit:function(){this.settings.good_points=this.settings.good_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),this.settings.bad_points=this.settings.bad_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),this.isRewardPointEdit=!0},handleRewardPointCancel:function(){var t=this;this.isRewardPointEdit=!1,this.dataChangeStatus&&(this.$http.get(d["e"].api.rewardPointGroupIndex).then((function(e){t.rewardPointGroups=e.data.data})),this.dataChangeStatus=!1,this.counter=0)},onSave:function(t,e){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=new FormData,i.append("point",e.value),n.next=4,a.$http.patch(d["e"].api.update(t),i).then((function(){a.settings.good_points=a.settings.good_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),a.settings.bad_points=a.settings.bad_points.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isEdit:!1})})),a.$notify({group:"generic",type:"success",title:e.title,text:'The point of "'.concat(e.title,'" behaviour is set to ').concat(e.value)},3e3)})).catch((function(t){console.log(t),a.$notify({group:"generic",type:"error",title:"Operation Failed",text:"Failed to ".concat(e.title)},3e3)}));case 4:case"end":return n.stop()}}),n)})))()},handleRewardPointGroupInputChange:function(){var t,e=this;this.rewardPointGroups.forEach((function(a,n){t&&(e.rewardPointGroups[n].start=t+1),t=a.end,null!==a.end&&e.rewardPointGroups[n].start>=a.end&&(e.rewardPointGroups[n].end=e.rewardPointGroups[n].start+100)}))},updateRewardPointGroups:function(){var t=this,e={data:this.rewardPointGroups};this.$http.post(d["e"].api.rewardPointGroupUpdate,e).then((function(){t.$notify({group:"bottomRight",type:"success",title:"Reward Point Groups Update",text:"Reward point groups has been updated successfully"}),t.isRewardPointEdit=!1})).catch((function(e){console.log(e),t.$notify({group:"bottomRight",type:"error",title:"Reward Point Groups Update",text:"Reward point groups could not be updated"})}))},onAddBenefit:function(t){this.isRewardPointEdit&&this.rewardPointGroups[t].benefits.push("")},onRemoveBenefit:function(t,e){this.isRewardPointEdit&&this.rewardPointGroups[t].benefits.splice(e,1)}}},_=w,P=(a("8a05"),Object(b["a"])(_,n,i,!1,null,null,null));e["default"]=P.exports}}]);
//# sourceMappingURL=settings-PointSettings.43d8d954.js.map