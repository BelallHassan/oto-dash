(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings-ScheduleSettings","chunk-135b8aca"],{1241:function(t,e,n){"use strict";n("b750")},1566:function(t,e,n){"use strict";n("b4c6")},"1ada":function(t,e,n){},2869:function(t,e,n){},"2a9f":function(t,e,n){var i=n("c973").default;n("96cf"),n("99af");var s={data:function(){return{inPlaceEditingState:{}}},methods:{getEditingState:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?this.inPlaceEditingState[t]:this.inPlaceEditingState["".concat(t,"_").concat(e)]},getInputLockState:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!this.getEditingState(t,e)},toggleEditingState:function(t){var e=arguments,n=this;return i(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=e.length>1&&void 0!==e[1]?e[1]:null,a=e.length>2&&void 0!==e[2]?e[2]:null,console.log("what data I from api call?: ",t),"cancel"!==t){i.next=7;break}return n.inPlaceEditingState["$'app'_".concat(s)]=!n.inPlaceEditingState["$'app'_".concat(s)],n.inPlaceEditingState["app"]=!n.inPlaceEditingState["app"],i.abrupt("return",!0);case 7:if(!0!==n.getEditingState(t,s)){i.next=10;break}return i.next=10,n.inPlaceEditingRequest(t,s,a);case 10:if(null!==s&&"cancel"!==t){i.next=13;break}return n.inPlaceEditingState[t]=!n.inPlaceEditingState[t],i.abrupt("return",!0);case 13:return n.inPlaceEditingState["".concat(t,"_").concat(s)]=!n.inPlaceEditingState["".concat(t,"_").concat(s)],i.abrupt("return",!0);case 15:case"end":return i.stop()}}),i)})))()},getButtonText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.getInputLockState(t,e)?this.$t("components.stepNavigation.edit"):this.$t("components.stepNavigation.save")},getButtonVariant:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.getInputLockState(t,e)?"primary":"success"},getModel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?this._data[t]:this._data[t][e]},inPlaceEditingRequest:function(t){var e=arguments,n=this;return i(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=e.length>1&&void 0!==e[1]?e[1]:null,a=e.length>2&&void 0!==e[2]?e[2]:null,null!==s){i.next=6;break}return i.next=5,setTimeout((function(){console.log("inPlaceEditingRequest => @val:"+n.getModel(t)),console.log("extraData:",a),console.table(n.getModel(t))}),1e3);case 5:return i.abrupt("return",!0);case 6:return i.next=8,setTimeout((function(){console.log("inPlaceEditingRequest => @key:"+s+" @val:"+n.getModel(t,s))}),1e3);case 8:return i.abrupt("return",!0);case 9:case"end":return i.stop()}}),i)})))()}}};t.exports=s},"38ca":function(t,e,n){"use strict";n("523e")},"39d7":function(t,e,n){t.exports=n.p+"assets/open-email.9cf727f5.svg"},"40a5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoaded?t._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?n("div",{staticClass:"max-w-6xl mx-auto mt-3 lg:mt-10 md:mt-5"},[n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("span",[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.headline.safety"))+" ")])])]),n("div",{key:"safetySettings_"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.safetySettings,(function(e,i){return["toggle"===e.type?n("SmartToggleInput",{key:"safetySettings_"+i,attrs:{label:e.label,options:e.options,placeholder:e.placeholder,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("safety",""+e.variable,n)}},model:{value:t.safety[""+e.variable],callback:function(n){t.$set(t.safety,""+e.variable,n)},expression:"safety[`${item.variable}`]"}}):t._e()]}))],2),n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("span",[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.headline.sobriety"))+" ")])])]),n("div",{key:"sobrietySettings_"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.sobrietySettings,(function(e,i){return["toggle"===e.type?n("SmartToggleInput",{key:"sobrietySettings_"+i,attrs:{label:e.label,options:e.options,placeholder:e.placeholder,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("safety",""+e.variable,n)}},model:{value:t.sobriety[""+e.variable],callback:function(n){t.$set(t.sobriety,""+e.variable,n)},expression:"sobriety[`${item.variable}`]"}}):[t.sobriety.is_sobriety_test_required?[n("SmartAppInput",{key:i,attrs:{rowId:"sobrietySettings_"+i,type:e.type,label:e.label,placeholder:e.placeholder,description:e.description,options:e.options,isEdit:e.isEdit,haveUnitText:e.haveUnitText,unitText:e.unitText,unitWidthVariant:e.unitWidthVariant},on:{save:function(n){return t.onSave("safety",""+e.variable,n)}},model:{value:t.sobriety[""+e.variable],callback:function(n){t.$set(t.sobriety,""+e.variable,n)},expression:"sobriety[`${item.variable}`]"}})]:t._e()]]}))],2),t.sobriety.is_sobriety_test_required?[n("div",[n("div",{staticClass:"flex items-center justify-between mt-5 mb-2"},[n("div",{staticClass:"font-bold text-19px text-oCharcoal"},[n("span",[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.headline"))+" ")])]),n("div")]),n("div",{staticClass:"hidden py-6 border-b border-oLightestGray md:flex border-t-2"},[n("div",{staticClass:"w-1/3 font-bold text-14px text-oGray"},[t._v(" Day ")]),n("div",{staticClass:"w-1/3 ml-2 font-bold text-14px text-oGray"},[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.title.startingTime"))+" ")]),n("div",{staticClass:"w-1/3 -ml-4 font-bold text-14px text-oGray"},[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.title.endingTime"))+" ")])]),n("div",{staticClass:"block h-px mt-6 md:hidden"}),t._l(t.sobrietySchedules,(function(e,i){return[n("s-grid",{key:i,attrs:{one:t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.title.workingDay"),two:t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.title.startingTime"),three:t.$t("components.settingsManagement.quiz.sobriety.settings.schedule.title.endingTime"),variant:i%2?"gray":"white"},scopedSlots:t._u([{key:"one",fn:function(){return[n("div",{staticClass:"flex mt-3"},[n("div",[n("t-toggle",{attrs:{variant:"success"},on:{change:function(n){return t.onOff(e,n)}},model:{value:e.is_active,callback:function(n){t.$set(e,"is_active",n)},expression:"item.is_active"}})],1),n("div",{staticClass:"ml-4 font-bold text-14px text-oGray"},[t._v(" "+t._s(e.day)+" ")])])]},proxy:!0},{key:"two",fn:function(){return[n("div",{staticClass:"w-4/5"},[n("ValidationObserver",{staticClass:"flex items-center w-full"},[n("form",{staticClass:"w-full",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault()}}},[n("ValidationProvider",{attrs:{vid:"friday",rules:""},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.errors;return[t.getInputLockState(t.lowercase(e.day)+"_start_time")?[n("text-input",{attrs:{disabled:!0},model:{value:e.start_time,callback:function(n){t.$set(e,"start_time",n)},expression:"item.start_time"}})]:[n("clock-picker",{attrs:{placeholder:"--:--"},model:{value:e.start_time,callback:function(n){t.$set(e,"start_time",n)},expression:"item.start_time"}}),n("input-error-item",{attrs:{message:s[0]}})]]}}],null,!0)})],1),n("div",[n("anchor-button",{staticClass:"ml-3",attrs:{text:t.getButtonText(t.lowercase(e.day)+"_start_time"),variant:t.getButtonVariant(t.lowercase(e.day)+"_start_time")},on:{click:function(n){t.toggleEditingState(t.lowercase(e.day)+"_start_time",null,e)}}}),n("input-error-item")],1)])],1)]},proxy:!0},{key:"three",fn:function(){return[n("div",{staticClass:"w-4/5"},[n("ValidationObserver",{staticClass:"flex items-center w-full"},[n("form",{staticClass:"w-full",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault()}}},[n("ValidationProvider",{attrs:{vid:"friday",rules:""},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.errors;return[t.getInputLockState(t.lowercase(e.day)+"_end_time")?[n("text-input",{attrs:{disabled:!0},model:{value:e.end_time,callback:function(n){t.$set(e,"end_time",n)},expression:"item.end_time"}})]:[n("clock-picker",{attrs:{placeholder:"--:--"},model:{value:e.end_time,callback:function(n){t.$set(e,"end_time",n)},expression:"item.end_time"}}),n("input-error-item",{attrs:{message:s[0]}})]]}}],null,!0)})],1),n("div",[n("anchor-button",{staticClass:"ml-3",attrs:{text:t.getButtonText(t.lowercase(e.day)+"_end_time"),variant:t.getButtonVariant(t.lowercase(e.day)+"_end_time")},on:{click:function(n){t.toggleEditingState(t.lowercase(e.day)+"_end_time",null,e)}}}),n("input-error-item")],1)])],1)]},proxy:!0}],null,!0)})]}))],2)]:t._e(),t.sobriety.is_sobriety_test_required?n("div",{staticClass:"mt-10"},[n("div",{staticClass:"flex items-center  justify-between"},[n("div",{staticClass:"font-bold text-19px text-oCharcoal flex"},[n("span",[t._v(" "+t._s(t.$t("components.settingsManagement.quiz.sobriety.list.headline"))+" ")]),n("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:t.onAddSobrietyQuiz}},[n("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])])]),n("div",{key:"sobrietySettings_"+t.counter,staticClass:" mt-3 pt-5 border-oLightestGray border-t-2"},[n("STable",{attrs:{"sId-id":"sobriety-quiz-list",headers:t.sobrietyQuizHeaders}},[t._l(t.sobrietyQuizList,(function(e,i){return[n("STableRow",{key:i,attrs:{"text-fallback-always":""}},[n("STableRowItem",{attrs:{text:e.question}}),n("STableRowItem",{attrs:{text:e.answer}}),n("STableRowItem",{attrs:{text:e.answer_countdown+" Sec"}}),n("STableRowItem",[n("div",{staticClass:"flex justify-start gap-2"},[n("OtoEditIcon",{on:{click:function(n){return t.onEditSobrietyQuiz(e)}}}),n("div",{staticClass:"cursor-pointer",on:{click:function(n){return t.onRemoveSobrietyQuiz(e.id)}}},[n("i",{staticClass:"fas fa-trash"})])],1)])],1)]}))],2)],1),n("AddEditSobrietyQuiz")],1):t._e()],2):t._e()])},s=[],a=n("5530"),r=n("1da1"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("ac1f"),n("1276"),n("d81d"),n("2b0e")),l=n("b4694"),c=n("cb0d"),u=n("2a9f"),d=n.n(u),p=n("69f9"),m=n("e94b"),f=n("15e7"),g=n("6eb7"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("slide-over-right",{attrs:{id:t.sorId,editType:"standard"},on:{showModal:t.showModal},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",{staticClass:"font-semibold text-gray-900 text-22px"},[t._v(" "+t._s(t.getTitleText)+" ")])]},proxy:!0}])},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[n("form",{staticClass:"px-6",on:{submit:function(e){return e.preventDefault(),i(t.submit)}}},[n("AppInput",{attrs:{type:"text",rules:"required",name:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.question"),label:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.question")},model:{value:t.form.question,callback:function(e){t.$set(t.form,"question",e)},expression:"form.question"}}),n("AppInput",{attrs:{type:"number",step:"0.1",rules:"required|between:0,10000",name:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.answer"),label:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.answer")},model:{value:t.form.answer,callback:function(e){t.$set(t.form,"answer",t._n(e))},expression:"form.answer"}}),n("AppInput",{attrs:{type:"number",step:"0.1",rules:"required|between:0,10000",name:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.countdown"),label:t.$t("components.settingsManagement.quiz.sobriety.list.addEdit.title.countdown"),haveUnitText:!0,unitText:"Sec"},model:{value:t.form.answer_countdown,callback:function(e){t.$set(t.form,"answer_countdown",t._n(e))},expression:"form.answer_countdown"}}),n("UploadImageAlt",{staticClass:"max-h-14",attrs:{current:t.form.picture,text:"Drag and drop the quiz photo and this photo must be 1:1 ratio and .jpg format","button-text":t.$t("components.vehicleOperationPrimer.addEdit.steps.part.title.photo"),disabled:!1},model:{value:t.form.picture,callback:function(e){t.$set(t.form,"picture",e)},expression:"form.picture"}}),n("div",{staticClass:"flex justify-end items-center mt-6"},[n("slide-over-right-trigger",{attrs:{id:t.sorId}},[n("anchor-button",{attrs:{variant:"secondary"}},[t._v(t._s(t.$t("components.stepNavigation.cancel")))])],1),n("t-button",{staticClass:"ml-3",attrs:{type:"submit"}},[t._v(t._s(t.isEditing?t.$t("components.stepNavigation.update"):t.$t("components.stepNavigation.save")))])],1)],1)]}}])})],1)},b=[],v=(n("b64b"),n("9f07")),y=n.n(v),_=n("4a9d"),x={api:{index:"/dashboard/sobriety-test-questions/",create:"/dashboard/sobriety-test-questions/",details:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/sobriety-test-questions/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/sobriety-test-questions/".concat(t,"/")},delete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/sobriety-test-questions/".concat(t,"/")}},events:{name:"sobriety-quiz",refresh:"rid-sobriety-quiz",sorId:"sobriety-quiz",sorOpen:"sor-open-sobriety-quiz",sorClose:"sor-close-sobriety-quiz",sorToggle:"sor-toggle-sobriety-quiz",editingData:"edit-sobriety-quiz-data",viewingData:"view-sobriety-quiz-data"}},w={name:"AddEditSobrietyQuiz",components:{SlideOverRight:function(){return n.e("chunk-67db83f0").then(n.bind(null,"04ec"))},SlideOverRightTrigger:function(){return n.e("chunk-2d237d7f").then(n.bind(null,"fd9d"))},AnchorButton:function(){return Promise.resolve().then(n.bind(null,"15e7"))},UploadImageAlt:function(){return n.e("chunk-37a667de").then(n.bind(null,"92e78"))}},data:function(){return{isLoading:!1,item:{},form:{},errors:[],sorId:x.events.sorId}},computed:{isEditing:function(){return 0!==Object.keys(this.item).length},getTitleText:function(){return this.isEditing,this.$t("components.settingsManagement.quiz.sobriety.list.addEdit.headline.add")}},mounted:function(){var t=this;_["a"].$on(x.events.editingData,(function(e){t.item=e,t.form=Object(a["a"])({},t.item)}))},methods:{showModal:function(){dispatchEvent(new Event(x.events.sorToggle))},submit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,i,s,r,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,e=this.isEditing?"PATCH":"POST",n=this.isEditing?x.api.update(this.item.id):x.api.create,i=Object(a["a"])({},this.form),delete i.id,"string"===typeof i.picture&&delete i.picture,s=new y.a(i).toFormData(),r=this.isEditing?"Quiz updated successfully":"Quiz added successfully",t.prev=8,t.next=11,this.$http({method:e,url:n,data:s});case 11:return o=t.sent,this.isLoading=!1,dispatchEvent(new Event(x.events.sorClose)),dispatchEvent(new Event(x.events.refresh)),this.form={},this.$notify({group:"generic",type:"success",title:"Success",text:r},3e3),t.abrupt("return",o.status);case 20:t.prev=20,t.t0=t["catch"](8),console.log("quiz-add-edit-err",{error:t.t0}),this.isLoading=!1,this.$notify({group:"generic",type:"error",title:"Failed [".concat(t.t0.response.status,"]"),text:"".concat(null!==t.t0&&void 0!==t.t0&&null!==(l=t.t0.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.message?t.t0.response.data.message:"Failed to take action")},3e3);case 25:case"end":return t.stop()}}),t,this,[[8,20]])})));function e(){return t.apply(this,arguments)}return e}()}},S=w,C=n("2877"),$=Object(C["a"])(S,h,b,!1,null,null,null),E=$.exports,k=n("e1f9"),M=n("c820"),P=n("ed08"),T={name:"QuizSettings",mixins:[d.a],components:{SmartToggleInput:l["a"],SmartAppInput:c["a"],SGrid:p["a"],TextInput:m["default"],AnchorButton:f["default"],ClockPicker:g["a"],STable:k["a"],STableRow:k["b"],STableRowItem:k["c"],OtoEditIcon:function(){return n.e("chunk-2d2244ff").then(n.bind(null,"e031"))},AddEditSobrietyQuiz:E},data:function(){return{isLoaded:!1,counter:0,currentSettingsGroup:null,safety:{is_safety_quiz_required:!1},sobriety:{is_sobriety_test_required:!1,sobriety_test_max_attempts:0,sobriety_test_lockdown_period:0,number_of_sobriety_test_questions_to_display:0},sobrietySchedules:[],inPlaceEditingState:{},sobrietyQuizList:[],sobrietyQuizHeaders:[{text:this.$t("components.settingsManagement.quiz.sobriety.list.table.question"),width:"60%",sort:null},{text:this.$t("components.settingsManagement.quiz.sobriety.list.table.answer"),width:"15%",sort:null},{text:this.$t("components.settingsManagement.quiz.sobriety.list.table.countdown"),width:"15%",sort:null},{text:this.$t("components.settingsManagement.quiz.sobriety.list.table.action"),width:"10%",sort:null}],sobrietySettings:[{type:"toggle",label:this.$t("components.settingsManagement.quiz.sobriety.settings.enablePreRideSobrietyQuiz.title"),description:this.$t("components.settingsManagement.quiz.sobriety.settings.enablePreRideSobrietyQuiz.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_sobriety_test_required",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.quiz.sobriety.settings.maximumFailedQuizAttemptsPerSession.title"),placeholder:"e.g 3",description:this.$t("components.settingsManagement.quiz.sobriety.settings.maximumFailedQuizAttemptsPerSession.description"),variable:"sobriety_test_max_attempts",haveUnitText:!0,unitText:"Times",unitWidthVariant:"large",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.quiz.sobriety.settings.lockdownPeriodAfterFailedQuizAttempt.title"),placeholder:"e.g 3",description:this.$t("components.settingsManagement.quiz.sobriety.settings.lockdownPeriodAfterFailedQuizAttempt.description"),variable:"sobriety_test_lockdown_period",haveUnitText:!0,unitText:"Minutes",unitWidthVariant:"large",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.quiz.sobriety.settings.numberOfQuestionsToDisplay.title"),placeholder:"e.g 3",description:this.$t("components.settingsManagement.quiz.sobriety.settings.numberOfQuestionsToDisplay.description"),variable:"number_of_sobriety_test_questions_to_display",haveUnitText:!0,unitText:"Question",unitWidthVariant:"large",isEdit:!1}],safetySettings:[{type:"toggle",label:this.$t("components.settingsManagement.quiz.safety.enablePreRideSafetyQuiz.title"),description:this.$t("components.settingsManagement.quiz.safety.enablePreRideSafetyQuiz.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_safety_quiz_required",isEdit:!1}]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$http.get(M["c"].settings.safety.index(t.orgId)),i=t.$http.get(M["c"].settings.safety.sobrietySchedule.index()),s=t.$http.get(M["c"].settings.safety.sobrietyQuiz.index()),a=[n,i,s],e.next=6,t.$http.all(a).then(t.$http.spread((function(){t.isLoaded=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.safety.is_safety_quiz_required=n[0].data.is_safety_quiz_required,t.sobriety.is_sobriety_test_required=n[0].data.is_sobriety_test_required,t.sobriety.sobriety_test_max_attempts=n[0].data.sobriety_test_max_attempts,t.sobriety.sobriety_test_lockdown_period=n[0].data.sobriety_test_lockdown_period/60,t.sobriety.number_of_sobriety_test_questions_to_display=n[0].data.number_of_sobriety_test_questions_to_display;var s=n[1].data.data;s.forEach((function(e){t.mapScheduleDataWithModel(e)})),t.sobrietyQuizList=n[2].data.data})));case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;P["a"].$on("open-edit",(function(e){var n=e.split("_")[0];"safetySettings"===n&&(t.safetySettings=t.safetySettings.map((function(t,n){return e==="safetySettings_".concat(n)?Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!0}):Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="sobrietySettings"),"sobrietySettings"===n&&(t.sobrietySettings=t.sobrietySettings.map((function(t,n){return e==="sobrietySettings_".concat(n)?Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!0}):Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="sobrietySettings")})),window.addEventListener(x.events.refresh,(function(){t.fetchSobrietyQuiz()}))},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(t){"sobrietySettings"===t&&(this.safetySettings=this.safetySettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})}))),"safetySettings"===t&&(this.sobrietySettings=this.sobrietySettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})))}}},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null}},methods:{onSave:function(t,e,n){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var r,o,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.counter++,r="","safety"===t&&(r=M["c"].settings.safety.index(i.orgId)),o=new FormData,"sobriety_test_lockdown_period"===e?o.append(e,60*n):o.append(e,n),l="Success",c="Update Successfully",s.next=9,i.$http.patch(r,o).then((function(){return i.safetySettings=i.safetySettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),i.sobrietySettings=i.sobrietySettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),i.$notify({group:"generic",type:"success",title:l,text:c},3e3),!0})).catch((function(t){console.log(t),i.$notify({group:"generic",type:"danger",title:"Failed",text:"Failed to update settings"},3e3)}));case 9:case"end":return s.stop()}}),s)})))()},formatTimeForClockPicker:function(t){var e=t.split(":");return e[0]+":"+e[1]},lowercase:function(t){return String(t).toLowerCase()},mapScheduleDataWithModel:function(t){this.sobrietySchedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)});var e=this.lowercase(t.day);o["default"].set(this.inPlaceEditingState,"".concat(e,"_start_time"),!1),o["default"].set(this.inPlaceEditingState,"".concat(e,"_end_time"),!1)},inPlaceEditingRequest:function(t,e,n){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a,r,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("start_time",n.start_time),s.append("end_time",n.end_time),a=i.lowercase(n.day)+"_start_time",r=i.lowercase(n.day)+"_end_time",o="",l="",t===a&&(o=i.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.startingTime.title",{day:n.day}),l=i.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.startingTime.text",{day:n.day,time:n.start_time})),t===r&&(o=i.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.endingTime.title",{day:n.day}),l=i.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.endingTime.text",{day:n.day,time:n.end_time})),e.next=11,i.$http.patch(M["c"].settings.safety.sobrietySchedule.update(n.id),s).then((function(t){return console.log(t),i.$notify({group:"generic",type:"success",title:o,text:l},3e3),!0})).catch((function(t){console.log("inPlaceE",t),i.$notify({group:"generic",type:"error",title:"Failed",text:"Failed to update sobriety hour"},3e3)}));case 11:case"end":return e.stop()}}),e)})))()},onOff:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=new FormData,s.append("is_active",e),i.next=4,n.$http.patch(M["c"].settings.safety.sobrietySchedule.update(t.id),s).then((function(i){console.log(i);var s=!0===e?n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.opened"):n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.closed"),a=!0===e?n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.sobrietyTestDay"):n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.testFreeDay");return n.$notify({group:"generic",type:"success",title:n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.title",{day:t.day,status:s}),text:n.$t("components.settingsManagement.quiz.sobriety.settings.schedule.toast.day.text",{day:t.day,status:a})},3e3),!0})).catch((function(t){console.log("onOffE",t),n.$notify({group:"generic",type:"error",title:"Failed",text:"Failed to update sobriety hour"},3e3)}));case 4:case"end":return i.stop()}}),i)})))()},fetchSobrietyQuiz:function(){var t=this;this.$http.get(M["c"].settings.safety.sobrietyQuiz.index()).then((function(e){t.sobrietyQuizList=e.data.data}))},onAddSobrietyQuiz:function(){P["a"].$emit(x.events.editingData,{}),dispatchEvent(new Event(x.events.sorToggle))},onEditSobrietyQuiz:function(t){P["a"].$emit(x.events.editingData,t),dispatchEvent(new Event(x.events.sorToggle))},onRemoveSobrietyQuiz:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=M["c"].settings.safety.sobrietyQuiz.delete(t),n.next=3,e.$http.delete(i).then((function(){e.fetchSobrietyQuiz(),e.$notify({group:"generic",type:"success",title:"Success",text:"Delete Successfully"},3e3)})).catch((function(t){console.log("quiz-err",{err:t}),e.$notify({group:"generic",type:"error",title:"Failed",text:"Failed to delete"},3e3)}));case 3:case"end":return n.stop()}}),n)})))()}}},I=T,z=Object(C["a"])(I,i,s,!1,null,null,null);e["default"]=z.exports},"523e":function(t,e,n){},"612c":function(t,e,n){"use strict";n("1ada")},"62b7":function(t,e,n){"use strict";n("f900")},"69f9":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"flex flex-col px-4 py-0 md:h-16 md:flex-row",class:t.getVariantClass},[n("div",{staticClass:"w-full py-3 mt-3 md:mt-0 md:w-1/3"},[n("div",{staticClass:"block mb-3 font-bold md:hidden text-14px text-oGray md:mb-0"},[t._v(" "+t._s(t.one)+" ")]),t._t("one")],2),n("div",{staticClass:"w-full py-3 mt-3 md:mt-0 md:w-1/3"},[n("div",{staticClass:"block mb-3 font-bold md:hidden text-14px text-oGray md:mb-0"},[t._v(" "+t._s(t.two)+" ")]),t._t("two")],2),n("div",{staticClass:"w-full py-3 mt-3 md:mt-0 md:w-1/3"},[n("div",{staticClass:"block mb-3 font-bold md:hidden text-14px text-oGray md:mb-0"},[t._v(" "+t._s(t.three)+" ")]),t._t("three")],2)]),n("div",{staticClass:"block w-full h-px mb-10 bg-gray-300 md:hidden"})])},s=[],a={name:"SGrid",props:["one","two","three","variant"],computed:{getVariantClass:function(){return"gray"===this.variant?"md:bg-gray-100":"md:bg-white"}}},r=a,o=n("2877"),l=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},7212:function(t,e,n){"use strict";n("84b4")},"84b4":function(t,e,n){},b345:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c}));var i={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")}}},s={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")}}},a={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/event-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(t,"/")}}},r={api:{index:"/dashboard/organization-behavior-points/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},o={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(t,"/")}},topup:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")}}}},l={api:{general:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-general-settings/")}},charging:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")}}}},c={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/business-hour-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(t,"/")}}}},b4694:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ValidationProvider",{staticClass:"grid grid-cols-12  ",attrs:{tag:"div",rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,s=e.required;return[n("div",{staticClass:"col-span-12  md:col-span-3 "},[n("div",{staticClass:"label "},[n("input-label",{attrs:{error:i[0],text:t.label+(s?" *":"")}})],1)]),n("div",{staticClass:"col-span-12 md:col-span-6"},[n("div",{staticClass:"flex gap-2 items-center justify-start "},[n("div",{staticClass:" flex items-center"},[n("t-toggle",{attrs:{variant:"regular",checked:t.model},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),n("span",{staticClass:"text-sm font-medium"},[t._v(t._s(t.getStatusText))])]),t.showDescription?n("p",{staticClass:"description mb-2",class:{"text-red-500":i[0]}},[t._v(" "+t._s(t.description)+" ")]):t._e()])]}}])})},s=[],a=n("5f81"),r={name:"SmartToggleInput",props:{showDescription:{type:Boolean,default:!0},label:{type:String,default:""},description:{type:String,default:""},onText:{type:String,default:""},offText:{type:String,default:""},onValue:{type:Boolean,default:!0},offValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},data:function(){return{model:null}},components:{InputLabel:a["default"]},computed:{getStatusText:function(){return this.model===this.onValue?this.onText:this.offText}},watch:{value:{immediate:!0,deep:!1,handler:function(){this.model=this.value}},model:{immediate:!1,deep:!1,handler:function(t,e){t!==e&&(this.$emit("input",t),this.$emit("save",t))}}}},o=r,l=(n("38ca"),n("2877")),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},b4c6:function(t,e,n){},b750:function(t,e,n){},c973:function(t,e,n){function i(t,e,n,i,s,a,r){try{var o=t[a](r),l=o.value}catch(c){return void n(c)}o.done?e(l):Promise.resolve(l).then(i,s)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(s,a){var r=t.apply(e,n);function o(t){i(r,s,a,o,l,"next",t)}function l(t){i(r,s,a,o,l,"throw",t)}o(void 0)}))}}n("d3b7"),t.exports=s,t.exports["default"]=t.exports,t.exports.__esModule=!0},d7b6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoaded?t._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?n("div",{staticClass:"max-w-6xl mx-auto mt-3 lg:mt-10 md:mt-5"},[n("EmailChange",{attrs:{id:"email-change",email:t.profile.email,sendEmailURL:t.getSendEmailURL,verifyEmailURL:t.getVerifyEmailURL},on:{success:t.successEmailChangeAction,cancel:t.cancelEmailChangeAction}}),n("div",{staticClass:"w-full"},[n("div",{staticClass:"flex items-center"},[n("i",{staticClass:"fas fa-user text-orange-500 text-22px"}),n("div",{staticClass:"pl-3 font-bold text-22px text-oCharcoal"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.headline.profileSettings"))+" ")])]),n("div",{key:"profileSettings_"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[n("SmartAppInput",{key:"profile_"+(t.counter+0),attrs:{rowId:"profile_0",type:t.profileSettings[0].type,label:t.profileSettings[0].label,options:t.profileSettings[0].options,placeholder:t.profileSettings[0].placeholder,description:t.profileSettings[0].description,isEdit:t.profileSettings[0].isEdit},on:{save:function(e){return t.onSave("org-user",""+t.profileSettings[0].variable,e)}},model:{value:t.profile[""+t.profileSettings[0].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[0].variable,e)},expression:"profile[`${profileSettings[0].variable}`]"}}),n("SmartAppInput",{key:"profile_"+(t.counter+1),attrs:{rowId:"profile_1",type:t.profileSettings[1].type,label:t.profileSettings[1].label,options:t.profileSettings[1].options,placeholder:t.profileSettings[1].placeholder,description:t.profileSettings[1].description,isEdit:t.profileSettings[1].isEdit,showEditPencil:!1},on:{save:function(e){return t.onSave("org-user",""+t.profileSettings[1].variable,e)}},model:{value:t.profile[""+t.profileSettings[1].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[1].variable,e)},expression:"profile[`${profileSettings[1].variable}`]"}}),n("SmartAppInput",{key:"profile_"+(t.counter+2),attrs:{rowId:"profile_2",type:t.profileSettings[2].type,label:t.profileSettings[2].label,options:t.profileSettings[2].options,placeholder:t.profileSettings[2].placeholder,description:t.profileSettings[2].description,isEdit:t.profileSettings[2].isEdit,isShowChecker:t.getShowCheckerStatusForPhoneNumber,isCheckStart:t.isPhoneNumberChecking,canBeSaved:t.getPhoneNumberSaveStatus,isCancelButtonDisabled:t.isPhoneNumberChecking,isSaveButtonDisabled:t.getSaveButtonStatusForPhoneNumber},on:{input:t.onChangePhoneNumber,cancel:t.cancelPhoneNumberChangeAction,save:t.onPhoneNumber},model:{value:t.profile[""+t.profileSettings[2].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[2].variable,e)},expression:"profile[`${profileSettings[2].variable}`]"}}),n("SmartAppInput",{key:"profile_"+(t.counter+3),attrs:{rowId:"profile_3",type:t.profileSettings[3].type,label:t.profileSettings[3].label,options:t.profileSettings[3].options,placeholder:t.profileSettings[3].placeholder,description:t.profileSettings[3].description,isEdit:t.profileSettings[3].isEdit,showEditPencil:!1},on:{save:function(e){return t.onSave("org-user",""+t.profileSettings[3].variable,e)}},model:{value:t.profile[""+t.profileSettings[3].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[3].variable,e)},expression:"profile[`${profileSettings[3].variable}`]"}}),n("SmartAppInput",{key:"profile_"+(t.counter+4),attrs:{rowId:"profile_4",type:t.profileSettings[4].type,label:t.profileSettings[4].label,options:t.profileSettings[4].options,placeholder:t.profileSettings[4].placeholder,description:t.profileSettings[4].description,isEdit:t.profileSettings[4].isEdit,isShowChecker:t.getShowCheckerStatusForEmail,isCheckStart:t.isEmailChecking,canBeSaved:t.getEmailSaveStatus,isCancelButtonDisabled:t.isEmailChecking,isSaveButtonDisabled:t.getSaveButtonStatusForEmail},on:{input:t.onChangeMail,cancel:t.cancelEmailChangeAction,save:t.onEmail},model:{value:t.profile[""+t.profileSettings[4].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[4].variable,e)},expression:"profile[`${profileSettings[4].variable}`]"}}),n("SmartAppInput",{key:"profile_"+(t.counter+5),attrs:{rowId:"profile_5",type:t.profileSettings[5].type,label:t.profileSettings[5].label,options:t.supportedLanguage,placeholder:t.profileSettings[5].placeholder,description:t.profileSettings[5].description,isEdit:t.profileSettings[5].isEdit},on:{save:function(e){return t.onSave("org-user",""+t.profileSettings[5].variable,e)}},model:{value:t.profile[""+t.profileSettings[5].variable],callback:function(e){t.$set(t.profile,""+t.profileSettings[5].variable,e)},expression:"profile[`${profileSettings[5].variable}`]"}})],1)]),n("div",{staticClass:"flex justify-between mt-10"},[n("div",[n("div",{staticClass:"flex items-center"},[n("i",{staticClass:"fas fa-lock text-blue-700 text-22px"}),n("div",{staticClass:"pl-3 font-bold text-22px text-oCharcoal"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.headline.accountSecurity.title"))+" ")])]),n("p",{staticClass:"break-words description-text "},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.headline.accountSecurity.description"))+" ")])]),n("div",{staticClass:"col-span-12 pencil-icon md:col-span-3 justify-items-end justify-self-end"},[t.isPasswordEdit?t._e():n("div",[n("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.handlePassEdit}},[n("path",{attrs:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])])]),t.isPasswordEdit?n("div",{staticClass:"flex ml-3 mt-3 mb-4"},[n("anchor-button",{attrs:{text:t.$t("components.stepNavigation.cancel"),width:"6rem"},on:{click:t.handlePasswordCancel}}),n("anchor-button",{staticClass:"ml-4",attrs:{isLoading:t.isSavePassButtonLoading,disabled:t.getSavePasswordButtonDisableStatus,text:t.$t("components.settingsManagement.profile.security.action.changePassword"),variant:"success",width:"8rem"},on:{click:t.onSavePassword}})],1):t._e()]),n("div",{staticClass:" mt-3 pt-5 border-t-2"},[n("div",{staticClass:"grid grid-cols-12"},[n("div",{staticClass:"col-span-12  md:col-span-3"},[n("div",{staticClass:"label "},[n("input-label",{attrs:{text:t.$t("components.settingsManagement.profile.security.title.currentPassword")}})],1)]),n("div",{staticClass:"col-span-12  md:col-span-6 "},[n("AppInput",{attrs:{rules:"min:8",type:"password",name:t.$t("components.settingsManagement.profile.security.title.currentPassword"),disabled:!t.isPasswordEdit,placeholder:"********"},model:{value:t.passwordModel.old_password,callback:function(e){t.$set(t.passwordModel,"old_password",e)},expression:"passwordModel.old_password"}})],1)]),t.isPasswordEdit?n("div",{staticClass:"grid grid-cols-12"},[n("div",{staticClass:"col-span-12  md:col-span-3"},[n("div",{staticClass:"label "},[n("input-label",{attrs:{text:t.$t("components.settingsManagement.profile.security.title.newPassword")}})],1)]),n("div",{staticClass:"col-span-12  md:col-span-6 "},[n("AppInput",{attrs:{rules:"min:8",type:"password",name:t.$t("components.settingsManagement.profile.security.title.repeatPassword"),placeholder:""},model:{value:t.passwordModel.new_password,callback:function(e){t.$set(t.passwordModel,"new_password",e)},expression:"passwordModel.new_password"}})],1)]):t._e(),t.isPasswordEdit?n("div",{staticClass:"grid grid-cols-12"},[n("div",{staticClass:"col-span-12  md:col-span-3"},[n("div",{staticClass:"label "},[n("input-label",{attrs:{text:t.$t("components.settingsManagement.profile.security.title.repeatPassword")}})],1)]),n("div",{staticClass:"col-span-12  md:col-span-6 "},[n("AppInput",{attrs:{rules:"min:8",type:"password",name:t.$t("components.settingsManagement.profile.security.title.repeatPassword"),placeholder:"",haveSuggestion:t.havePassMatchSuggestion,isSuggestionAlert:t.havePassMatchSuggestion,suggestionText:"Need to match with New Password"},on:{input:t.onCheckPassMatch},model:{value:t.passwordModel.confirm_new_password,callback:function(e){t.$set(t.passwordModel,"confirm_new_password",e)},expression:"passwordModel.confirm_new_password"}})],1)]):t._e()])],1):t._e()])},s=[],a=n("5530"),r=n("1da1"),o=(n("ac1f"),n("1276"),n("d81d"),n("a15b"),n("5319"),n("d3b7"),n("96cf"),n("cb0d")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("t-modal",{ref:"popup",attrs:{name:t.id,variant:"confirmation",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!1,clickToClose:!1}},[t.isMailSent?i("div",{staticClass:" px-5 py-10"},[i("div",{},[i("h1",{staticClass:"mt-16 mb-5 text-lg font-bold text-xl md:text-2xl text-center",staticStyle:{color:"#505458"}},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.enterCode"))+" ")]),i("div",{staticClass:"text-center"},[i("p",{staticClass:"text-gray-600 text-sm text-center"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.toComplete"))+" ")]),i("p",{staticClass:"font-bold text-gray-900"},[t._v(t._s(t.email))])])]),i("div",{staticClass:"flex items-center justify-center"},[i("div",{staticClass:"relative py-5"},[t.isLoading?i("loading",{class:"outline-none",attrs:{active:t.isLoading,height:25,opacity:.5,color:"#000",loader:"bars","is-full-page":!1}}):t._e(),i("otp-input",{attrs:{digits:6,mode:"separate",isValid:t.isOtpValid},on:{"on-complete":t.onCompleteOTPHandler,"on-changed":t.onChangeOTPHandler},scopedSlots:t._u([{key:"errorMessage",fn:function(){return[i("div",{staticClass:"text-center mt-2"},[i("p",{staticClass:"font-medium"},[t._v(t._s(t.otpErrorMessage))])])]},proxy:!0}])})],1)]),i("p",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.didNotGetCode"))+" "),i("span",{staticClass:"text-blue-500 font-bold cursor-pointer",on:{click:function(e){return t.executeAction("sendEmail")}}},[t._v(t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.resend")))])])]):i("div",{staticClass:" px-5 py-10"},[i("div",{staticClass:"flex flex-col items-center"},[i("div",{staticClass:"w-full flex justify-center"},[i("img",{staticClass:"w-auto h-20 ",attrs:{src:n("39d7"),alt:"open-email"}})]),i("p",{staticClass:"font-bold text-xl"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.headText"))+" ")])]),i("p",{staticClass:"text-gray-600 mt-6 text-sm text-center"},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.click"))+" "),i("span",{staticClass:"font-bold text-gray-900"},[t._v(t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.sendEmail")))]),t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.below"))+" "),i("span",{staticClass:"font-bold text-gray-600"},[t._v(t._s(t.email))]),t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.with"))+" ")])]),i("section",{staticClass:"flex items-center py-4 px-4 mt-6 space-x-5 bg-gray-100"},[i("anchor-button",{class:"w-1/2",attrs:{variant:t.cancelButtonVariant},on:{click:function(e){return t.executeAction("cancel")}}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),t.isMailSent?t._e():i("anchor-button",{class:"w-1/2",attrs:{variant:t.confirmButtonVariant,isLoading:t.isLoading},on:{click:function(e){return t.executeAction("sendEmail")}}},[t._v(" "+t._s(t.$t("components.settingsManagement.profile.emailChange.descriptionText.sendEmail"))+" ")]),t.isMailSent?i("anchor-button",{class:"w-1/2",attrs:{variant:t.confirmButtonVariant,isLoading:t.isLoading},on:{click:function(e){return t.executeAction("verifyEmail")}}},[t._v(" "+t._s(t.$t("components.stepNavigation.submit"))+" ")]):t._e()],1)])},c=[],u=(n("3ca3"),n("ddb0"),n("a9e3"),n("caad"),{name:"OtpInput",props:{id:{type:String,default:"otp"},digits:{type:Number,default:5},mode:{type:String,default:"separate"},type:{type:String,default:"number"},placeholder:{type:String,default:"-"},radius:{type:Number,default:5},gap:{type:Number,default:10},isDisabled:{type:Boolean,default:!1},isValid:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!0},errorClass:{type:String,default:""},separateInputClass:{type:String,default:""},separateWrapperClass:{type:String,default:""},groupInputClass:{type:String,default:""},groupWrapperClass:{type:String,default:""},activeInputClass:{type:String,default:""},activeWrapperClass:{type:String,default:""}},data(){return{inputValue:[],joinedValue:"",isInputFocused:!1,activeInput:-1}},mounted(){if(this.autoFocus&&!this.isDisabled){this.onFocus(0),this.$refs.digitInput[0].focus();const t=["text","password","number"];if(-1!=t.indexOf(this.type))for(let e of this.$refs.digitInput)e.type=this.type}},computed:{wrapperStyle(){const t=this.rtl?"rtl":"ltr",e={direction:t,gap:this.gap+"px","border-radius":this.radius+"px"};return e},inputStyle(){return{"--border-radius":this.radius+"px"}},inputClassHandler(){return"separate"===this.mode?this.isValid?this.separateInputClass?this.separateInputClass:"defualt-input-separate":this.separateInputClass?this.separateInputClass:"defualt-error-input-separate":"group"===this.mode?this.groupInputClass?this.groupInputClass:"defualt-input-group":""},activeInputClassHandler(){return"separate"===this.mode?this.activeInputClass?this.activeInputClass:"defualt-active-input":""},activeWrapperClassHandler(){return"group"===this.mode?this.isValid?this.activeWrapperClass?this.activeWrapperClass:"defualt-active-wrapper":this.activeWrapperClass?this.activeWrapperClass:"defualt-error-wrapper-group":""},wrapperClassHandler(){return"separate"===this.mode?this.separateWrapperClass?this.separateWrapperClass:"defualt-wrapper-separate":"group"===this.mode?this.isValid?this.groupWrapperClass?this.groupWrapperClass:"defualt-wrapper-group":this.groupWrapperClass?this.groupWrapperClass:"defualt-error-wrapper-group":""},errorClassHandler(){return this.errorClass?this.errorClass:"default-error-class"}},methods:{keydownHandler(t,e){8===e.keyCode&&""===e.target.value&&this.$refs.digitInput[Math.max(0,t-1)].focus()},onInput(t){const[e,...n]="number"===this.type?this.inputValue[t].replace(/[^0-9]/g,""):this.inputValue[t];this.inputValue[t]=null===e||void 0===e?"":e;const i=t===this.digits-1,s=void 0!==e;s&&!i&&(this.$refs.digitInput[t+1].focus(),this.$refs.digitInput[t+1].value=n.join(""),this.$refs.digitInput[t+1].dispatchEvent(new Event("input"))),this.joinedValue=this.inputValue.map(t=>t).join(""),this.$emit("value",this.joinedValue),this.joinedValue.length===this.digits&&this.onComplete(this.joinedValue)},onFocus(t){this.activeInput=t,this.isInputFocused=!0},onBlur(){this.activeInput=-1,this.isInputFocused=!1},onComplete(t){this.onBlur(),this.$refs.digitInput[this.digits-1].blur(),this.type,this.$emit("on-complete",t)},onChanged(t){this.$emit("on-changed",this.inputValue[t])},OnPaste(t){this.$emit("on-paste",t)}}});function d(t,e,n,i,s,a,r,o,l,c){"boolean"!==typeof r&&(l=o,o=r,r=!1);const u="function"===typeof n?n.options:n;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),i&&(u._scopeId=i),a?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=d):e&&(d=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),d)if(u.functional){const t=u.render;u.render=function(e,n){return d.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return n}const p="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function m(t){return(t,e)=>h(t,e)}let f;const g={};function h(t,e){const n=p?e.media||"default":t,i=g[n]||(g[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===f&&(f=document.head||document.getElementsByTagName("head")[0]),f.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(n),s=i.element.childNodes;s[t]&&i.element.removeChild(s[t]),s.length?i.element.insertBefore(e,s[t]):i.element.appendChild(e)}}}const b=u;var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-otp-input"},[n("div",{staticClass:"otp-wrapper",class:t.isInputFocused?t.activeWrapperClassHandler:t.wrapperClassHandler,style:t.wrapperStyle,attrs:{id:t.id}},t._l(t.digits,(function(e,i){return n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue[i],expression:"inputValue[index]"}],key:t.id+i,ref:"digitInput",refInFor:!0,staticClass:"otp-input",class:[t.inputClassHandler,t.activeInput===i?t.activeInputClassHandler:""],style:t.inputStyle,attrs:{autocomplete:"one-time-code",placeholder:t.placeholder,disabled:t.isDisabled},domProps:{value:t.inputValue[i]},on:{focus:function(e){return t.onFocus(i)},blur:t.onBlur,paste:t.OnPaste,input:[function(e){e.target.composing||t.$set(t.inputValue,i,e.target.value)},function(e){return t.onInput(i,e)}],change:function(e){return t.onChanged(i)},keydown:function(e){return t.keydownHandler(i,e)}}})})),0),t._v(" "),t.isValid?t._e():n("span",{class:t.errorClassHandler},[t._t("errorMessage")],2)])},y=[];const _=function(t){t&&t("data-v-5e5c0710_0",{source:"div.vue-otp-input[data-v-5e5c0710]{width:max-content}div.vue-otp-input>div.otp-wrapper[data-v-5e5c0710]{direction:var(--direction);text-align:center;display:flex;align-items:center;justify-content:center;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}div.vue-otp-input>div.otp-wrapper>input.otp-input[data-v-5e5c0710]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s;border-radius:var(--border-radius)}div.vue-otp-input>div.otp-wrapper>input.otp-input[data-v-5e5c0710]:disabled{background-color:#ececec!important}div.vue-otp-input>div.otp-wrapper>input.defualt-input-separate[data-v-5e5c0710]{text-align:center;font-weight:600;background-color:transparent;border:solid 2px #ececec;width:3rem;height:48px}div.vue-otp-input>div.otp-wrapper>input.defualt-error-input-separate[data-v-5e5c0710]{text-align:center;font-weight:600;background-color:transparent;border:solid 2px #d50000;width:3rem;height:48px}@media only screen and (max-width:600px){div.vue-otp-input>div.otp-wrapper>input.defualt-input-separate[data-v-5e5c0710]{width:2.5rem;height:40px}}div.vue-otp-input>div.defualt-wrapper-separate[data-v-5e5c0710]{background:0 0}div.vue-otp-input>div.defualt-wrapper-group[data-v-5e5c0710]{border:solid 2px #ececec}div.vue-otp-input>div.defualt-error-wrapper-group[data-v-5e5c0710]{border:solid 2px #d50000}div.vue-otp-input>div.otp-wrapper>input.defualt-input-group[data-v-5e5c0710]{background-color:transparent;font-weight:600;border:none;width:3rem;height:48px;text-align:center}@media only screen and (max-width:600px){div.vue-otp-input>div.otp-wrapper>input.defualt-input-group[data-v-5e5c0710]{width:2.5rem;height:40px}}div.vue-otp-input>div.otp-wrapper>input.defualt-active-input[data-v-5e5c0710]{border:solid 2px #525252}div.vue-otp-input>div.defualt-active-wrapper[data-v-5e5c0710]{border:solid 2px #525252}div.vue-otp-input>span.default-error-class[data-v-5e5c0710]{color:#d50000;font-weight:700}input[data-v-5e5c0710]:focus{outline:0}input[data-v-5e5c0710]::-webkit-inner-spin-button,input[data-v-5e5c0710]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][data-v-5e5c0710]{-moz-appearance:textfield}",map:void 0,media:void 0})},x="data-v-5e5c0710",w=void 0,S=!1,C=d({render:v,staticRenderFns:y},_,b,x,S,w,!1,m,void 0,void 0);var $=C,E=(()=>{const t=$;return t.install=e=>{e.component("OtpInput",t)},t})(),k=n("9f07"),M=n.n(k),P={name:"EmailChange",components:{AnchorButton:function(){return Promise.resolve().then(n.bind(null,"15e7"))},OtpInput:E},props:{id:{type:String,required:!0},email:{type:String,required:!0},sendEmailURL:{type:String,required:!0},verifyEmailURL:{type:String,required:!0},cancelButtonText:{type:[String,Number],required:!1,default:"Cancel"},cancelButtonVariant:{type:String,required:!1,default:"secondary",validaotor:function(t){return["primary","secondary","success","success-alt","warning","warning-alt","disabled"].includes(t)}},confirmButtonVariant:{type:String,required:!1,default:"primary",validaotor:function(t){return["primary","secondary","success","success-alt","warning","warning-alt","disabled"].includes(t)}}},data:function(){return{isLoading:!1,isMailSent:!1,isOtpValid:!0,otpErrorMessage:"",otpCode:null}},computed:{getSecretEmail:function(){return new M.a(this.email).asteriskify(7,5)}},methods:{onCompleteOTPHandler:function(t){this.otpCode=t},onChangeOTPHandler:function(){this.isOtpValid||(this.isOtpValid=!0,this.otpErrorMessage="")},executeAction:function(t){var e=this;if("sendEmail"===t&&!1===this.isLoading){this.isLoading=!0;var n=new FormData;n.append("email",this.email),this.$http.post(this.sendEmailURL,n).then((function(){e.isMailSent=!0,e.$notify({group:"bottomRight",type:"success",title:"Success",text:"Sent Email Successfully"},3e3)})).catch((function(t){console.log("sentEmailErr",{err:t}),e.$notify({group:"bottomRight",type:"error",title:"Failed",text:"".concat(t.response)},5e3)})).finally((function(){return e.isLoading=!1}))}if("verifyEmail"===t&&6===String(this.otpCode).length){this.isLoading=!0;var i=new FormData;i.append("code",this.otpCode),this.$http.post(this.verifyEmailURL,i).then((function(){e.initData(),e.$emit("success"),e.$refs.popup.hide(),e.$notify({group:"generic",type:"success",title:"Success",text:"Update Successfully"},3e3)})).catch((function(t){e.isOtpValid=!1,e.otpErrorMessage=t.response.data.message,console.log("verifyEmailErr",{err:t})})).finally((function(){e.isLoading=!1,e.otpCode=null}))}"cancel"===t&&!1===this.isLoading&&(this.$refs.popup.hide(),this.initData(),this.$emit("cancel"))},initData:function(){this.isMailSent=!1,this.otpCode=null,this.otpErrorMessage="",this.isOtpValid=null}}},T=P,I=n("2877"),z=Object(I["a"])(T,l,c,!1,null,"7929235e",null),O=z.exports,q=n("15e7"),j=n("5f81"),A=n("c820"),N=n("ed08"),R=n("f7fe"),F=n.n(R),L={name:"ProfileSettings",components:{SmartAppInput:o["a"],EmailChange:O,AnchorButton:q["default"],InputLabel:j["default"]},data:function(){return{isLoaded:!1,isPhoneNumberExist:null,isPhoneNumberChecking:!1,isEmailChecking:!1,isEmailExist:null,isPasswordEdit:!1,isPassMatched:!1,havePassMatchSuggestion:!1,isSavePassButtonLoading:!1,counter:0,currentSettingsGroup:null,profile:{full_name:null,username:null,email:null,phone_number:null,owner_expiry_date:null,language:null},passwordModel:{old_password:null,new_password:null,confirm_new_password:null},supportedLanguage:[],currentProfileEmail:null,currentProfilePhoneNumber:null,profileSettings:[{type:"text",label:this.$t("components.settingsManagement.profile.profileSettings.fullName.title"),placeholder:"e.g John",description:this.$t("components.settingsManagement.profile.profileSettings.fullName.description"),variable:"full_name",isEdit:!1},{type:"text",label:this.$t("components.settingsManagement.profile.profileSettings.username.title"),placeholder:"e.g john",description:this.$t("components.settingsManagement.profile.profileSettings.username.description"),variable:"username",isEdit:!1},{type:"tel",label:this.$t("components.settingsManagement.profile.profileSettings.phoneNumber.title"),placeholder:"e.g 018",description:this.$t("components.settingsManagement.profile.profileSettings.phoneNumber.description"),variable:"phone_number",isEdit:!1},{type:"date",label:this.$t("components.settingsManagement.profile.profileSettings.dashboardAccessExpiryDate.title"),placeholder:"e.g 018",description:this.$t("components.settingsManagement.profile.profileSettings.dashboardAccessExpiryDate.description"),variable:"owner_expiry_date",isEdit:!1},{type:"email",label:this.$t("components.settingsManagement.profile.profileSettings.email.title"),placeholder:"e.g test@test.com",description:this.$t("components.settingsManagement.profile.profileSettings.email.description"),variable:"email",isEdit:!1},{type:"richselect",label:this.$t("components.settingsManagement.profile.profileSettings.language.title"),description:this.$t("components.settingsManagement.profile.profileSettings.language.description"),variable:"language",isEdit:!1}]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},orgUserId:function(){return this.$store.getters["auth/userInfo"].id||null},getSendEmailURL:function(){return A["c"].user.org.resetUserEmail()},getVerifyEmailURL:function(){return A["c"].user.org.resetUserEmailVerify()},getShowCheckerStatusForPhoneNumber:function(){return null!==this.isPhoneNumberExist||!1!==this.isPhoneNumberChecking},getPhoneNumberSaveStatus:function(){return!0!==this.isPhoneNumberExist&&(!1===this.isPhoneNumberExist||null)},getSaveButtonStatusForPhoneNumber:function(){return!0===this.isPhoneNumberChecking||!!this.isPhoneNumberExist},getShowCheckerStatusForEmail:function(){return null!==this.isEmailExist||!1!==this.isEmailChecking},getSaveButtonStatusForEmail:function(){return!0===this.isEmailChecking||!!this.isEmailExist},getEmailSaveStatus:function(){return!0!==this.isEmailExist&&(!1===this.isEmailExist||null)},getSavePasswordButtonDisableStatus:function(){return!(this.isPassMatched&&this.passwordModel.old_password&&this.passwordModel.new_password&&this.passwordModel.confirm_new_password&&String(this.passwordModel.old_password).length&&String(this.passwordModel.new_password).length>=8&&String(this.passwordModel.confirm_new_password).length>=8)}},mounted:function(){var t=this;N["a"].$on("open-edit",(function(e){var n=e.split("_")[0];"profile"===n&&(t.profileSettings=t.profileSettings.map((function(t,n){return e==="profile_".concat(n)?Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!0}):Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="profile",t.isPasswordEdit=!1)}))},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(t){"profile"===t&&(this.profileSettings=this.profileSettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})))}},isPasswordEdit:{deep:!0,immediate:!0,handler:function(t){t&&(this.counter++,this.profileSettings=this.profileSettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})))}}},methods:{fetchData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$http.get(A["c"].organization.details(t.orgId)),i=t.$http.get(A["c"].dropdown.orgSupportedLanguage(t.orgUserId)),s=[n,i],e.next=5,t.$http.all(s).then(t.$http.spread((function(){t.isLoaded=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.profile.full_name=n[0].data.owner_user.full_name,t.profile.username=n[0].data.owner_user.username,t.profile.phone_number=n[0].data.owner_user.phone_number,t.currentProfilePhoneNumber=n[0].data.owner_user.phone_number,t.profile.owner_expiry_date=n[0].data.owner_user.owner_expiry_date?n[0].data.owner_user.owner_expiry_date.split("/").reverse().join("-"):"",t.profile.email=n[0].data.owner_user.email,t.currentProfileEmail=n[0].data.owner_user.email,t.profile.language=n[0].data.owner_user.profile.language,t.supportedLanguage=n[1].data.map((function(t){return{text:t.local_name,value:t.id}})),console.log("user-d",n,t.supportedLanguage)})));case 5:case"end":return e.stop()}}),e)})))()},onSave:function(t,e,n){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var r,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.counter++,r="","org-user"===t&&(r=A["c"].user.org.update(i.orgUserId)),o=new FormData,o.append(e,n),s.next=7,i.$http.patch(r,o).then((function(t){return console.log(t),i.profileSettings=i.profileSettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})})),"phone_number"===e&&(i.currentProfilePhoneNumber=n),"language"===e&&(console.log("language"),i.$store.dispatch("auth/logout").then((function(){i.$router.push("/login")})).catch((function(t){console.log(t)}))),i.$notify({group:"generic",type:"success",title:"Success",text:"Update Successfully"},3e3),!0})).catch((function(t){console.log(t),i.$notify({group:"generic",type:"danger",title:"Failed",text:"Failed to update settings"},3e3)}));case 7:case"end":return s.stop()}}),s)})))()},getActualNumber:function(t){return t.replace("-","").replace(" ","")},onChangePhoneNumber:function(t){this.getActualNumber(this.profile.phone_number)||this.$notify({group:"generic",type:"default",title:"Info",text:"Please provide your phone number"},3e3),this.getActualNumber(this.profile.phone_number)&&this.getActualNumber(this.currentProfilePhoneNumber)!==this.getActualNumber(this.profile.phone_number)?(this.isPhoneNumberChecking=!0,this.onCheckPhoneNumber(t)):(this.isPhoneNumberExist=null,this.isPhoneNumberChecking=!1)},onCheckPhoneNumber:F()((function(t){var e=this;this.$http.get(A["c"].user.org.checkPhoneNumberExistence(this.getActualNumber(t).replace("+","%2b"))).then((function(t){e.isPhoneNumberExist=t.data.phone_number_exists})).catch((function(t){return console.log("onCheckEmail-err",t.response)})).finally((function(){return e.isPhoneNumberChecking=!1}))}),2e3),onPhoneNumber:function(){this.getActualNumber(this.profile.phone_number)&&this.getActualNumber(this.currentProfilePhoneNumber)!==this.getActualNumber(this.profile.phone_number)&&(this.onSave("org-user","phone_number",this.getActualNumber(this.profile.phone_number)),this.isPhoneNumberExist=null,this.isPhoneNumberChecking=!1)},cancelPhoneNumberChangeAction:function(){this.isPhoneNumberExist=null},onEmail:function(){this.currentProfileEmail!==this.profile.email&&!1===this.isEmailExist&&this.$modal.show("email-change")},onChangeMail:function(t){t||this.$notify({group:"generic",type:"default",title:"Info",text:"Please provide your email address"},3e3),this.profile.email&&this.currentProfileEmail!==this.profile.email?(this.isEmailChecking=!0,this.onCheckEmail(t)):(this.isEmailExist=null,this.isEmailChecking=!1)},onCheckEmail:F()((function(t){var e=this;this.$http.get(A["c"].user.org.checkEmailExistence(t.replace("+","%2b"))).then((function(t){e.isEmailExist=t.data.email_exists})).catch((function(t){return console.log("onCheckEmail-err",t.response)})).finally((function(){return e.isEmailChecking=!1}))}),2e3),cancelEmailChangeAction:function(){this.isEmailExist=null},successEmailChangeAction:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.counter++,t.currentProfileEmail=t.profile.email,t.isEmailExist=null,t.profileSettings=t.profileSettings.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEdit:!1})}));case 4:case"end":return e.stop()}}),e)})))()},handlePassEdit:function(){this.isPasswordEdit=!0},handlePasswordCancel:function(){this.isPasswordEdit=!1,this.isPassMatched=!1,this.isSavePassButtonLoading=!1,this.passwordModel.old_password=null,this.passwordModel.new_password=null,this.passwordModel.confirm_new_password=null},onCheckPassMatch:F()((function(t){String(this.passwordModel.new_password).length>=8&&String(this.passwordModel.confirm_new_password).length>=8&&(this.passwordModel.new_password!==this.passwordModel.confirm_new_password?(this.isPassMatched=!1,this.havePassMatchSuggestion=!0):(this.isPassMatched=!0,this.havePassMatchSuggestion=!1),console.log("onCheckPassMatch",t))}),1e3),onSavePassword:function(){var t=this;if(!this.getSavePasswordButtonDisableStatus){this.isSavePassButtonLoading=!0;var e=A["c"].user.org.changePassword(this.orgUserId),n=new FormData;n.append("old_password",this.passwordModel.old_password),n.append("new_password",this.passwordModel.new_password),n.append("confirm_new_password",this.passwordModel.confirm_new_password),this.$http.post(e,n).then((function(){t.$notify({group:"generic",type:"success",title:"Success",text:"Update Successfully"},3e3),t.handlePasswordCancel()})).catch((function(e){console.log("savePassErr",e.response),t.$notify({group:"generic",type:"error",title:"Failed [".concat(e.response.status,"]"),text:"".concat(e.response.data.message)},3e3)})).finally((function(){return t.isSavePassButtonLoading=!1}))}}}},V=L,D=(n("612c"),Object(I["a"])(V,i,s,!1,null,"361789d0",null));e["default"]=D.exports},e1f9:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return E}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-container",attrs:{id:t.sId+"Container"}},[n("section",{staticClass:"s-wrapper",attrs:{id:t.sId+"Wrapper"}},[n("table",{staticClass:"s",attrs:{id:t.sId+"Table"}},[n("thead",{staticClass:"s-head"},[n("tr",{staticClass:"s-head-row"},t._l(t.proxy.headers,(function(e,i){return n("th",{key:"s-head-row-item-"+i,class:"s-head-row-item "+(e.sort?"cursor-pointer":""),attrs:{width:e.width}},[t._v(" "+t._s(e.text)+" ")])})),0)]),n("tbody",{staticClass:"s-body"},[t._t("default")],2)])])])},s=[],a=n("1da1"),r=(n("96cf"),n("a9e3"),n("d81d"),n("4e82"),{name:"STable",props:{sId:{type:[String,Number],required:!0},headers:{type:Array}},components:{},data:function(){return{proxy:{headers:[]}}},computed:{},created:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{headers:{immediate:!0,deep:!0,handler:function(t){Array.isArray(t)&&(this.proxy.headers=this.getMappedHeaders(t))}}},methods:{getMappedHeaders:function(t){return t.map((function(t){return{text:t.text,sort:t.sort,width:t.width,order:null}}))}}}),o=r,l=(n("62b7"),n("2877")),c=Object(l["a"])(o,i,s,!1,null,"2c915452",null),u=c.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{class:t.className?t.className:"s-row"},[t._t("default")],2)},p=[],m={name:"STableRow",props:{className:{type:[String,Object],required:!1,default:null},textFallbackAlways:{type:Boolean,required:!1,default:!1},textFallbackAlwaysAs:{type:String,required:!1,default:"--"}},provide:function(){return{$textFallbackAlways:this.textFallbackAlways,$textFallbackAlwaysAs:this.textFallbackAlwaysAs}}},f=m,g=(n("7212"),n("1566"),Object(l["a"])(f,d,p,!1,null,"59562074",null)),h=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"s-row-item"},[t._t("default",(function(){return[t.to?n("router-link",t._b({class:"text-blue-600 "+t.className,attrs:{to:t.to,target:"_blank"},on:{click:function(e){return t.$emit("click")}}},"router-link",t.$attrs,!1),[t._v(" "+t._s(t.getText)+" ")]):n("div",t._b({class:""+t.className,on:{click:function(e){return t.$emit("click")}}},"div",t.$attrs,!1),[t._v(" "+t._s(t.getText)+" ")])]}),null,{text:t.getText,to:t.to,className:t.className})],2)},v=[],y=n("5530"),_=(n("99af"),n("2f62")),x=n("4a6d"),w=n("ed08"),S={name:"STableRowItem",inheritAttrs:!1,props:{text:{type:[String,Number,Object],required:!1,default:void 0},textFallback:{type:String,required:!1,default:void 0},to:{type:[String,Object],required:!1,default:void 0},truncate:{type:Number,required:!1,default:void 0},truncatePrepend:{type:[String,Number],required:!1,default:null},truncateAppend:{type:[String,Number],required:!1,default:null},date:{type:Boolean,required:!1,default:!1},dateFormat:{type:String,required:!1,default:"DD MMM, YYYY hh:mm:ss a"},className:{type:String,required:!1,default:""},asCurrency:{type:Boolean,required:!1,default:!1}},inject:["$textFallbackAlways","$textFallbackAlwaysAs"],computed:Object(y["a"])(Object(y["a"])({},Object(_["c"])({organizationCurrencyState:function(t){return t.fsTable.organizationCurrency},currencyState:function(t){return t.fsTable.currency},attributesRoot:function(t){return t.fsTable.currency.attributes.root},attributesActual:function(t){return t.fsTable.currency.attributes.actual},attributesDefault:function(t){return t.fsTable.currency.attributes.default}})),{},{getText:function(){if(!this.text)return this.fallbackText();if(this.date)return this.$dayjs().isValid(this.text)?this.$UTCAwareTime(this.text,this.format):this.textFallback?this.textFallback:this.$textFallbackAlways?this.$textFallbackAlwaysAs:"";if(this.asCurrency){var t="actual"===this.currencyState.selected?this.attributesActual.currencySymbol:this.attributesDefault.currencySymbol,e=this.attributesRoot?this.attributesRoot+"."+t:t,n="actual"===this.currencyState.selected?this.attributesActual.amount:this.attributesDefault.amount,i=this.attributesRoot?this.attributesRoot+"."+n:n;console.log(e,i);var s=Object(w["u"])(e,this.text),a=Object(w["u"])(i,this.text);return s&&a?"".concat(s," ").concat(a):(console.warn("could not resolve currency props ".concat(i,", ").concat(e," on this object"),this.text),this.fallbackText())}return Object(x["a"])(this.text,this.truncate,this.truncatePrepend,this.truncateAppend)}}),methods:{fallbackText:function(){return this.textFallback?this.textFallback:this.$textFallbackAlways?this.$textFallbackAlwaysAs:""}}},C=S,$=(n("eff4"),Object(l["a"])(C,b,v,!1,null,"90824bc4",null)),E=$.exports},eff4:function(t,e,n){"use strict";n("2869")},f487:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoaded?t._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?n("div",{staticClass:"max-w-6xl mx-auto mt-3 lg:mt-10 md:mt-5"},[n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("span",[t._v(" "+t._s(t.$t("components.settingsManagement.businessHour.headline.announcement"))+" ")])])]),n("div",{key:"maintenanceSettings_"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.maintenanceSettings,(function(e,i){return["toggle"===e.type?n("SmartToggleInput",{key:i,attrs:{label:e.label,options:e.options,placeholder:e.placeholder,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("maintenance",""+e.variable,n)}},model:{value:t.maintenance[""+e.variable],callback:function(n){t.$set(t.maintenance,""+e.variable,n)},expression:"maintenance[`${item.variable}`]"}}):[t.maintenance.is_service_available?t._e():["service_unavailability_type"===e.variable?n("SmartAppInput",{key:i,attrs:{rowId:"maintenance_"+i,type:e.type,label:e.label,placeholder:e.placeholder,description:e.description,options:t.unavailabilityTypeChoices,isEdit:e.isEdit},on:{save:function(n){return t.onSave("maintenance",""+e.variable,n)}},model:{value:t.maintenance[""+e.variable],callback:function(n){t.$set(t.maintenance,""+e.variable,n)},expression:"maintenance[`${item.variable}`]"}}):n("SmartAppInput",{key:i,attrs:{rowId:"maintenance_"+i,type:e.type,label:e.label,placeholder:e.placeholder,description:e.description,isEdit:e.isEdit},on:{save:function(n){return t.onSave("maintenance",""+e.variable,n)}},model:{value:t.maintenance[""+e.variable],callback:function(n){t.$set(t.maintenance,""+e.variable,n)},expression:"maintenance[`${item.variable}`]"}})]]]}))],2),n("div",{staticClass:"flex items-center justify-between mt-10"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-clock text-22px text-oTeal"}),n("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.$t("components.settingsManagement.businessHour.headline.businessHour"))+" ")])]),n("div")]),n("div",{staticClass:"hidden py-6 border-b border-oLightestGray md:flex border-t-2"},[n("div",{staticClass:"w-1/3 font-bold text-14px text-oGray"},[t._v(" "+t._s(t.$t("components.settingsManagement.businessHour.businessHour.workingDay"))+" ")]),n("div",{staticClass:"w-1/3 ml-2 font-bold text-14px text-oGray"},[t._v(" "+t._s(t.$t("components.settingsManagement.businessHour.businessHour.startingTime"))+" ")]),n("div",{staticClass:"w-1/3 -ml-4 font-bold text-14px text-oGray"},[t._v(" "+t._s(t.$t("components.settingsManagement.businessHour.businessHour.endingTime"))+" ")])]),n("div",{staticClass:"block h-px mt-6 md:hidden"}),t._l(t.schedules,(function(e,i){return[n("s-grid",{key:i,attrs:{one:"Working Day",two:"Starting Time",three:"Ending Time",variant:i%2?"gray":"white"},scopedSlots:t._u([{key:"one",fn:function(){return[n("div",{staticClass:"flex mt-3"},[n("div",[n("t-toggle",{attrs:{variant:"success"},on:{change:function(n){return t.onOff(e,n)}},model:{value:e.is_active,callback:function(n){t.$set(e,"is_active",n)},expression:"item.is_active"}})],1),n("div",{staticClass:"ml-4 font-bold text-14px text-oGray"},[t._v(" "+t._s(e.day)+" ")])])]},proxy:!0},{key:"two",fn:function(){return[n("div",{staticClass:"w-4/5"},[n("ValidationObserver",{staticClass:"flex items-center w-full"},[n("form",{staticClass:"w-full",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault()}}},[n("ValidationProvider",{attrs:{vid:"friday",rules:""},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.errors;return[t.getInputLockState(t.lowercase(e.day)+"_start_time")?[n("text-input",{attrs:{disabled:!0},model:{value:e.start_time,callback:function(n){t.$set(e,"start_time",n)},expression:"item.start_time"}})]:[n("clock-picker",{attrs:{placeholder:"--:--"},model:{value:e.start_time,callback:function(n){t.$set(e,"start_time",n)},expression:"item.start_time"}}),n("input-error-item",{attrs:{message:s[0]}})]]}}],null,!0)})],1),n("div",[n("anchor-button",{staticClass:"ml-3",attrs:{text:t.getButtonText(t.lowercase(e.day)+"_start_time"),variant:t.getButtonVariant(t.lowercase(e.day)+"_start_time")},on:{click:function(n){t.toggleEditingState(t.lowercase(e.day)+"_start_time",null,e)}}}),n("input-error-item")],1)])],1)]},proxy:!0},{key:"three",fn:function(){return[n("div",{staticClass:"w-4/5"},[n("ValidationObserver",{staticClass:"flex items-center w-full"},[n("form",{staticClass:"w-full",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault()}}},[n("ValidationProvider",{attrs:{vid:"friday",rules:""},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.errors;return[t.getInputLockState(t.lowercase(e.day)+"_end_time")?[n("text-input",{attrs:{disabled:!0},model:{value:e.end_time,callback:function(n){t.$set(e,"end_time",n)},expression:"item.end_time"}})]:[n("clock-picker",{attrs:{placeholder:"--:--"},model:{value:e.end_time,callback:function(n){t.$set(e,"end_time",n)},expression:"item.end_time"}}),n("input-error-item",{attrs:{message:s[0]}})]]}}],null,!0)})],1),n("div",[n("anchor-button",{staticClass:"ml-3",attrs:{text:t.getButtonText(t.lowercase(e.day)+"_end_time"),variant:t.getButtonVariant(t.lowercase(e.day)+"_end_time")},on:{click:function(n){t.toggleEditingState(t.lowercase(e.day)+"_end_time",null,e)}}}),n("input-error-item")],1)])],1)]},proxy:!0}],null,!0)})]}))],2):t._e()])},s=[],a=n("1da1"),r=n("5530"),o=(n("96cf"),n("ac1f"),n("1276"),n("d81d"),n("159b"),n("2b0e")),l=n("2a9f"),c=n.n(l),u=n("b345"),d=n("e94b"),p=n("15e7"),m=n("69f9"),f=n("6eb7"),g=n("c820"),h=n("cb0d"),b=n("b4694"),v=n("ed08"),y={name:"ScheduleSettings",mixins:[c.a],components:{TextInput:d["default"],AnchorButton:p["default"],SGrid:m["a"],ClockPicker:f["a"],SmartAppInput:h["a"],SmartToggleInput:b["a"]},data:function(){return{isLoaded:!1,counter:0,schedules:[],inPlaceEditingState:{},unavailabilityTypeChoices:[],maintenance:{is_service_available:!1,service_unavailability_type:"",service_unavailability_description:""},maintenanceSettings:[{type:"toggle",label:this.$t("components.settingsManagement.businessHour.announcement.allowServiceAvailable.title"),description:this.$t("components.settingsManagement.businessHour.announcement.allowServiceAvailable.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_service_available",isEdit:!1},{type:"richselect",label:this.$t("components.settingsManagement.businessHour.announcement.serviceUnavailabilityType.title"),description:"",variable:"service_unavailability_type",isEdit:!1},{type:"text",label:this.$t("components.settingsManagement.businessHour.announcement.description.title"),description:"",variable:"service_unavailability_description",isEdit:!1}]}},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null}},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(t){}}},mounted:function(){var t=this;v["a"].$on("open-edit",(function(e){var n=e.split("_")[0];"maintenance"===n&&(t.maintenanceSettings=t.maintenanceSettings.map((function(t,n){return e==="maintenance_".concat(n)?Object(r["a"])(Object(r["a"])({},t),{},{isEdit:!0}):Object(r["a"])(Object(r["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="maintenance")}))},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,i,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$http.get(u["b"].api.index(t.orgId)),i=t.$http.get(g["c"].organization.maintenanceSettings.details(t.orgId)),s=t.$http.get(g["c"].organization.maintenanceSettings.unavailabilityTypeChoices()),a=[n,i,s],e.next=6,t.$http.all(a).then(t.$http.spread((function(){t.isLoaded=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s=n[0].data.data;s.forEach((function(e){t.mapDataWithModel(e)})),t.maintenance=n[1].data,t.unavailabilityTypeChoices=n[2].data})));case 6:case"end":return e.stop()}}),e)})))()},methods:{formatTimeForClockPicker:function(t){var e=t.split(":");return e[0]+":"+e[1]},lowercase:function(t){return String(t).toLowerCase()},mapDataWithModel:function(t){this.schedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)});var e=this.lowercase(t.day);o["default"].set(this.inPlaceEditingState,"".concat(e,"_start_time"),!1),o["default"].set(this.inPlaceEditingState,"".concat(e,"_end_time"),!1)},inPlaceEditingRequest:function(t,e,n){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var a,r,o,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log(t,e),console.log(n),a=new FormData,a.append("start_time",n.start_time),a.append("end_time",n.end_time),r=i.lowercase(n.day)+"_start_time",o=i.lowercase(n.day)+"_end_time",l="",c="",t===r&&(l=i.$t("components.settingsManagement.businessHour.toast.startingTime.title",{day:n.day}),c=i.$t("components.settingsManagement.businessHour.toast.startingTime.text",{day:n.day,time:n.start_time})),t===o&&(l=i.$t("components.settingsManagement.businessHour.toast.endingTime.title",{day:n.day}),c=i.$t("components.settingsManagement.businessHour.toast.endingTime.text",{day:n.day,time:n.end_time})),s.next=13,i.$http.patch(u["b"].api.update(n.id),a).then((function(t){return console.log(t),i.$notify({group:"generic",type:"success",title:l,text:c},3e3),!0})).catch((function(t){console.log("inPlaceE",t),i.$notify({group:"generic",type:"error",title:"Failed",text:"Failed to update business hour"},3e3)}));case 13:case"end":return s.stop()}}),s)})))()},onOff:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(t,e),s=new FormData,s.append("is_active",e),i.next=5,n.$http.patch(u["b"].api.update(t.id),s).then((function(i){console.log(i);var s=!0===e?n.$t("components.settingsManagement.businessHour.toast.day.opened"):n.$t("components.settingsManagement.businessHour.toast.day.closed"),a=!0===e?n.$t("components.settingsManagement.businessHour.toast.day.businessDay"):n.$t("components.settingsManagement.businessHour.toast.day.holiday");return n.$notify({group:"generic",type:"success",title:n.$t("components.settingsManagement.businessHour.toast.day.title",{day:t.day,status:s}),text:n.$t("components.settingsManagement.businessHour.toast.day.text",{day:t.day,status:a})},3e3),!0})).catch((function(t){console.log("onOffE",t),n.$notify({group:"generic",type:"error",title:"Failed",text:"Failed to update business hour"},3e3)}));case 5:case"end":return i.stop()}}),i)})))()},onSave:function(t,e,n){var i=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.counter++,a="","maintenance"===t&&(a=g["c"].organization.maintenanceSettings.update(i.orgId)),o=new FormData,o.append(e,n),s.next=7,i.$http.patch(a,o).then((function(t){return console.log(t),i.maintenanceSettings=i.maintenanceSettings.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{isEdit:!1})})),i.$notify({group:"generic",type:"success",title:i.$t("components.settingsManagement.businessHour.toast.success.title"),text:i.$t("components.settingsManagement.businessHour.toast.success.text")},3e3),!0})).catch((function(t){console.log(t),i.$notify({group:"generic",type:"danger",title:"Failed",text:"Failed to update settings"},3e3)}));case 7:case"end":return s.stop()}}),s)})))()}}},_=y,x=(n("1241"),n("2877")),w=Object(x["a"])(_,i,s,!1,null,null,null);e["default"]=w.exports},f7fe:function(t,e,n){(function(e){var n="Expected a function",i=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),m=Object.prototype,f=m.toString,g=Math.max,h=Math.min,b=function(){return p.Date.now()};function v(t,e,i){var s,a,r,o,l,c,u=0,d=!1,p=!1,m=!0;if("function"!=typeof t)throw new TypeError(n);function f(e){var n=s,i=a;return s=a=void 0,u=e,o=t.apply(i,n),o}function v(t){return u=t,l=setTimeout(S,e),d?f(t):o}function _(t){var n=t-c,i=t-u,s=e-n;return p?h(s,r-i):s}function x(t){var n=t-c,i=t-u;return void 0===c||n>=e||n<0||p&&i>=r}function S(){var t=b();if(x(t))return C(t);l=setTimeout(S,_(t))}function C(t){return l=void 0,m&&s?f(t):(s=a=void 0,o)}function $(){void 0!==l&&clearTimeout(l),u=0,s=c=a=l=void 0}function E(){return void 0===l?o:C(b())}function k(){var t=b(),n=x(t);if(s=arguments,a=this,c=t,n){if(void 0===l)return v(c);if(p)return l=setTimeout(S,e),f(c)}return void 0===l&&(l=setTimeout(S,e)),o}return e=w(e)||0,y(i)&&(d=!!i.leading,p="maxWait"in i,r=p?g(w(i.maxWait)||0,e):r,m="trailing"in i?!!i.trailing:m),k.cancel=$,k.flush=E,k}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||_(t)&&f.call(t)==s}function w(t){if("number"==typeof t)return t;if(x(t))return i;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=o.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):r.test(t)?i:+t}t.exports=v}).call(this,n("c8ba"))},f900:function(t,e,n){}}]);
//# sourceMappingURL=settings-ScheduleSettings.86b1b5ca.js.map