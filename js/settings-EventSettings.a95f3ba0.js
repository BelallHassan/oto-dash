(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings-EventSettings","chunk-2d0d3e80","chunk-c14436aa","chunk-2d0d3e80","chunk-2d20fb42"],{"15b2":function(t,e,n){"use strict";n("944c")},"5f81":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-gray-700 text-14px  ",class:{"text-gray-700":!!t.error,"text-red-600":!!t.error,"flex items-center":t.isShowInfoSymbol}},[t._t("default",(function(){return[t._v(t._s(t.text))]})),t.isShowInfoSymbol?a("img",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"<div class='w-40 p-1 text-xs'>"+t.info+"</div>",expression:"`<div class='w-40 p-1 text-xs'>${info}</div>`",modifiers:{top:!0}}],staticClass:"cursor-pointer ml-1 h-4 w-4",attrs:{src:n("b581")}}):t._e()],2)},i=[],o={name:"InputLabel",props:{text:{type:String},error:{type:String},isShowInfoSymbol:{type:Boolean,default:!1},info:{type:String,default:""}}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},"944c":function(t,e,n){},b345:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return d}));var a={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")}}},i={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")}}},o={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/event-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(t,"/")}}},r={api:{index:"/dashboard/organization-behavior-points/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},s={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(t,"/")}},topup:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")}}}},c={api:{general:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-general-settings/")}},charging:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")}}}},d={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/business-hour-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(t,"/")}}}},b581:function(t,e,n){t.exports=n.p+"assets/info.554ebc24.svg"},badb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoaded?t._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?n("div",{staticClass:"max-w-6xl mx-auto mt-3 lg:mt-10 md:mt-5"},[n("div",[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-bell text-22px text-oOrange"}),n("span",{staticClass:"pl-3"},[t._v(t._s(t.$t("components.settingsManagement.events.headline.eventNotification.title")))])]),n("p",{staticClass:"break-words title-description mt-1"},[t._v(" "+t._s(t.$t("components.settingsManagement.events.headline.eventNotification.description"))+" ")])]),n("div",{staticClass:"mt-3 pt-5 border-t-2"},[n("div",{staticClass:"grid grid-cols-1 gap-4  md:grid-cols-2 lg:grid-cols-4"},[t._l(t.events,(function(e,a){return[n("div",{key:a,staticClass:"mb-5"},[n("input-label",{staticClass:"mb-1",attrs:{text:e.title}}),n("t-checkbox",{attrs:{wrapped:"",label:t.$t("components.settingsManagement.events.eventNotification.email"),name:"EmailEnabled_"+e.id},on:{change:function(n){return t.onOff(e,"email",n)}},model:{value:e.email_enabled,callback:function(n){t.$set(e,"email_enabled",n)},expression:"item.email_enabled"}}),n("t-checkbox",{attrs:{wrapped:"",label:t.$t("components.settingsManagement.events.eventNotification.slack"),name:"SlackEnabled_"+e.id},on:{change:function(n){return t.onOff(e,"slack",n)}},model:{value:e.slack_enabled,callback:function(n){t.$set(e,"slack_enabled",n)},expression:"item.slack_enabled"}}),n("t-checkbox",{attrs:{wrapped:"",label:t.$t("components.settingsManagement.events.eventNotification.webNotification"),name:"WebNotiEnabled_"+e.id},on:{change:function(n){return t.onOff(e,"web",n)}},model:{value:e.web_noti_enabled,callback:function(n){t.$set(e,"web_noti_enabled",n)},expression:"item.web_noti_enabled"}})],1)]}))],2)])]):t._e()])},i=[],o=n("1da1"),r=(n("99af"),n("96cf"),n("5f81")),s=n("b345"),c={name:"EventSettings",components:{InputLabel:r["default"]},data:function(){return{isLoaded:!1,events:{},illegal_move:[],idle_vehicle:[],low_speed_zone:[],fallen_down:[],critical_battery:[],restricted_area:[],iot_removed:[],negative_balance:[],pull_up:[],aa:null}},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},getNotificationChennelOptions:function(){return[{value:"EMAIL",text:"Email"},{value:"WEB",text:"Web Notification"},{value:"SLACK",text:"Slack"}]}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$http.get(s["c"].api.index(t.orgId)).then((function(e){console.log("settings",e.data),t.events=e.data.data,console.log("settingsEv",t.events),t.isLoaded=!0})).catch((function(t){console.log("settignsErr",t)}));case 1:case"end":return e.stop()}}),e)})))()},methods:{onOff:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var o,r,c,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=new FormData,u=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i="",o="";return a?o=!0===n?"enabled":"disabled":(o=!0===n?"enable":"disable",i="Failed to update "),"".concat(i," ").concat(e," notification ").concat(o," for ").concat(t.title," event")},r="".concat(t.title," Notification"),"email"===e&&(c=u("Email"),d=u("Email",!1),o.append("email_enabled",n)),"slack"===e&&(c=u("Slack"),d=u("Slack",!1),o.append("slack_enabled",n)),"web"===e&&(c=u("Web"),d=u("Web",!1),o.append("web_noti_enabled",n)),i.next=8,a.$http.patch(s["c"].api.update(t.id),o).then((function(t){return console.log(t),a.$notify({group:"generic",type:"success",title:r,text:c},3e3),!0})).catch((function(t){console.log("onOffE",t),a.$notify({group:"generic",type:"error",title:r,text:d},3e3)}));case 8:case"end":return i.stop()}}),i)})))()}}},d=c,u=(n("15b2"),n("2877")),l=Object(u["a"])(d,a,i,!1,null,"1b129dbc",null);e["default"]=l.exports}}]);
//# sourceMappingURL=settings-EventSettings.a95f3ba0.js.map