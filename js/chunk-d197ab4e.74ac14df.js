(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d197ab4e"],{"081e":function(e,t,r){"use strict";r("2f0a")},"2f0a":function(e,t,r){},"349b":function(e,t){e.exports="data:image/png;base64,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"},3528:function(e,t,r){"use strict";r("4a38")},"4a38":function(e,t,r){},a8ce:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("EdgeStack",{attrs:{id:e.esId,busy:e.busy},scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"pb-3 panel-title"},[e._v(e._s(e.getTitleText))]),r("XStepper",{ref:"xstepper",attrs:{id:e.esId,steps:e.stepperSteps,mode:e.stepperMode},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}})]},proxy:!0},{key:"footer",fn:function(){return[e.isEditing?r("XStepperNavigation",{attrs:{id:e.esId,steps:e.stepperSteps,"submit-button-text":e.getSubmitButtonText},on:{submit:e.onSubmit},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}}):e._e(),e.isEditing?e._e():r("AppButton",{attrs:{text:e.getSubmitButtonText},on:{click:function(t){return e.onSubmit({step:e.stepperCurrentStep})}}})]},proxy:!0},{key:"default",fn:function(){return[r("keep-alive",[1===e.stepperCurrentStep?[r("AddMultipleScooterStep1",{ref:"step1",attrs:{iotTypes:e.lockTypes,iotManufacturers:e.iotManufacturers,vehicleTypes:e.vehicleTypes,vehicleManufactures:e.vehicleManufacturers,vehicleModels:e.vehicleModels},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:2===e.stepperCurrentStep?[r("AddMultipleScooterStep2",{ref:"step2",on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:e._e()],2)]},proxy:!0}])})},a=[],i=r("1da1"),s=(r("96cf"),r("a9e3"),r("159b"),r("c18b")),o=r("d027"),u=r("5ed3"),c=r("c820"),l=r("acbb"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[r("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),r("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[r("AppInput",{attrs:{type:"richselect",name:"Iot Type",label:"Iot Type",placeholder:"Select a type",rules:"required","value-attribute":"display_name","text-attribute":"display_name",options:e.iotTypes,"hide-search-box":""},model:{value:e.form.iot_type,callback:function(t){e.$set(e.form,"iot_type",t)},expression:"form.iot_type"}}),r("AppInput",{attrs:{type:"richselect",name:"Iot Manufacturer",label:"Iot Manufacturer",placeholder:"Select a Manufacturer",rules:"required","value-attribute":"name","text-attribute":"name",options:e.iotManufacturers,"hide-search-box":""},model:{value:e.form.iot_manufacturer,callback:function(t){e.$set(e.form,"iot_manufacturer",t)},expression:"form.iot_manufacturer"}}),r("AppInput",{attrs:{type:"richselect",name:"Vehicle Type",label:"Vehicle Type",placeholder:"Select a Type",rules:"required","value-attribute":"value","text-attribute":"text",options:e.vehicleTypes,"hide-search-box":""},model:{value:e.form.vehicle_type,callback:function(t){e.$set(e.form,"vehicle_type",t)},expression:"form.vehicle_type"}}),r("AppInput",{attrs:{type:"richselect",name:"Vehicle Manufacturer",label:"Vehicle Manufacturer",placeholder:"Select a Manufacturer",rules:"required","value-attribute":"name","text-attribute":"name",options:e.vehicleManufactures,"hide-search-box":""},model:{value:e.form.vehicle_manufacturer,callback:function(t){e.$set(e.form,"vehicle_manufacturer",t)},expression:"form.vehicle_manufacturer"}}),r("AppInput",{attrs:{type:"richselect",name:"Vehicle Models",label:"Vehicle Models",placeholder:"Select a Model",rules:"required",valueAttribute:"title",textAttribute:"title",options:e.vehicleModels,"hide-search-box":""},model:{value:e.form.vehicle_model,callback:function(t){e.$set(e.form,"vehicle_model",t)},expression:"form.vehicle_model"}}),r("AppInput",{attrs:{type:"number",name:"Number of Vehicles Owned",label:"Number of Vehicles Owned",placeholder:"e.g. 50",min:"0",rules:"required"},model:{value:e.form.vehicle_amount,callback:function(t){e.$set(e.form,"vehicle_amount",t)},expression:"form.vehicle_amount"}}),r("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},d=[],f=(r("d81d"),r("a15b"),r("99af"),r("21a6")),h={name:"AddMultipleScooterStep1",props:{iotTypes:{type:Array,required:!0},iotManufacturers:{type:Array,required:!0},vehicleTypes:{type:Array,required:!0},vehicleManufactures:{type:Array,required:!0},vehicleModels:{type:Array,required:!0}},data:function(){return{isLoading:!1,form:{iot_type:"",iot_manufacturer:"",vehicle_type:"",vehicle_manufacturer:"",vehicle_model:"",vehicle_amount:50},columnHeader:[{key:"iot_name",title:"IOT Name*"},{key:"iot_manufacturer",title:"IOT Manufacturer*"},{key:"iot_type",title:"IOT Type*"},{key:"iot_imei",title:"IOT IMEI*"},{key:"iot_firmware_type",title:"IOT Firmware Type"},{key:"iot_firmware_key",title:"IOT Firmware Key"},{key:"iot_iccid_number",title:"IOT ICCID Number"},{key:"iot_phone_number",title:"IOT Phone Number"},{key:"vehicle_type",title:"Vehicle Type*"},{key:"vehicle_name",title:"Vehicle Name*"},{key:"vehicle_manufacturer",title:"Vehicle Manufacturer*"},{key:"vehicle_qr_code",title:"Vehicle QR Code*"},{key:"vehicle_model",title:"Vehicle Model*"}]}},methods:{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.submitButton.click();case 1:case"end":return t.stop()}}),t)})))()},csvMaker:function(){var e=this,t=[],r=this.columnHeader.map((function(e){return e.title}));t.push(r.join(";"));for(var n=function(r){var n=[];e.columnHeader.map((function(t){e.form[t.key]?n.push(e.form[t.key]):n.push("")}));var a=n.join(";");t.push(a)},a=0;a<this.form.vehicle_amount;a++)n(a);return t.join("\n")},submitStep:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("csvMaker",e.csvMaker()),r=new Blob([e.csvMaker()],{type:"text/csv"}),n="".concat(e.form.vehicle_type,"_").concat(e.form.vehicle_amount,".csv"),Object(f["saveAs"])(r,n),e.$emit("save",{step:1,data:{}});case 5:case"end":return t.stop()}}),t)})))()}}},m=h,v=r("2877"),b=Object(v["a"])(m,p,d,!1,null,null,null),g=b.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[r("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),r("form",{staticClass:"px-6",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),n(e.submitUploadExcel)}}},[r("AppInput",{attrs:{type:"richselect",name:"Fleet",label:"Fleet",placeholder:"Select",rules:"required","value-attribute":"id","text-attribute":"name",options:e.fleets,hideSearchBox:!1},model:{value:e.form.fleet,callback:function(t){e.$set(e.form,"fleet",t)},expression:"form.fleet"}}),r("div",{staticClass:"w-full pr-2 mt-12"},[r("ValidationProvider",{attrs:{name:"file",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("input-label",{attrs:{error:n[0],text:"File *"}}),r("upload-excel",{attrs:{errors:void 0==n[0]?"":n[0]},model:{value:e.form.file,callback:function(t){e.$set(e.form,"file",t)},expression:"form.file"}}),r("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),e.form.file?r("div",[e._v(" "+e._s(e.form.file.name)+" ")]):e._e(),r("button",{ref:"submitUploadButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},S=[],x=r("5530"),A=(r("07ac"),r("9f07")),w=r.n(A),T=r("2f62"),k=r("1dbc"),C=r("5f81"),I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full",class:e.errors?"p-12 border-2 border-dashed rounded-md border-red-400 flex-wrap":"p-12 border-2 border-dashed rounded-md border-gray-400 flex-wrap",on:{dragover:e.dragover,dragleave:e.dragleave,drop:e.drop}},[r("input",{ref:"file",staticClass:"absolute w-px h-px overflow-hidden opacity-0",attrs:{type:"file",accept:".xls, .xlsx,.csv"},on:{change:e.onChange}}),r("div",{staticClass:"flex items-center w-full h-full upload-center"},[e._m(0),r("div",{staticClass:"sm:w-4/5 2xl:w-full"},[e._m(1),r("button",{staticClass:"block upload-button",on:{click:e.onClickUpload}},[r("span",[e._v("Upload Excel File")])])])])])},O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sm:w-1/5 2xl:w-full"},[n("img",{staticClass:"file-icon",attrs:{src:r("349b")}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticStyle:{color:"#6d6d75","font-size":"14px"}},[r("span",{staticStyle:{color:"#000000"}},[e._v("Upload")]),e._v(" or "),r("span",{staticStyle:{color:"#000000"}},[e._v("Drag")]),e._v(" and Drop your excel or CSV file")])}],M=(r("a434"),{name:"UploadExcel",data:function(){return{file:null}},props:{errors:{required:!1,defatult:""}},created:function(){console.log("this.errors = ",this.errors)},methods:{onChange:function(){var e=this,t=this.$refs.file,r=t.files;if(r&&r[0]){var n=new FileReader;n.onload=function(t){e.previewAvatar=t.target.result},n.readAsDataURL(r[0]),this.$emit("input",r[0])}},remove:function(e){this.filelist.splice(e,1)},dragover:function(e){e.preventDefault(),e.currentTarget.classList.contains("bg-green-300")||(e.currentTarget.classList.remove("bg-gray-100"),e.currentTarget.classList.add("bg-green-300"))},dragleave:function(e){e.currentTarget.classList.add("bg-gray-100"),e.currentTarget.classList.remove("bg-green-300")},drop:function(e){e.preventDefault(),this.$refs.file.files=e.dataTransfer.files,this.onChange(),e.currentTarget.classList.add("bg-gray-100"),e.currentTarget.classList.remove("bg-green-300")},onClickUpload:function(){this.$refs.file.click()}}}),N=M,_=(r("3528"),Object(v["a"])(N,I,O,!1,null,"27928109",null)),D=_.exports,L={name:"addMultipleScooterStep1",components:{InputLabel:C["default"],UploadExcel:D},data:function(){return{isLoading:!1,form:{},fleets:[],filelist:[]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(k["a"].api.fleets).then((function(e){return e.data.data})).catch((function(e){return console.log("err = ",e)}));case 2:e.fleets=t.sent;case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){this.isEditing&&(this.form=Object(x["a"])({},this.step4.form))},computed:Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(T["b"])("scooter",["isEditing","currenteditingScooterId"])),Object(T["c"])({step1:function(e){return e.scooter.step1},step2:function(e){return e.scooter.step2},step3:function(e){return e.scooter.step3}})),{},{getPasswordValidationRules:function(){return this.isEditing?"min:8":"required|min:8"}}),methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.submitUploadButton.click();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitUploadExcel:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,t="POST",r=k["a"].api.multiple,n=new w.a(this.form).toFormData(),a="Scooter added successfully",e.prev=5,e.next=8,this.$http({method:t,url:r,data:n});case 8:return i=e.sent,this.isLoading=!1,console.log({res:i.data}),this.form={},this.$notify({group:"important",type:"success",title:"Success",text:a},5e3),console.log("response = ",i.data),this.$emit("save",{step:2,data:{}}),e.abrupt("return",!0);case 18:e.prev=18,e.t0=e["catch"](5),this.isLoading=!1,console.log({e1:e.t0.response.data}),s=Object.values(e.t0.response.data),s.length>0&&this.$emit("show_error",s[0][0]),this.$notify({group:"important",type:"error",title:"Error ocurred!",text:e.t0.response.data},5e3);case 25:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(){return e.apply(this,arguments)}return t}()}},V=L,B=Object(v["a"])(V,y,S,!1,null,null,null),R=B.exports,E=r("b2fe"),j=r("ed08"),P={name:"AddEditMultipleVehicle",components:{EdgeStack:o["a"],XStepper:u["a"],XStepperNavigation:u["b"],AppButton:s["a"],AddMultipleScooterStep1:g,AddMultipleScooterStep2:R},props:{esId:{type:String,default:"vehicle-add-edit"},stepperMode:{type:String,default:"free"},stepperStep:{type:Number,default:1}},data:function(){return{stepperSteps:[{title:"Template",free:!0},{title:"Upload",free:!1}],stepperCurrentStep:1,lockTypes:[],iotManufacturers:[],vehicleManufacturers:[],vehicleTypes:[],vehicleModels:[]}},computed:{isEditing:function(){return!0},getTitleText:function(){return"Add Multiple Vehicle"},getSubmitButtonText:function(){return this.stepperCurrentStep>this.stepperSteps.length-1?this.$t("components.stepNavigation.finish"):"Download Sample Template"}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData({onlyUnassignedLocks:!1});case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1}))},beforeDestroy:function(){this.$edgeStack.emitter.off(this.$edgeStack.getEventName("closed",this.esId))},watch:{stepperStep:{deep:!1,immediate:!0,handler:function(e){this.stepperCurrentStep=e,console.log("st",this.stepperCurrentStep)}}},methods:{onDirty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.esId;return!0===e?this.$edgeStack.shouldConfirm(t):this.$edgeStack.shouldNotConfirm(t)},onSave:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.length>0&&void 0!==e[0]?e[0]:{step:null,data:{}},console.log(n),1===n.step&&(a=[{title:"Template",free:!0},{title:"Upload",free:!0}],t.$xStepper.defineSteps(t.esId,a),t.beforeNextStep({to:2})),2===n.step&&(t.$xStepper.defineSteps(t.esId,t.stepperSteps),t.onLastStep(),t.$store.dispatch("fsTable/fetchData"));case 4:case"end":return r.stop()}}),r)})))()},beforeNextStep:function(e){var t=e.to,r=void 0===t?2:t;"free"===this.stepperMode?this.$edgeStack.shouldNotConfirm(this.esId):this.$edgeStack.shouldConfirm(this.esId),r?this.$xStepper.navigate(this.esId).to(r):this.$xStepper.navigate(this.esId).next()},onLastStep:function(){var e=this;this.$emit("refresh"),this.$edgeStack.shouldNotConfirm(this.esId),this.$edgeStack.close(this.esId),this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1}))},onSubmit:function(e){this.$refs["step".concat(e.step)].submit()},fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(c["c"].dropdown.lockTypes()).then((function(e){return e.data.data})).catch((function(e){return console.log("lockTypesErr = ",e.response)}));case 2:return e.lockTypes=t.sent,t.next=5,e.$http.get(E["a"].api.iot_manufacture).then((function(e){return e.data.data})).catch((function(e){return console.log("err = ",e)}));case 5:return e.iotManufacturers=t.sent,t.next=8,e.$http.get(c["c"].dropdown.vehicleManufacturers()).then((function(e){return e.data.data})).catch((function(e){return console.log("vehicleManufacturersErr = ",e.response)}));case 8:return e.vehicleManufacturers=t.sent,t.next=11,e.$http.get(l["a"].api.org.index(e.$org.id)).then((function(e){return e.data.data})).catch((function(e){return console.log("vehicleModelsErr = ",e.response)}));case 11:e.vehicleModels=t.sent,n=(null===e||void 0===e||null===(r=e.$org)||void 0===r?void 0:r.vehicle_type)||[],n.forEach((function(t){return e.vehicleTypes.push(j["w"][t])}));case 14:case"end":return t.stop()}}),t)})))()}}},q=P,Y=(r("081e"),Object(v["a"])(q,n,a,!1,null,"c4ef6d6e",null));t["default"]=Y.exports}}]);
//# sourceMappingURL=chunk-d197ab4e.74ac14df.js.map