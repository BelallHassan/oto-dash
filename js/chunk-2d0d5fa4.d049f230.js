(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d5fa4"],{"711e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("t-modal",{attrs:{name:"rental-deliver",variant:"confirmation",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!t.isLoading,clickToClose:!t.isLoading},on:{closed:t.onClose}},[n("section",{staticClass:"px-4 pt-4 text-2xl font-extrabold text-center"},[t._v(" Mark Rental as Delivered ")]),n("div",{staticClass:"px-5 pt-5"},[n("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),o(t.onConfirm())}}},[n("span",[t._v("Do you really want to mark this rental record as delivered?")]),n("button",{ref:"submitButtonRef",staticClass:"hidden",attrs:{type:"submit"}},[t._v(" Confirm ")])])]}}])})],1),n("section",{staticClass:"flex items-center justify-end px-4 py-4 mt-6 space-x-5 bg-gray-50"},[n("AppButton",{class:"w-1/2",attrs:{disabled:t.isLoading,variant:"secondary"},on:{click:t.onClose}},[t._v(" No ")]),n("AppButton",{class:"w-1/2",attrs:{variant:"primary",isLoading:t.isLoading,disabled:t.isLoading},on:{click:function(e){return t.$refs.submitButtonRef.click()}}},[t._v(" Yes ")])],1)])},s=[],i=n("ed08"),a=n("c820"),r={props:{rentId:{type:String,required:!0}},components:{},mounted:function(){this.$modal.show("rental-deliver")},data:function(){return{isLoading:!1}},methods:{onClose:function(t){this.$emit("close",t)},onConfirm:function(){var t=this,e=this;this.isLoading=!0;var n={status:"DELIVERED"},o=new i["x"](n).toFormData();this.$http.patch(a["c"].vehicleRental.update(this.rentId),o).then((function(t){console.log(t),e.$notify({group:"bottomRight",type:"success",title:"Rental Request Delivered",text:"The rental request has been marked as delivered"},5e3),e.$store.dispatch("fsTable/fetchData"),e.onClose(!0)})).catch((function(n){console.log("onConfirm",n,n.response),e.$notify({group:"bottomRight",type:"error",title:"Rental Request Update Error",text:"Rental request could not be delivered"},5e3),t.isLoading=!1}))}}},l=r,c=n("2877"),d=Object(c["a"])(l,o,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d5fa4.d049f230.js.map