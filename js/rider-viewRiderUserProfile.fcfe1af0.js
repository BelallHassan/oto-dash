(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["rider-viewRiderUserProfile","chunk-2d22cfc9","chunk-f3c8522a","chunk-2d0e51fe","chunk-3baa67ff","chunk-2d0e149b"],{"09b2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative z-20 mr-2"},[i("div",{class:"relative object-cover overflow-hidden bg-gray-300 border-0 rounded-full",style:t.getStyle},[t.avatar?i("img",{class:"object-cover rounded-full",style:t.getStyle,attrs:{src:t.avatar}}):t._e()]),t.badge?i("div",{staticClass:"avatar-badge",class:t.badgeVariant},[t._v(" "+t._s(t.badge)+" ")]):t._e()])},r=[],n=(i("a9e3"),i("8ba4"),i("99af"),{name:"DisplayAvatar",props:{avatar:{type:String,required:!1},width:{type:[String,Number],required:!1,default:"6rem"},height:{type:[String,Number],required:!1,default:"6rem"},badge:{type:String,required:!1},badgeVariant:{type:String,required:!1,default:"fallback",validator:function(t){var e=["fallback","green","orange","red"];return-1!==e.indexOf(t)}}},computed:{getStyle:function(){var t=Number.isInteger(this.width)?"".concat(this.width,"px"):this.width,e=Number.isInteger(this.height)?"".concat(this.height,"px"):this.height;return"width: ".concat(t,"; height: ").concat(e)}}}),o=n,s=(i("23dd"),i("2877")),l=Object(s["a"])(o,a,r,!1,null,"102ed4b5",null);e["default"]=l.exports},"0e86":function(t,e,i){"use strict";i.d(e,"a",(function(){return m["default"]})),i.d(e,"b",(function(){return _}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["O"===t.status?i("t-dropdown",{attrs:{variant:"smActions"},scopedSlots:t._u([{key:"trigger",fn:function(e){var a=e.mousedownHandler,r=e.focusHandler,n=e.blurHandler,o=e.keydownHandler;return[i("button",{staticClass:"vld-parent trip-status-pill-button purple focus:outline-none",staticStyle:{height:"35px",width:"170px"},attrs:{"aria-label":"On Rent Dropdown","aria-haspopup":"true"},on:{mousedown:a,focus:r,blur:n,keydown:o}},[t.isLoading?i("loading",{attrs:{height:25,opacity:0,color:"#fff",active:!0,loader:"bars","is-full-page":!1}}):[i("span",[t._v("On Rent")]),i("i",{staticClass:"fas fa-chevron-down"})]],2)]}},{key:"default",fn:function(e){var a=e.hide;return[i("div",{staticClass:"py-1 mt-1 bg-white rounded-md shadow-md",on:{click:function(t){return a()}}},[i("t-dropdown-item",{on:{click:function(e){return t.executeAction("complete")}}},[t._v(" End Trip ")]),i("t-dropdown-item",{staticClass:"text-oRed hover:bg-red-100",on:{click:function(e){return t.executeAction("cancel")}}},[t._v(" Cancel Trip ")])],1)]}}],null,!1,2425121263)}):i("TripStatusPillButton",{attrs:{status:t.status}})],1)},r=[],n=i("1da1"),o=(i("96cf"),i("a9e3"),i("d3b7"),i("9ce0")),s=i("f2f7"),l=i("92c2"),d=i("1869"),c={name:"TripCompletedDropdown",components:{TDropdownItem:l["default"],TripStatusPillButton:d["a"]},props:{tripId:{type:[String,Number],required:!0}},data:function(){return{isLoading:!1,status:"O"}},computed:{getStatusText:function(){return Object(s["b"])(s["b"])}},methods:{executeAction:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,r,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a="",r="",n="","complete"===t?(a="Trip Ended",r="The Trip is marked as completed",n=o["a"].api.actions.complete(e.tripId)):"cancel"===t&&(a="Trip Cancelled",r="The trip is marked as cancelled",n=o["a"].api.actions.cancel(e.tripId)),e.isLoading=!0,i.next=7,e.$http.post(n).then((function(){"complete"===t?e.status="C":"cancel"===t&&(e.status="A"),e.$store.dispatch("lastTrip/saveStatus",e.status),e.$notify({group:"generic",type:"success",title:a,text:r},3e3)})).catch((function(t){e.$notify({group:"generic",type:"error",title:"Error",text:"Action failed to execute [ERR:".concat(t.response.status,"]")},3e3)})).finally((function(){e.isLoading=!1}));case 7:return i.abrupt("return",!0);case 8:case"end":return i.stop()}}),i)})))()}}},u=c,p=(i("d87b"),i("2877")),f=Object(p["a"])(u,a,r,!1,null,"09000a48",null),m=(f.exports,i("1371")),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:"flex items-center font-medium text-14px app-form-reset px-2 "+t.getStatusTextClass},[t._v(" "+t._s(t.getTripStatus)+" "),t._t("default")],2)},h=[],v=(i("caad"),{name:"TripStatusButtonByFlag",props:{value:{type:String,required:!0},variant:{type:String,default:"badge",validator:function(t){return["badge"].includes(t)}}},computed:{getStatusTextClass:function(){var t=Object(s["a"])(this.value);return"trip-status-pill ".concat(t)},getTripStatus:function(){return Object(s["b"])(this.value)}}}),b=v,y=(i("d52c"),Object(p["a"])(b,g,h,!1,null,"eaad633a",null)),_=y.exports},1371:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",t._g({class:"app-form-reset trip-status-pill "+t.variant},t.$listeners),[i("loading",{attrs:{height:17,opacity:0,active:t.busy,color:"#000",loader:"bars","is-full-page":!1}}),i("div",{style:"visibility: "+(t.busy?"hidden":"visible")+";"},[t._v(" "+t._s(t.text)+" "),t._t("default")],2)],1)},r=[],n=(i("caad"),{name:"TripStatusButton",props:{text:{type:String,required:!0},busy:{type:Boolean,default:!1},variant:{type:String,default:"green",validator:function(t){return["fallback","blue","purple","red","green","yellow","orange"].includes(t)}}}}),o=n,s=(i("1abb"),i("2877")),l=Object(s["a"])(o,a,r,!1,null,"0a883cf2",null);e["default"]=l.exports},1869:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.getTripStatusClass},[i("span",[t._v(t._s(t.getTripStatusText(t.status)))]),i("i",{class:t.icon})])},r=[],n=(i("caad"),i("f2f7")),o={name:"TripCondition",components:{},props:{status:{type:String,required:!0,validaotor:function(t){var e=["R","A","U","O","V","C","T","UF"];return e.includes(t)}},icon:{type:String,required:!1}},computed:{getTripStatusClass:function(){var t=this.getTripStatusColor(this.status);return"trip-status-pill-button ".concat(t)}},methods:{getTripStatusColor:n["a"],getTripStatusText:n["b"]}},s=o,l=(i("73e5"),i("2877")),d=Object(l["a"])(s,a,r,!1,null,"191c754b",null);e["a"]=d.exports},"1abb":function(t,e,i){"use strict";i("af74")},"1dc9":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var a={api:{index:"/dashboard/org-users/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/")},create:"/dashboard/org-users/",payment_create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/payment-info/")},document_create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/document-info/")},address_create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/address-info/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/")},activate:"/dashboard/org-users/activate/",verifyDocs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/document-info/")},updateStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/org-users/".concat(t,"/update-status/")}},events:{name:"org-user",refresh:"rid-org-user",sorId:"org-user",sorOpen:"sor-open-org-user",sorClose:"sor-close-org-user",sorToggle:"sor-toggle-org-user",editingData:"edit-org-user-data",viewingData:"view-org-user-data",succeededStep1:"succeeded-step-1",succeededStep2:"succeeded-step-2",succeededStep3:"succeeded-step-3",succeededStep4:"succeeded-step-4"}}},"1f6a":function(t,e,i){"use strict";i("cc34")},2223:function(t,e,i){},"23dd":function(t,e,i){"use strict";i("5ac1")},"2ac8":function(t,e,i){},"315d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"oto-edit-button focus:outline-none focus:shadow-none",on:{click:t.handleClicking}},[i("svg",{staticClass:"w-4 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})]),i("span",{staticClass:"ml-2 font-medium text-oBlack"},[t._v(" "+t._s(t.$t("components.stepNavigation.edit")))])])},r=[],n={name:"OtoEditButton",methods:{handleClicking:function(){this.$emit("click")}}},o=n,s=(i("d368"),i("2877")),l=Object(s["a"])(o,a,r,!1,null,"7a66675c",null);e["a"]=l.exports},3480:function(t,e,i){"use strict";i("54d8")},"3f27":function(t,e,i){"use strict";i("ed52")},"3f2d":function(t,e,i){},"4cabd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoaded?t._e():i("div",{staticClass:"h-screen vld-parent"},[i("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?[i("div",{staticClass:"grid lg:space-x-2 lg:space-y-2 lg:grid-cols-2 md:grid-cols-1 gap-2"},[i("info-grid",{attrs:{title:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.gridTitle"),"grid-class":"grid-cols-1",data:t.getProfile,editButton:!1,editPermissionStatus:t.$acl.canUpdate("riders")},on:{"single-edit":t.handleSingleEdit},scopedSlots:t._u([{key:"subheader",fn:function(){return[i("ProfileStatusDropdown",{attrs:{status:t.getProfileStatus,userId:t.id},on:{refresh:t.forceRefresh}})]},proxy:!0}],null,!1,1281463223)}),i("LastTripBlock",{attrs:{lastTrip:t.getLastTrip}})],1),i("div",{staticClass:"grid lg:space-x-2  lg:space-y-2 lg:grid-cols-2 md:grid-cols-1 gap-2 mt-2"},[i("DeviceInfoBlock",{attrs:{title:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.gridTitle"),"grid-class":"grid-cols-1 ",data:t.getDevice}}),i("FinancialBlock",{attrs:{title:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.gridTitle"),"grid-class":"grid-cols-1 ",data:t.getFinancialInfo}})],1),i("content-section",{staticClass:"mt-4"},[i("div",{staticClass:"grid grid-cols-2 md:space-x-2 md:pr-2 lg:grid-cols-5"},[i("div",{staticClass:"col-span-2 my-6"},[i("oto-typography",{staticClass:"inline-block mb-5",attrs:{text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.referral.title"),variant:"one"}}),i("div",{staticClass:"\n              flex flex-col\n              w-full\n              mt-5\n              sm:items-center\n              md:flex-row md:mt-0\n            "},[i("referral-code-ribbon",{attrs:{code:t.getReferralCode}})],1)],1),i("div",{staticClass:"col-span-3 my-6"},[i("oto-typography",{staticClass:"inline-block mb-5",attrs:{text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.health.title"),variant:"one"}}),i("div",{staticClass:"\n              grid\n              h-auto\n              space-y-4\n              md:grid-cols-3 md:space-x-4 md:h-44 md:space-y-0\n            "},[i("div",{staticClass:"\n                flex flex-col\n                justify-center\n                py-5\n                bg-gray-100\n                rounded-lg\n                px-7\n              "},[i("i",{staticClass:"mb-5 text-3xl text-blue-300 fas fa-ruler-vertical"}),i("h5",{staticClass:"mb-5 text-2xl font-bold text-gray-800"},[t._v(" "+t._s(t.getHeight)+" ")]),i("p",{staticClass:"text-sm text-gray-600"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.health.height"))+" ")])]),i("div",{staticClass:"\n                flex flex-col\n                justify-center\n                py-5\n                bg-gray-100\n                rounded-lg\n                px-7\n              "},[i("i",{staticClass:"mb-5 text-3xl text-purple-400 fas fa-stopwatch"}),i("h5",{staticClass:"mb-5 text-2xl font-bold text-gray-800"},[t._v(" "+t._s(t.getWeight)+" ")]),i("p",{staticClass:"text-sm text-gray-600"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.health.weight"))+" ")])]),i("div",{staticClass:"\n                flex flex-col\n                justify-center\n                py-5\n                bg-gray-100\n                rounded-lg\n                px-7\n              "},[i("i",{staticClass:"mb-5 text-3xl text-orange-500 fas fa-fire"}),i("h5",{staticClass:"mb-5 text-2xl font-bold text-gray-800"},[t._v(" "+t._s(t.getCalories)+" ")]),i("p",{staticClass:"text-sm text-gray-600"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.health.caloriesBurn"))+" ")])])])],1)])]),i("content-section",{staticClass:"mt-2"},[i("div",{staticClass:"flex items-center justify-between"},[i("oto-typography",{attrs:{text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.documents.headline"),variant:"one"}}),i("OtoAddButton",{on:{click:t.handleAdding}})],1),t._l(t.getDocs,(function(e,a){return i("div",{key:a},[i("user-document",{attrs:{"doc-id":e.id,status:e.status,"status-title":e.status_title,cover:e.cover,images:e.images,title:e.title,subtitle:e.subtitle},on:{verify:function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];return t.verifyDocs.apply(void 0,e)},download:function(i){return t.downloadImage(e.images)}}})],1)}))],2),i("EditRider",{attrs:{primaryKey:t.profile.id,profileData:t.profile,singleUpdateKey:t.singleUpdateKey},on:{refresh:t.handleRefresh}}),i("AddRiderDocument",{on:{refresh:t.fetchData}})]:t._e()],2)},r=[],n=i("2909"),o=i("5530"),s=i("1da1"),l=(i("b0c0"),i("99af"),i("ac1f"),i("5319"),i("d3b7"),i("4de4"),i("d81d"),i("96cf"),i("9f07")),d=i.n(l),c=i("77d3"),u={api:{update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/identity-cards/".concat(t,"/")}}},p=i("9cf9"),f=i("f625"),m=i("7a94"),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"card"},[i("div",{staticClass:"flex items-center w-full h-full"},[i("div",{staticClass:"transform -rotate-90 referral-code",domProps:{innerHTML:t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.referral.referralCode"))}}),t._m(0),i("div",{staticClass:"flex flex-col items-center justify-center w-full text-center"},[i("div",{staticClass:"code"},[i("t-input",{ref:"code",staticClass:"text-center",attrs:{value:t.getRefCode(),variant:"untraceable",readonly:"readonly"}})],1),i("div",{staticClass:"copy",on:{click:function(e){return t.copyToClipBoard()}}},[i("i",{staticClass:"mr-1 far fa-copy"}),t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.referralHealth.referral.copyThisCode"))+" ")])])])])])},h=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative h-full border-r-2 border-dashed"},[i("div",{staticClass:"circle-cut circle-top"}),i("div",{staticClass:"circle-cut circle-bottom"})])}],v={name:"ReferralCodeRibbon",props:["text","code"],methods:{getRefCode:function(){var t;return null!==(t=this.code)&&void 0!==t?t:Math.floor(1e3*Math.random()+1)},copyToClipBoard:function(){this.$refs.code.select(),this.$refs.code.setSelectionRange(0,99999),document.execCommand("copy"),this.$notify({group:"generic",type:"success",title:"Code Copied",text:"The referral code has been copied to your clipboard"},2e3)}}},b=v,y=(i("ef50"),i("2877")),_=Object(y["a"])(b,g,h,!1,null,"4d94058c",null),x=_.exports,T=i("5a0c"),D=i.n(T),C=i("cbe1"),k=i("2f62"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-6 px-6 mt-2 w-full h-full bg-white rounded shadow "},[t.lastTrip.noLastTrip?a("section",{staticClass:"w-full h-full"},[a("div",{staticClass:"text-xl font-semibold uppercase text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.gridTitle"))+" ")]),a("div",{staticClass:"flex flex-col justify-center items-center w-full",staticStyle:{height:"100%"}},[a("img",{staticClass:"block object-cover object-center",attrs:{src:i("523f")}}),a("div",{staticClass:"text-sm font-semibold text-center text-oGray"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.value.noTripTaken"))+" ")])])]):a("section",{staticClass:"flex flex-col justify-between lg:flex-row"},[a("div",{staticClass:"w-full"},[a("div",{staticClass:"flex justify-between items-center mb-6"},[a("div",{staticClass:"text-xl font-semibold uppercase text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.gridTitle"))+" ")])]),a("div",{staticClass:"grid grid-cols-1"},[a("div",{staticClass:"grid grid-cols-1 md:col-span-2 sm:col-span-3"},[a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.tripStatus"))+" ")]),a("TripStatusButtonByFlag",{attrs:{value:t.lastTripStatus}})],1),a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.tripID"))+" ")]),a("router-link",{attrs:{to:{name:"ViewTrip",params:{id:t.lastTrip.id}},target:"_blank"}},[a("div",{staticClass:"font-medium text-blue-500 text-14px"},[t._v(" #"+t._s(t._f("onlyLastFive")(t.lastTrip.id))+" ")])])],1),a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.tripDate"))+" ")]),a("div",{staticClass:"font-medium text-gray-500 text-14px"},[t._v(" "+t._s(t.getFormattedDateTime(t.lastTrip.created_at))+" ")])]),a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.vehicleQR"))+" ")]),a("router-link",{attrs:{to:{name:"ViewVehicleProfile",params:{id:t.lastTrip.bike_id}},target:"_blank"}},[a("div",{staticClass:"font-medium text-blue-500 text-14px"},[t._v(" "+t._s(t.lastTrip.bike_qr_code)+" ")])])],1),a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.invoiceID"))+" ")]),a("router-link",{attrs:{to:{name:"ViewTransaction",params:{id:t.lastTrip.invoice_id}},target:"_blank"}},[a("div",{staticClass:"font-medium text-blue-500 text-14px"},[t._v(" #"+t._s(t._f("onlyLastFive")(t.lastTrip.invoice_id))+" ")])])],1),t.lastTrip.parking_pic?t._e():a("div",{staticClass:"grid grid-cols-2 my-3"},[a("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.lastTrip.infoTitle.tripPhoto"))+" ")]),a("div",{staticClass:"font-medium text-14px"},[t._v(" N/A ")])])])])]),t.lastTrip.parking_pic?a("div",{staticClass:"overflow-hidden w-32 h-32 rounded-lg shadow-md flex justify-start mt-2 mb-2"},[a("img",{staticClass:"object-cover h-32 rounded-lg cursor-pointer",attrs:{src:t.lastTrip.parking_pic,alt:"parking photo"},on:{click:function(e){t.image_viewing_index=0}}})]):t._e()]),a("CoolLightBox",{attrs:{effect:"fade",items:t.getTripParkingImage,index:t.image_viewing_index,useZoomBar:!0},on:{close:function(e){t.image_viewing_index=null}}})],1)},I=[],$=i("0e86"),S=i("ca65"),R=i("5547"),M={name:"LastTripBlock",props:{lastTrip:{type:Object,required:!0}},components:{TripStatusButtonByFlag:$["b"],CoolLightBox:R["a"]},data:function(){return{image_viewing_index:null}},computed:{lastTripStatus:function(){return this.$store.getters["lastTrip/getStatus"]},getTripParkingImage:function(){return[{src:this.lastTrip.parking_pic}]}},methods:{getFormattedDateTime:S["c"]}},A=M,O=Object(y["a"])(A,w,I,!1,null,null,null),j=O.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"py-6 px-6 mt-2 w-full h-full bg-white rounded shadow"},[i("div",{staticClass:"flex justify-between items-center mb-6"},[i("div",{class:t.typographyOne},[t._v(t._s(t.title))])]),t.data?i("div",{staticClass:"grid",class:t.gridClass},t._l(t.data,(function(e,a){return i("div",{key:a,staticClass:"grid grid-cols-2 my-3"},[i("div",{class:t.typographyTwo},[t._v(" "+t._s(e.text)+" ")]),i("div",{staticClass:"pr-1",class:t.typographyThree,style:e.color?"color: "+e.color:""},[t._v(" "+t._s("Last Location"==e.text?e.value.replace(",",", "):e.value)+" ")])])})),0):t._e()])},q=[],L={name:"DeviceInfoBlock",props:{title:{required:!1,type:String,default:"Title"},data:{required:!1,type:Array},editButton:{required:!1,type:Boolean,default:!0},gridClass:{required:!1,type:String,default:"grid-cols-2"},footerClass:{required:!1,type:String,default:""},subheaderClass:{required:!1,type:String,default:""},type:{required:!1}},data:function(){return{typographyOne:"font-semibold uppercase text-oDark text-xl",typographyTwo:"font-semibold text-14px text-oDark",typographyThree:"font-medium text-14px text-gray-500"}},mounted:function(){},methods:{}},E=L,P=Object(y["a"])(E,B,q,!1,null,null,null),U=P.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"py-6 px-6 mt-2 w-full h-full bg-white rounded shadow"},[i("div",{staticClass:"flex justify-between items-center mb-6"},[i("div",{class:t.typographyOne},[t._v(t._s(t.title))])]),t.data?i("div",{staticClass:"grid",class:t.gridClass},t._l(t.data,(function(e,a){return i("div",{key:a,staticClass:"grid grid-cols-2 my-3"},[i("div",{class:t.typographyTwo},[t._v(" "+t._s(e.text)+" ")]),e.value?i("div",{class:t.typographyThree,style:e.color?"color: "+e.color:""},[t._v(" "+t._s(e.value)+" ")]):t._e(),e.html?i("div",{class:t.typographyThree,style:e.color?"color: "+e.color:"",domProps:{innerHTML:t._s(e.html)}}):t._e()])})),0):t._e()])},V=[],N={name:"FinancialBlock",props:{title:{required:!1,type:String,default:"Title"},data:{required:!1,type:Array},editButton:{required:!1,type:Boolean,default:!0},gridClass:{required:!1,type:String,default:"grid-cols-2"},footerClass:{required:!1,type:String,default:""},subheaderClass:{required:!1,type:String,default:""},type:{required:!1}},data:function(){return{typographyOne:"font-semibold uppercase text-oDark text-xl",typographyTwo:"font-semibold text-14px text-oDark",typographyThree:"font-medium text-14px text-gray-500"}},mounted:function(){},methods:{}},H=N,z=Object(y["a"])(H,F,V,!1,null,null,null),K=z.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"grid"},[i("div",{staticClass:"grid grid-cols-2 my-3"},[i("div",{staticClass:"font-semibold text-14px text-oDark"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.profileStatus"))+" ")]),i("div",{staticClass:"font-medium text-gray-500 text-14px"},[i("t-dropdown",{attrs:{variant:"smActionsLeft"},scopedSlots:t._u([{key:"trigger",fn:function(e){var a=e.mousedownHandler,r=e.focusHandler,n=e.blurHandler,o=e.keydownHandler;return[i("button",{staticClass:"profile-status-badge focus:outline-none",class:t.currentStatus,attrs:{"aria-label":"Profile Status","aria-haspopup":"true"},on:{mousedown:a,focus:r,blur:n,keydown:o}},[t._v(" "+t._s(t.getCurrentStatusText)+" "),i("i",{staticClass:"mt-1 ml-1 fas fa-chevron-down"})])]}},{key:"default",fn:function(e){var a=e.hide;return[i("div",{staticClass:"py-1 mt-px bg-white rounded-md shadow-md",on:{click:function(t){return a()}}},["H"!==t.currentStatus?i("t-dropdown-item",{on:{click:function(e){return t.showDialog("H")}}},[t._v(" "+t._s(t.$t("components.riderManagement.action.hold"))+" ")]):t._e(),"A"!==t.currentStatus?i("t-dropdown-item",{on:{click:function(e){return t.action("A")}}},[t._v(" "+t._s(t.$t("components.riderManagement.action.activate"))+" ")]):t._e(),"D"!==t.currentStatus?i("t-dropdown-item",{on:{click:function(e){return t.showDialog("D")}}},[t._v(" "+t._s(t.$t("components.riderManagement.action.deactivate"))+" ")]):t._e(),i("t-dropdown-item",{on:{click:function(e){return t.actionForceSync()}}},[t._v(" "+t._s(t.$t("components.riderManagement.action.forceSyncStatus"))+" ")])],1)]}}])})],1)])]),i("t-modal",{attrs:{name:"holdOrDeactivateUserAccount",variant:"confirmation",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!t.isLoading,clickToClose:!t.isLoading}},[i("section",{staticClass:"px-4 pt-4 text-2xl font-extrabold text-center"},[t._v(" "+t._s(t.$t("components.riderManagement.modal.holdOrDeactivateUserAccount.headline",{title:"D"===t.pendingAction?t.$t("components.riderManagement.action.deactivate"):t.$t("components.riderManagement.action.hold")}))+" ")]),i("div",{staticClass:"px-5 pt-5"},[i("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),a(t.confirmDialog())}}},[i("AppInput",{attrs:{rules:"required",type:"richselect",name:"reason",label:t.$t("components.riderManagement.modal.holdOrDeactivateUserAccount.title.reason"),placeholder:t.$t("components.riderManagement.modal.holdOrDeactivateUserAccount.placeholder.reason"),options:"H"===t.pendingAction?t.reasons.hold:t.reasons.deactivate,"hide-search-box":""},model:{value:t.models.reason,callback:function(e){t.$set(t.models,"reason",e)},expression:"models.reason"}}),i("AppInput",{attrs:{rules:"",label:t.$t("components.riderManagement.modal.holdOrDeactivateUserAccount.title.remark"),type:"textarea",name:"remark"},model:{value:t.models.remark,callback:function(e){t.$set(t.models,"remark",e)},expression:"models.remark"}}),i("button",{ref:"holdOrDeactivateSubmitButtonRef",staticClass:"hidden",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("components.stepNavigation.save"))+" ")])],1)]}}])})],1),i("section",{staticClass:"flex items-center justify-end px-4 py-4 mt-6 space-x-5 bg-gray-50"},[i("AppButton",{class:"w-1/2",attrs:{variant:"secondary"},on:{click:function(e){return t.hideDialog()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),i("AppButton",{class:"w-1/2",attrs:{variant:"primary",isLoading:t.isLoading},on:{click:function(e){return t.$refs.holdOrDeactivateSubmitButtonRef.click()}}},[t._v(" "+t._s(t.$t("components.riderManagement.modal.holdOrDeactivateUserAccount.action",{action:"D"===t.pendingAction?t.$t("components.riderManagement.action.deactivate"):t.$t("components.riderManagement.action.hold")}))+" ")])],1)])],1)},Y=[],J=i("1dc9"),W=i("92c2"),Z=i("ed08"),Q=i("c820"),X={name:"ProfileStatusDropdown",components:{TDropdownItem:W["default"]},props:{status:{type:String,required:!0,validator:function(t){return-1!==["H","A","D"].indexOf(t)}},userId:{type:String,required:!0}},watch:{status:function(t){console.warn({updated:t}),this.currentStatus=t}},data:function(){return{aliases:{H:"On Hold",A:"Active",D:"Inactive"},isLoading:!1,currentStatus:this.status,pendingAction:"",models:{reason:null,remark:""},reasons:{deactivate:[{text:"Damaged Vehicle",value:"DAMAGED_VEHICLE"},{text:"Violates Geofence Rules",value:"GEOFENCE_RULE_VIOLATION"},{text:"Payment Compliance",value:"PAYMENT_COMPLIANCE"}],hold:[{text:"Suspicious Activity - OTP",value:"SUSPICIOUS_ACTIVITY_OTP"},{text:"Suspicious Activity - Vehicle",value:"SUSPICIOUS_ACTIVITY_VEHICLE"},{text:"Suspicious Activity - Transactions",value:"SUSPICIOUS_ACTIVITY_TRANSACTIONS"},{text:"Suspicious Activity - Trips",value:"SUSPICIOUS_ACTIVITY_TRIPS"}]}}},computed:{getCurrentStatusText:function(){return this.aliases[this.currentStatus]}},methods:{id:function(){return this.$route.params.id},actionForceSync:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$acl.canNotUpdate("riders")){e.next=3;break}return t.$notify(t.$acl.notAbleToToast({action:"update",permission:"riders"})),e.abrupt("return");case 3:return i=Q["c"].rider.status.forceSync(t.userId),e.next=6,t.$http.post(i).then((function(e){console.log("successful-force-sync-response",e),t.$notify({group:"generic",type:"success",title:"Force Sync",text:e.data.detail},3e3),t.$emit("refresh")})).catch((function(e){console.log("unsuccessful-force-sync-response",e),t.$notify({group:"generic",type:"error",title:"Failed",text:e.response.data},3e3)}));case 6:case"end":return e.stop()}}),e)})))()},action:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.$acl.canNotUpdate("riders")){i.next=3;break}return e.$notify(e.$acl.notAbleToToast({action:"update",permission:"riders"})),i.abrupt("return");case 3:return e.isLoading=!0,a=new FormData,a.append("user_status",t),"D"!==t&&"H"!==t||(a.append("status_reason",e.models.reason),a.append("status_remark",e.models.remark)),i.next=9,e.$http.put(J["a"].api.updateStatus(e.userId),a).then((function(t){e.$notify(e.getToastData(t.data.user_status),5e3),e.currentStatus=t.data.user_status,e.$store.dispatch("riderdetails/saveStatus",e.currentStatus),Z["a"].$emit("rider-details-header-refresh")})).catch((function(t){console.warn(t),e.$notify({group:"generic",type:"danger",title:"Action Execution Failed!",text:"The action encountered an error from server. [ERR:".concat(t.response.status,"]")},5e3)})).finally((function(){e.isLoading=!1,e.hideDialog()}));case 9:case"end":return i.stop()}}),i)})))()},getToastData:function(t){var e={H:"Account Hold",A:"Account Activation",D:"Account Deactivation"},i=t in e?e[t]:"Account Status",a={H:"The rider account is put on hold",A:"The rider account is activated",D:"The rider account is deactivated"},r=t in a?a[t]:"The rider account status is updated";return{group:"generic",type:"success",title:i,text:r}},confirmDialog:function(){this.models.reason&&this.action(this.pendingAction)},hideDialog:function(){this.models.reason=null,this.models.remark="",this.pendingAction="",this.$modal.hide("holdOrDeactivateUserAccount")},showDialog:function(t){this.$acl.canNotUpdate("riders")?this.$notify(this.$acl.notAbleToToast({action:"update",permission:"riders"})):(this.pendingAction=t,this.$modal.show("holdOrDeactivateUserAccount"))}}},tt=X,et=(i("3f27"),Object(y["a"])(tt,G,Y,!1,null,"c3e1bc60",null)),it=et.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("t-modal",{attrs:{name:"editRider-"+t.primaryKey,variant:"confirmation",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!0,clickToClose:!0}},[i("section",{staticClass:"px-4 pt-4 text-2xl font-extrabold text-center"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.editRider.headline"))+" ")]),i("div",{staticClass:"px-5 pt-5"},[i("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),a(t.handleUpdate())}}},["phone_number"===t.singleUpdateKey?i("AppInput",{attrs:{rules:"required",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.editRider.title.phoneNumber"),type:"text",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.editRider.title.phoneNumber")},model:{value:t.phone_number,callback:function(e){t.phone_number=e},expression:"phone_number"}}):t._e(),"email"===t.singleUpdateKey?i("AppInput",{attrs:{rules:"required",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.editRider.title.email"),type:"email",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.editRider.title.email")},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),i("button",{ref:"editRiderSubmitButtonRef",staticClass:"hidden",attrs:{type:"submit"}},[t._v(" Save ")])],1)]}}])})],1),i("section",{staticClass:"flex items-center justify-end px-4 py-4 mt-6 space-x-5 bg-gray-50"},[i("AppButton",{class:"w-1/2",attrs:{variant:"secondary"},on:{click:function(e){return t.closeEditRiderModal()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),i("AppButton",{class:"w-1/2",attrs:{variant:"primary",isLoading:t.isLoading},on:{click:function(e){return t.$refs.editRiderSubmitButtonRef.click()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.update"))+" ")])],1)])},rt=[],nt=(i("a9e3"),{name:"EditRider",props:{primaryKey:{type:[String,Number],required:!0},profileData:{type:Object,required:!0},singleUpdateKey:{type:String,default:""}},data:function(){return{isLoading:!1,phone_number:"",email:""}},watch:{profileData:{immediate:!0,deep:!1,handler:function(t){t&&(this.phone_number=t.phone_number,this.email=t.email)}},singleUpdateKey:{immediate:!0,deep:!0,handler:function(t){console.log("single-edit",t)}}},methods:{handleUpdate:function(){var t=this;this.isLoading=!0;var e=Q["c"].rider.update(this.profileData.id),i=new FormData;"phone_number"===this.singleUpdateKey&&i.append("phone_no",this.phone_number),"email"===this.singleUpdateKey&&i.append("email",this.email),this.$http.patch(e,i).then((function(e){console.log("rider-success",e),t.$notify({group:"bottomRight",type:"success",title:"Success",text:e.data.data},3e3),t.$modal.hide("editRider-".concat(t.primaryKey)),t.$emit("refresh")})).catch((function(e){console.log("rider-err",{err:e}),t.$notify({group:"bottomRight",type:"error",title:"Error occured!",text:e.response.data.message})})).finally((function(){return t.isLoading=!1}))},closeEditRiderModal:function(){this.$modal.hide("editRider-".concat(this.primaryKey))}}}),ot=nt,st=(i("7194"),Object(y["a"])(ot,at,rt,!1,null,"20500180",null)),lt=st.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"oto-edit-button focus:outline-none focus:shadow-none",on:{click:t.handleClicking}},[i("i",{staticClass:"fa-solid fa-plus"}),i("span",{staticClass:"ml-2 font-medium text-oBlack"},[t._v(" "+t._s(t.$t("components.stepNavigation.add")))])])},ct=[],ut={name:"OtoAddButton",methods:{handleClicking:function(){this.$emit("click")}}},pt=ut,ft=(i("d507"),Object(y["a"])(pt,dt,ct,!1,null,"744ba361",null)),mt=ft.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("t-modal",{attrs:{name:t.id,variant:"2xl",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!1,clickToClose:!1}},[i("section",{staticClass:"px-4 pt-4 text-2xl font-extrabold text-center"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.headline"))+" ")]),i("div",{staticClass:"px-5 pt-5"},[i("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),a(t.handleAddDoc())}}},[i("AppInput",{class:t.isSelectCardType?"":"mb-32",attrs:{type:"richselect",rules:"required",name:"type",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardType"),placeholder:"\n            Select\n          ",options:t.cardTypeChoices,"hide-search-box":""},model:{value:t.formData.card_type,callback:function(e){t.$set(t.formData,"card_type",e)},expression:"formData.card_type"}}),t.isSelectCardType?[i("AppInput",{attrs:{rules:"required",label:t.getCardIdTitle,type:"text",name:t.getCardIdTitle},model:{value:t.formData.card_id,callback:function(e){t.$set(t.formData,"card_id",e)},expression:"formData.card_id"}}),t.isDrivingCard?[i("AppInput",{attrs:{rules:t.isIssueDateRequired?"required":"",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.issueDate"),type:"date",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.issueDate")},model:{value:t.formData.issue_date,callback:function(e){t.$set(t.formData,"issue_date",e)},expression:"formData.issue_date"}}),i("AppInput",{attrs:{rules:t.isExpirationDateRequired?"required":"",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.expirationDate"),type:"date",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.expirationDate")},model:{value:t.formData.expiration_date,callback:function(e){t.$set(t.formData,"expiration_date",e)},expression:"formData.expiration_date"}}),i("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-4"},[i("div",[i("ValidationProvider",{staticClass:"mt-2",attrs:{tag:"div",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardFrontPhoto.title"),rules:t.isFrontPicRequired?"required":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input-label",{attrs:{error:a[0],text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardFrontPhoto.title")+" "+(t.isFrontPicRequired?"*":"")}}),i("UploadImageAlt",{staticClass:"max-h-14",attrs:{current:t.formData.card_pic,text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardFrontPhoto.description"),"button-text":t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardFrontPhoto.buttonText"),disabled:!1},model:{value:t.formData.card_pic,callback:function(e){t.$set(t.formData,"card_pic",e)},expression:"formData.card_pic"}}),i("input-error-item",{attrs:{message:a[0]}})]}}],null,!0)})],1),i("div",[i("ValidationProvider",{staticClass:"mt-2",attrs:{tag:"div",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardBackPhoto.title"),rules:t.isBackPicRequired?"required":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input-label",{attrs:{error:a[0],text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardBackPhoto.title")+" "+(t.isBackPicRequired?"*":"")}}),i("UploadImageAlt",{staticClass:"max-h-14",attrs:{current:t.formData.card_pic_back,text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardBackPhoto.description"),"button-text":t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardBackPhoto.buttonText"),disabled:!1},model:{value:t.formData.card_pic_back,callback:function(e){t.$set(t.formData,"card_pic_back",e)},expression:"formData.card_pic_back"}}),i("input-error-item",{attrs:{message:a[0]}})]}}],null,!0)})],1)])]:[i("ValidationProvider",{staticClass:"mt-2",attrs:{tag:"div",name:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardPhoto.title"),rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("input-label",{attrs:{error:a[0],text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardPhoto.title")+" *"}}),i("UploadImageAlt",{staticClass:"max-h-14",attrs:{current:t.formData.card_pic,text:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardPhoto.description"),"button-text":t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.cardPhoto.buttonText"),disabled:!1},model:{value:t.formData.card_pic,callback:function(e){t.$set(t.formData,"card_pic",e)},expression:"formData.card_pic"}}),i("input-error-item",{attrs:{message:a[0]}})]}}],null,!0)})]]:t._e(),i("button",{ref:"addRiderDocSubmitButtonRef",staticClass:"hidden",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("components.stepNavigation.save"))+" ")])],2)]}}])})],1),i("section",{staticClass:"flex items-center justify-end px-4 py-4 mt-6 space-x-5 bg-gray-50"},[i("AppButton",{class:"w-1/2",attrs:{variant:"secondary",disabled:t.isLoading},on:{click:t.handleCancel}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),i("AppButton",{class:"w-1/2",attrs:{variant:"primary",isLoading:t.isLoading},on:{click:function(e){return t.$refs.addRiderDocSubmitButtonRef.click()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.save"))+" ")])],1)])},ht=[],vt=(i("3ca3"),i("ddb0"),i("a15b"),i("1276"),i("b345")),bt={name:"AddRiderDocument",components:{InputLabel:function(){return i.e("chunk-c14436aa").then(i.bind(null,"5f81"))},UploadImageAlt:function(){return i.e("chunk-37a667de").then(i.bind(null,"92e78"))}},props:{id:{type:String,default:"add-rider-document"}},data:function(){return{isLoading:!1,cardTypeChoices:[{text:"Driving License",value:"D"},{text:"Passport",value:"P"},{text:"National ID",value:"N"},{text:"Student ID",value:"S"},{text:"Official ID",value:"O"}],isFrontPicRequired:!1,isBackPicRequired:!1,isIssueDateRequired:!1,isExpirationDateRequired:!1,formData:{card_id:"",card_type:"",card_pic:null,card_pic_back:null,issue_date:"",expiration_date:""}}},created:function(){var t=this;this.$http.get(vt["a"].api.index(this.orgId)).then((function(e){t.isFrontPicRequired=e.data.driver_id_required,t.isBackPicRequired=e.data.driver_id_back_pic_required,t.isIssueDateRequired=e.data.driver_id_issue_date_required,t.isExpirationDateRequired=e.data.driver_id_expiration_date_required}))},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},getRiderId:function(){return this.$route.params.id},getCardIdTitle:function(){return"D"===this.formData.card_type?this.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.drivingLicenseId"):"P"===this.formData.card_type?this.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.passportId"):"N"===this.formData.card_type?this.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.nationalId"):"S"===this.formData.card_type?this.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.studentId"):"O"===this.formData.card_type?this.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.addRiderDoc.title.officialId"):"Card Id"},isSelectCardType:function(){return!!this.formData.card_type},isDrivingCard:function(){return"D"===this.formData.card_type}},methods:{handleCancel:function(){this.$modal.hide(this.id),this.formData={card_id:"",card_type:"",card_pic:null,card_pic_back:null,issue_date:"",expiration_date:""}},handleAddDoc:function(){var t=this;console.log({handleAddDoc:this.formData}),this.isLoading=!0;var e=Q["c"].rider.addDoc(),i=Object(o["a"])(Object(o["a"])({},this.formData),{},{issue_date:this.formData.issue_date.split("-").reverse().join("/"),expiration_date:this.formData.expiration_date.split("-").reverse().join("/")}),a=new FormData;for(var r in a.append("user",this.getRiderId),i)i[r]&&a.append(r,i[r]);this.$http.post(e,a).then((function(e){console.log({docRes:{res:e}}),t.$emit("refresh"),t.$notify({group:"bottomRight",type:"success",title:"Success",text:"".concat(e.data.data||"Upload Successfully")},3e3),t.handleCancel()})).catch((function(e){t.$notify({group:"bottomRight",type:"error",title:"Failed",text:"".concat(e.response.data.message||"Failed")})})).finally((function(){t.isLoading=!1}))},reverseString:function(t){return""===t?"":this.reverseString(t.substr(1))+t.charAt(0)}}},yt=bt,_t=Object(y["a"])(yt,gt,ht,!1,null,null,null),xt=_t.exports,Tt={name:"ViewRiderUserProfile",components:{InfoGrid:p["a"],ContentSection:f["default"],OtoTypography:m["default"],ReferralCodeRibbon:x,UserDocument:C["a"],LastTripBlock:j,DeviceInfoBlock:U,FinancialBlock:K,ProfileStatusDropdown:it,EditRider:lt,OtoAddButton:mt,AddRiderDocument:xt},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{isLoaded:!1,isLoading:!1,symbol:"$",org_user:{},fallbackText:"--",singleUpdateKey:"",profile:Object(o["a"])({},c["a"])}},computed:Object(o["a"])(Object(o["a"])({},Object(k["b"])("auth",["organizationInfo"])),{},{id:function(){return this.$route.params.id},getAvatar:function(){return this.profile.profile.profile_pic||null},getBalance:function(){return this.profile.profile.balance?this.symbol+this.profile.profile.balance:"".concat(this.symbol,"0.00")},getTotalRides:function(){return this.profile.profile.num_of_trips||"0"},getTotalCalories:function(){return this.profile.profile.total_calories||"0.00"},getTotalEarnings:function(){return this.profile.profile.earning_from_invitations?this.symbol+this.profile.profile.earning_from_invitations:"".concat(this.symbol,"0.00")},getHeight:function(){return this.profile.profile.height?"".concat(this.profile.profile.height," '"):this.fallbackText},getWeight:function(){return this.profile.profile.weight?"".concat(this.profile.profile.weight," Kg"):this.fallbackText},getCalories:function(){return parseFloat(this.profile.profile.total_calories)>0?"".concat(this.profile.profile.total_calories," Cl"):this.fallbackText},getReferralCode:function(){return this.profile.invitation_code||""},getBirthday:function(){return this.profile.profile&&this.profile.profile.birthday?D()(this.profile.profile.birthday).format("DD MMM, YYYY"):"--"},getProfile:function(){var t,e,i,a,r,n,o,s,l,d,c,u,p,f,m,g,h,v,b,y,_=[];return _.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fullName"),value:this.profile.full_name||this.fallbackText}),_.push({key:"phone_number",text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.phoneNumber"),value:this.profile.phone_number||this.fallbackText}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.blacklisted"),value:this.profile.is_ip_blocked?"Yes":"No"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.dateOfBirth"),value:this.getBirthday}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.jobType"),value:this.getJobType(null===(t=this.profile)||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.ranger_job_type)}),_.push({key:"email",text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.email"),value:this.profile.email||this.fallbackText}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.gender"),value:this.getGender(null===(i=this.profile)||void 0===i||null===(a=i.profile)||void 0===a?void 0:a.gender)}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.country"),value:this.profile.country||"--"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.language"),value:this.profile.language||"--"}),_.push({key:"currentFleet",text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.currentFleet"),value:(null===(r=this.profile)||void 0===r||null===(n=r.profile)||void 0===n||null===(o=n.nearby_fleet)||void 0===o?void 0:o.name)||"--",id:(null===(s=this.profile)||void 0===s||null===(l=s.profile)||void 0===l||null===(d=l.nearby_fleet)||void 0===d?void 0:d.id)||"--"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.subscribedToMinuteBasedWallet"),value:null!==(c=this.profile)&&void 0!==c&&null!==(u=c.profile)&&void 0!==u&&u.is_subscribed_to_riding_time_balance_system?"Yes":"No"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.currentAddress"),value:(null===(p=this.profile)||void 0===p||null===(f=p.profile)||void 0===f?void 0:f.current_address_full)||"--"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.currentAddressZipCode"),value:(null===(m=this.profile)||void 0===m||null===(g=m.profile)||void 0===g?void 0:g.current_address_zip_code)||"--"}),_.push({key:"currentAddressCoords",text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.currentAddressCoordinates"),value:(null===(h=this.profile)||void 0===h||null===(v=h.profile)||void 0===v?void 0:v.current_address_coords)||"--",color:"#0000FF"}),_.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.currentAddressArea"),value:(null===(b=this.profile)||void 0===b||null===(y=b.profile)||void 0===y?void 0:y.current_address_area)||"--"}),_},getDevice:function(){var t,e,i,a,r,n,o,s,l=[];return l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.lastLocation"),value:this.profile.last_location||"--"}),l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.lastIPAddress"),value:this.profile.last_ip_address||"--"}),l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.deviceFingerprint"),value:(null===(t=this.profile)||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.app_device_fingerprint)||"--"}),l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.deviceModel"),value:(null===(i=this.profile)||void 0===i||null===(a=i.profile)||void 0===a?void 0:a.app_device_model)||"--"}),l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.osVersion"),value:(null===(r=this.profile)||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.app_os_version)||"--"}),l.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.deviceInfo.infoTitle.appVersion"),value:(null===(o=this.profile)||void 0===o||null===(s=o.profile)||void 0===s?void 0:s.app_version)||"--"}),l},getFinancialInfo:function(){var t,e,i,a,r,n,o,s,l,d,c,u,p=[];return p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.balance"),html:this.getFinancialBalance()}),p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.numberOfRefund"),value:(null===(t=this.profile)||void 0===t||null===(e=t.wallet_summary)||void 0===e?void 0:e.total_refund_count)||"--"}),p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.numberOfDispute"),value:(null===(i=this.profile)||void 0===i||null===(a=i.wallet_summary)||void 0===a?void 0:a.total_dispute_count)||"--"}),p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.numberOfDisputeLoss"),value:(null===(r=this.profile)||void 0===r||null===(n=r.wallet_summary)||void 0===n?void 0:n.total_dispute_loss_count)||"--"}),p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.numberOfDisputeWin"),value:(null===(o=this.profile)||void 0===o||null===(s=o.wallet_summary)||void 0===s?void 0:s.total_dispute_win_count)||"--"}),p.push({text:this.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.financialInfo.infoTitle.ridingTimeBalance"),value:null!==(l=this.profile)&&void 0!==l&&null!==(d=l.profile)&&void 0!==d&&d.riding_time_balance?"".concat(Object(S["a"])(null===(c=this.profile)||void 0===c||null===(u=c.profile)||void 0===u?void 0:u.riding_time_balance)):"--"}),p},getFleets:function(){var t=[];return Array.isArray(this.assigned_fleets)&&(t=Object(n["a"])(this.assigned_fleets)),0===t.length&&t.push("--"),t},getDocs:function(){var t=[],e=this.profile.documents;for(var i in e)t.push({id:e[i].id,title:e[i].card_type,subtitle:e[i].card_id,cover:e[i].card_pic,status:e[i].is_verified,status_title:e[i].verification_status,images:[{title:e[i].card_type,description:e[i].card_id,src:e[i].card_pic||null},{title:e[i].card_type,description:e[i].card_id,src:e[i].card_pic_back||null}]});return t},getLastTrip:function(){return this.profile.last_trip?this.profile.last_trip:{noLastTrip:!0}},getProfileStatus:function(){return console.warn({object:this.profile.user_status}),this.profile&&this.profile.user_status?this.profile.user_status:"D"}}),mounted:function(){var t,e;this.symbol=(null===(t=this.organizationInfo)||void 0===t||null===(e=t.default_currency)||void 0===e?void 0:e.symbol)||"$"},methods:{fetchData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("riderdetails/fetchData",t.id);case 2:if(t.profile=t.$store.getters["riderdetails/getData"],t.profile){e.next=9;break}return e.next=6,t.$store.dispatch("riderdetails/fetchData",t.id);case 6:t.profile=t.$store.getters["riderdetails/getData"],e.next=10;break;case 9:t.isLoaded=!0;case 10:case"end":return e.stop()}}),e)})))()},handleRefresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("riderdetails/fetchData",t.id);case 2:t.profile=t.$store.getters["riderdetails/getData"];case 3:case"end":return e.stop()}}),e)})))()},handleAdding:function(){console.log("handleAdding"),this.$modal.show("add-rider-document")},getFinancialBalance:function(){var t="";if(this.profile&&this.profile.wallet_summary&&this.profile.wallet_summary.financial_accounts&&this.profile.wallet_summary.financial_accounts.length>0){var e=this.profile.wallet_summary.financial_accounts.reduce((function(t,e){return t+"<p>".concat(e.currency.name," ").concat(e.balance,"</p>")}),t);t=e}return t.replace(/(^,)|(,$)/g,"")},handleSingleEdit:function(t){var e=this;this.$acl.canNotUpdate("riders")?this.$notify(this.$acl.notAbleToToast({action:"update",permission:"riders"})):(this.singleUpdateKey=t,setTimeout((function(){e.$modal.show("editRider-".concat(e.profile.id))}),100))},handleDownloading:function(){alert("downloading triggered")},getDropdownClass:function(t){if("nid"===t)return this.isNidVerified?"nid-verified":"nid-unverified"},getDropdownText:function(t){if("nid"===t)return this.isNidVerified?"Verified":"Unverified"},getJobType:function(t){return t?"FULLTIME"===t?"Full Time":"Part Time":"--"},getGender:function(t){return t?"M"===t?"Male":"Female":"--"},verifyDocs:function(t,e,i,a,r){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var s,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.isLoading=!0,s=e?{is_verified:!0}:{is_verified:!1,rejected_reason:e||"string"!==typeof i?"":i,rejected_remark:e||"string"!==typeof i?"":a},l=new d.a(s).toFormData(),o.next=5,n.$http.post(u.api.update(t),l).then((function(){n.$notify({group:"generic",type:"success",title:"Document Verification Status Update",text:e?"Document has been verified successfully.":"Document has been rejected successfully."},3e3),r&&r(e)})).catch((function(t){console.log("test-err",{err:t}),n.$notify({group:"generic",type:"error",title:"Failed [".concat(t.response.status,"]"),text:t.response&&t.response.data.message?t.response.data.message:"Failed to update document verification status."},3e3),r&&r()})).finally((function(){n.isLoading=!1,n.fetchData()}));case 5:return o.abrupt("return",!0);case 6:case"end":return o.stop()}}),o)})))()},forceRefresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("riderdetails/fetchData",t.id);case 2:t.profile=t.$store.getters["riderdetails/getData"];case 3:case"end":return e.stop()}}),e)})))()},downloadImage:function(t){var e=this,i=t.filter((function(t){return null!==t.src}));i.map((function(t){var i=document.createElement("a");i.style.display="none",i.href=t.src,i.target="_blank",document.body.appendChild(i),i.click(),i.download="",document.body.removeChild(i),e.$notify({group:"generic",type:"success",title:"Success",text:"File has been downloaded successfully"}),console.log({downloadImage:t.src})}))}}},Dt=Tt,Ct=(i("3480"),Object(y["a"])(Dt,a,r,!1,null,"48b8adb5",null));e["default"]=Ct.exports},"523f":function(t,e,i){t.exports=i.p+"img/riding-scooter.839a0e91.png"},"54d8":function(t,e,i){},"5ac1":function(t,e,i){},6529:function(t,e,i){},"6f64":function(t,e,i){},7194:function(t,e,i){"use strict";i("2ac8")},"73e5":function(t,e,i){"use strict";i("6f64")},"77d3":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("5530"),r={card_id:"",card_pic:"",card_pic_back:"",card_type:"",id:"",is_verified:!1},n={id:"",role:"",organization_id:"",full_name:"",phone_number:"",email:"",user_status:"",invitation_code:"",profile:{profile_pic:"",gender:null,ranger_job_type:null,birthday:null,height:null,weight:null,balance:null,num_of_trips:0,total_calories:"0.00",earning_from_invitations:0},assigned_fleets:[],payment_info:{},document_info:[Object(a["a"])({},r)],address_info:{current_address_country:null,current_address_full:null,current_address_zip_code:null,permanent_address_country:null,permanent_address_full:null,permanent_address_zip_code:null},last_otp_code:"",last_ip_address:"",last_location:"",is_doc_verified:"",is_email_confirmed:""}},"7a94":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:t.getTypography()},[t._t("default",(function(){return[t._v(t._s(t.getText))]}))],2)},r=[],n={name:"OtoTypography",props:{text:{required:!1,type:String},fallback:{required:!1,type:String},variant:{required:!1,type:String,default:"three"}},data:function(){return{typographyOne:"font-semibold text-oDark text-19px",typographyTwo:"font-semibold text-14px text-oDark",typographyThree:"font-medium text-14px text-oLightGray",fallbackTypography:"font-medium text-14px text-oGray"}},computed:{getText:function(){var t;return null!==(t=this.text)&&void 0!==t?t:this.fallback}},methods:{getTypography:function(){return"one"===this.variant||"19pxTitle"===this.variant?this.typographyOne:"two"===this.variant||"14pxSubtitle"===this.variant?this.typographyTwo:"three"===this.variant||"14pxValue"===this.variant?this.typographyThree:this.fallbackTypography}}},o=n,s=i("2877"),l=Object(s["a"])(o,a,r,!1,null,"2debbf2c",null);e["default"]=l.exports},"8b48":function(t,e,i){},"8ba4":function(t,e,i){var a=i("23e7"),r=i("5e89");a({target:"Number",stat:!0},{isInteger:r})},"92c2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:""+t.getVariantClass,attrs:{role:"menuitem"},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)},r=[],n=(i("caad"),i("2532"),i("b64b"),{name:"TDropdownItem",props:{variant:{required:!1,default:"primary"}},computed:{getVariantClass:function(){var t="block bg-white px-4 py-2 text-sm leading-5 transition duration-150 ease-in-out cursor-pointer focus:outline-none ",e={primary:"text-gray-700 hover:bg-gray-100 focus:bg-gray-100",danger:"hover:text-red-500 hover:bg-red-100 focus:bg-red-100"},i=Object.keys(e).includes(this.variant)?this.variant:"primary";return t+e[i]}}}),o=n,s=i("2877"),l=Object(s["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"9a95":function(t,e,i){"use strict";i("e6cc")},"9c60":function(t,e,i){},"9ce0":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var a={api:{index:"/dashboard/trips/",create:"/dashboard/trips/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/")},single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/")},vehicleTimelineLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/vehicle-logs/")},userTimelineLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/user-logs/")},actions:{cancel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/cancel/")},complete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/trips/".concat(t,"/complete/")}}},events:{name:"trips",refresh:"rid-trip",sorId:"trip",sorOpen:"sor-open-trip",sorClose:"sor-close-trip",sorToggle:"sor-toggle-trip",editingData:"edit-trip-data",viewingData:"view-trip-data"}}},"9cf9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"py-6 px-6 mt-2 w-full h-full bg-white rounded shadow "},[i("div",{staticClass:"flex justify-between items-center mb-6"},[i("div",{class:t.typographyOne},[t._v(t._s(t.title))]),t.editButton?i("div",[t.editPermissionStatus?i("oto-edit-button",{attrs:{variant:"gray"},on:{click:function(e){return t.handleClicking()}}}):t._e()],1):t._e()]),i("div",{staticClass:"info-grid-subheader",class:t.subheaderClass},[t._t("subheader",null,{typographyOne:t.typographyOne,typographyTwo:t.typographyTwo,typographyThree:t.typographyThree})],2),t.avatar?[i("display-avatar",{staticClass:"my-6",attrs:{avatar:t.avatar}})]:t._e(),t.data?i("div",{staticClass:"grid",class:t.gridClass},t._l(t.data,(function(e,a){return i("div",{key:a,staticClass:"grid grid-cols-2 my-3"},[i("div",{class:t.typographyTwo},[t._v(" "+t._s(e.text)+" ")]),"vehicleQRCodeURL"===e.key?i("div",{staticClass:"flex",class:t.typographyThree},[t._v(" "+t._s(e.value)+" "),i("div",{staticClass:"cursor-pointer ",on:{click:function(i){return t.copyToClipBoardText(e.value)}}},[i("i",{staticClass:"ml-3 far fa-copy"})])]):"currentLatLong"===e.key||"currentAddressCoords"===e.key?i("div",{staticClass:"flex",class:t.typographyThree},[i("span",{style:e.color?"color: "+e.color:""},[t._v(t._s(e.value))]),i("div",{staticClass:"cursor-pointer ",on:{click:function(i){return t.copyToClipBoardText("https://www.google.com/maps/search/?api=1&query="+e.value)}}},[i("i",{staticClass:"ml-3 far fa-copy"})])]):"phone_number"===e.key||"email"===e.key?i("div",{staticClass:"flex",class:t.typographyThree},[t._v(" "+t._s(e.value)+" "),t.editPermissionStatus?i("div",{staticClass:"cursor-pointer pl-3",on:{click:function(i){return t.handleKeyUpdate(e.key)}}},[i("svg",{staticClass:"w-4 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])]):t._e()]):i("div",{class:t.typographyThree,style:e.color?"color: "+e.color:""},["Assigned Fleet"===e.text||"currentFleet"===e.key?i("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewFleetProfile",params:{id:e.id}},target:"_blank"}},[t._v(" "+t._s(e.value)+" ")]):"Assigned Geofence"===e.text?i("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewServiceArea",params:{id:e.id}},target:"_blank"}},[t._v(" "+t._s(e.value)+" ")]):i("span",[t._v(t._s(e.value))])],1)])})),0):t._e(),i("div",{staticClass:"info-grid-footer",class:t.footerClass},[t._t("footer",null,{typographyOne:t.typographyOne,typographyTwo:t.typographyTwo,typographyThree:t.typographyThree})],2)],2)},r=[],n=i("09b2"),o=i("315d"),s=i("9ea1"),l={name:"InfoGrid",mixins:[s["a"]],components:{DisplayAvatar:n["default"],OtoEditButton:o["a"]},props:{avatar:{required:!1,type:String},title:{required:!1,type:String,default:"Title"},data:{required:!1,type:Array},editButton:{required:!1,type:Boolean,default:!0},gridClass:{required:!1,type:String,default:"grid-cols-2"},footerClass:{required:!1,type:String,default:""},subheaderClass:{required:!1,type:String,default:""},type:{required:!1},editPermissionStatus:{type:Boolean,default:!1,required:!1}},data:function(){return{typographyOne:"font-semibold uppercase text-oDark text-xl",typographyTwo:"font-semibold text-14px text-oDark",typographyThree:"font-medium text-14px text-gray-500"}},mounted:function(){},methods:{handleClicking:function(){console.log("type = ",this.type),this.$emit("edit",this.type)},copyToClipBoardText:function(t){this.copyContentToClipboard(t,{title:"Copied",text:"Text has been copied to your clipboard"})},handleKeyUpdate:function(t){this.$emit("single-edit",t)}}},d=l,c=(i("1f6a"),i("2877")),u=Object(c["a"])(d,a,r,!1,null,null,null);e["a"]=u.exports},"9ea1":function(t,e,i){"use strict";e["a"]={methods:{copyContentToClipboard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{important:!1,title:"Copied",text:"Successfully copied to your clipboard"},i=document.createElement("textarea");i.value=t,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-99999px",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),this.$notify({group:e.important?"modal":"generic",type:"success",title:e.title,text:e.text},2e3)}}}},aad1:function(t,e,i){},af74:function(t,e,i){},b345:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"g",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return d}));var a={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")}}},r={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")}}},n={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/event-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(t,"/")}}},o={api:{index:"/dashboard/organization-behavior-points/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},s={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(t,"/")}},topup:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")}}}},l={api:{general:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-general-settings/")}},charging:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")}}}},d={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/business-hour-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(t,"/")}}}},cbe1:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"grid grid-cols-1 gap-0 px-4 py-3 my-3 border rounded-md border-oLightestGray md:grid-cols-2"},[i("div",{staticClass:"flex items-center"},[i("photo-stack",{attrs:{size:"sm",count:t.getDocsCount,cover:t.getCoverImage},on:{click:function(e){return t.showPopup()}}}),i("div",{staticClass:"ml-4"},[i("oto-typography",{attrs:{variant:"two",text:t.title}}),i("br"),i("oto-typography",{attrs:{variant:"three",text:t.subtitle}})],1)],1),i("div",{staticClass:"flex items-center justify-between w-full"},[i("div",{staticClass:"flex w-auto mt-2 md:items-center md:justify-center md:mt-0"},[i("button",{staticClass:"border-none rounded-md shadow-lg text-sm outline-none px-6 py-2",on:{click:function(e){return t.handleDownloading()}}},[i("i",{staticClass:"fas fa-download text-gray-800 mr-3"}),i("span",{staticClass:"text-gray-800"},[t._v(t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.documents.download")))])])]),i("div",{staticClass:"flex w-auto mt-2 md:items-center md:justify-end md:mt-0"},[i("t-dropdown",{scopedSlots:t._u([{key:"trigger",fn:function(e){var a=e.mousedownHandler,r=e.focusHandler,n=e.blurHandler,o=e.keydownHandler;return i("div",{},[i("button",{staticClass:"flex uppercase items-center pr-6 pl-2 text-sm text-white transition duration-150 ease-in-out border-0 rounded-sm focus:outline-none focus:shadow-solid",class:{"bg-variant-green":"VERIFIED"===t.currentStatusTitle,"bg-variant-red":"REJECTED"===t.currentStatusTitle,"bg-gray-500":"PENDING"===t.currentStatusTitle,"bg-yellow-500":"EXPIRED"===t.currentStatusTitle},attrs:{id:"user-menu","aria-label":"User menu","aria-haspopup":"true"},on:{mousedown:a,focus:r,blur:n,keydown:o}},[i("i",{staticClass:"fas fa-chevron-down mr-2"}),t._v(" "+t._s(t.currentStatusTitle)+" ")])])}},{key:"default",fn:function(e){var a=e.blurHandler;return i("div",{staticClass:"bg-white m-auto"},[i("div",{staticClass:"w-29 absolute right-0 mt-2"},["VERIFIED"!==t.currentStatusTitle?i("button",{staticClass:"block font-semibold uppercase w-full px-4 py-2 text-sm text-left leading-5 text-variant-green transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{blur:a,click:function(e){return t.handleVerification(!0)}}},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.documents.verify"))+" ")]):t._e(),"REJECTED"!==t.currentStatusTitle?i("button",{staticClass:"block font-semibold uppercase w-full px-4 py-2 text-sm text-left leading-5 text-variant-red transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",attrs:{role:"menuitem"},on:{blur:a,click:function(e){return t.showRejectModal()}}},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.grid.documents.reject"))+" ")]):t._e()])])}}])})],1)])]),i("CoolLightBox",{attrs:{effect:"fade",items:t.getImages,index:t.image_viewing_index,useZoomBar:!0},on:{close:function(e){return t.hidePopup()}}}),i("t-modal",{attrs:{name:"rejectRiderDocument-"+t.docId,variant:"confirmation",hideCloseButton:!0,disableBodyScroll:!0,escToClose:!t.isLoading,clickToClose:!t.isLoading}},[i("section",{staticClass:"px-4 pt-4 text-2xl font-extrabold text-center"},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.rejectRiderDocument.headline"))+" ")]),i("div",{staticClass:"px-5 pt-5"},[i("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{staticClass:"reason-form",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),a(t.handleVerification(!1))}}},[i("AppInput",{attrs:{rules:"required",type:"richselect",name:"reason",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.rejectRiderDocument.title.reason"),placeholder:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.rejectRiderDocument.placeholder.reason"),options:t.rejectReasons,"hide-search-box":""},model:{value:t.models.reason,callback:function(e){t.$set(t.models,"reason",e)},expression:"models.reason"}}),i("AppInput",{attrs:{rules:"",label:t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.rejectRiderDocument.title.remark"),type:"textarea",name:"remark"},model:{value:t.models.remark,callback:function(e){t.$set(t.models,"remark",e)},expression:"models.remark"}}),i("button",{ref:"rejectSubmitButtonRef",staticClass:"hidden",attrs:{type:"submit"}},[t._v(" Save ")])],1)]}}])})],1),i("section",{staticClass:"flex items-center justify-end px-4 py-4 mt-6 space-x-5 bg-gray-50"},[i("AppButton",{class:"w-1/2",attrs:{variant:"secondary",disabled:t.isLoading},on:{click:function(e){return t.hideRejectModal()}}},[t._v(" "+t._s(t.$t("components.stepNavigation.cancel"))+" ")]),i("AppButton",{class:"w-1/2",attrs:{variant:"primary",disabled:t.isLoading,isLoading:t.isLoading},on:{click:function(e){return t.$refs.rejectSubmitButtonRef.click()}}},[t._v(" "+t._s(t.$t("components.riderDetailsManagement.diveIntoTab.profile.modals.rejectRiderDocument.action.reject"))+" ")])],1)])],1)},r=[],n=(i("a9e3"),i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"relative cursor-pointer",on:{click:function(e){return t.$emit("click")}}},[i("div",{staticClass:"flex overflow-hidden border rounded-md border-oLightestGray",class:t.getClass()},[t.cover?[i("img",{staticClass:"object-fit",class:t.getSize(),attrs:{src:t.cover}})]:[i("div",{staticClass:"bg-gray-100",class:t.getSize()})]],2),t.count?i("div",{staticClass:"absolute z-10 w-full h-full px-px py-px text-sm text-white bg-black rounded opacity-50",class:t.getCountClass()},[i("i",{staticClass:"fas fa-eye    "})]):t._e()])}),o=[],s=(i("caad"),i("2532"),{name:"PhotoStack",props:["size","cover","count"],data:function(){return{sm:["sm","small"]}},methods:{getSize:function(){var t="sm-cover";return this.sm.includes(this.size),t},getClass:function(){var t;return t=this.getSize()+" ",t},getCountClass:function(){return this.sm.includes(this.size),"sm-count"}}}),l=s,d=(i("ccc8"),i("2877")),c=Object(d["a"])(l,n,o,!1,null,"c141a83a",null),u=c.exports,p=i("7a94"),f=i("5547"),m=(i("2223"),{name:"UserDocument",props:{docId:{type:[String,Number],required:!0},cover:{type:String,required:!1,default:""},images:{type:Array,required:!1},title:{type:String,required:!1,default:""},subtitle:{type:String,required:!1,default:""},status:{type:Boolean,required:!1,default:!1},statusTitle:{type:String,required:!0}},components:{PhotoStack:u,OtoTypography:p["default"],CoolLightBox:f["a"]},data:function(){return{currentStatus:this.status,currentStatusTitle:this.statusTitle,isLoading:!1,image_viewing_index:null,rejectReasons:[{text:"Document is unreadable (dark or blurry document).",value:"Document is unreadable (dark or blurry document)."},{text:"The scan or picture is of bad quality.",value:"The scan or picture is of bad quality."},{text:"The submitted document doesn’t match with the rider in our system.",value:"The submitted document doesn’t match with the rider in our system."},{text:"Identity on the document doesn’t match the data entered in the system.",value:"Identity on the document doesn’t match the data entered in the system."},{text:"The identity proof has reached its expiration date.",value:"The identity proof has reached its expiration date."},{text:"The document has been verified as falsified by our Security Team.",value:"The document has been verified as falsified by our Security Team."}],models:{reason:null,remark:""}}},computed:{getStatusText:function(){return this.currentStatus?"Verified":"Unverified"},getStatusClass:function(){return this.currentStatus?"verified":"unverified"},getDocsCount:function(){return this.getImages.length},getCoverImage:function(){return this.cover},getImages:function(){return this.images.filter((function(t){return null!==t.src}))}},methods:{showPopup:function(){this.image_viewing_index=0},hidePopup:function(){this.image_viewing_index=null},handleVerification:function(t){if(this.$acl.canNotUpdate("riders"))this.$notify(this.$acl.notAbleToToast({action:"update",permission:"riders"}));else if(t||this.models.reason){var e=this;this.isLoading=!0,this.$emit("verify",this.docId,t,this.models.reason,this.models.remark,(function(t){e.isLoading=!1,"undefined"!==typeof t&&(e.currentStatus=t,e.currentStatusTitle=t?"VERIFIED":"REJECTED"),t||(e.models.reason=null,e.models.remark="",e.hideRejectModal())}))}},handleDeclining:function(){this.$emit("decline",this.docId)},handleDownloading:function(){this.$emit("download",this.docId)},hideRejectModal:function(){this.models.reason=null,this.models.remark="",this.$modal.hide("rejectRiderDocument-".concat(this.docId))},showRejectModal:function(){this.$acl.canNotUpdate("riders")?this.$notify(this.$acl.notAbleToToast({action:"update",permission:"riders"})):this.$modal.show("rejectRiderDocument-".concat(this.docId))}}}),g=m,h=(i("9a95"),Object(d["a"])(g,a,r,!1,null,"2853b4c3",null));e["a"]=h.exports},cc34:function(t,e,i){},ccc8:function(t,e,i){"use strict";i("8b48")},d368:function(t,e,i){"use strict";i("d662")},d507:function(t,e,i){"use strict";i("9c60")},d52c:function(t,e,i){"use strict";i("3f2d")},d662:function(t,e,i){},d87b:function(t,e,i){"use strict";i("6529")},e6cc:function(t,e,i){},ed52:function(t,e,i){},ef50:function(t,e,i){"use strict";i("aad1")},f2f7:function(t,e,i){"use strict";function a(t){var e={R:"blue",A:"red",U:"yellow",O:"purple",V:"orange",C:"green",T:"red",UF:"black"};return e[t]||"fallback"}function r(t){var e={R:"Reserved",A:"Cancelled",U:"Starting Trip",O:"On Rent",V:"Forced Cancel",C:"Completed",T:"Time Out",UF:"Unlocking Failed"};return e[t]||"--"}i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return r}))},f625:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"w-full bg-white rounded-md",class:""+t.getSpacing},[t._t("default")],2)},r=[],n={name:"ContentSection",props:{spacing:{type:Boolean,default:!0}},computed:{getSpacing:function(){return this.spacing?"px-6 py-3 mt-2":""}}},o=n,s=i("2877"),l=Object(s["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=rider-viewRiderUserProfile.fcfe1af0.js.map