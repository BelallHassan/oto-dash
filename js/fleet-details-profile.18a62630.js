(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fleet-details-profile","chunk-2d22cfc9","chunk-76a85986","chunk-67db83f0","chunk-2d0d3e80","chunk-2d237d7f","chunk-2d0d3e80"],{"003a":function(e,t,a){},"0418":function(e,t,a){},"04ec":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"fade"}},[e.isOpen()?a("button",{staticClass:"fixed inset-0 w-full h-full opacity-50 cursor-default bg-oBlack",staticStyle:{"z-index":"1050"},attrs:{tabindex:"-1"},on:{click:function(t){return e.close()}}}):e._e()]),a("transition",{attrs:{name:"SOR","enter-active-class":"transition duration-300 ease-out transform","leave-active-class":"transition duration-300 ease-in transform","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[e.isOpen()?a("div",{staticClass:"fixed bottom-0 right-0 h-full  bg-white border-l-2 border-gray-400 border-opacity-50 shadow-lg container-sor",class:e.getSize},[a("header",{class:{"mt-5 px-4 mb-6":this.$slots.header}},[e._t("header")],2),a("div",{staticClass:"pb-4 overflow-x-hidden overflow-y-auto sb-farhan",style:"max-height:"+e.getDefaultSlotHeight},[e._t("default",(function(){return[e._v("Body slot (default)")]}))],2),this.$slots.footer?a("div",{staticClass:"w-full"},[a("footer",{staticClass:"w-full h-auto px-6 pt-2 pb-5"},[e._t("footer",(function(){return[e._v("Footer Slot")]}))],2)]):e._e()]):e._e()])],1)},i=[],o={name:"SlideOverRight",props:{id:{required:!0,type:String},fullWidth:{required:!1,type:Boolean,default:!1},editType:{required:!1,type:String,default:""}},data:function(){return{openingEvent:"sor-open-".concat(this.id),closingEvent:"sor-close-".concat(this.id),togglingEvent:"sor-toggle-".concat(this.id),show:!1}},computed:{getSize:function(){return"scooter"==this.editType?this.fullWidth?"w-full px-4":"2xl:w-96 sm:w-5/5 md:w-4/6 px-4":"promotion"==this.editType||"pass"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"roles"==this.editType?this.fullWidth?"w-full px-4":"2xl:w-2/4 sm:w-5/5 md:w-4/6 px-4":"marketplace"==this.editType||"whats-new"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"bulk-update"==this.editType?this.fullWidth?"w-full":"w-3/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-0 my-0":"vehicle-inspection"==this.editType?this.fullWidth?"w-full px-4":"w-2/5 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":"swap-battery-workflow"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 xl:w-1/3 2xl:w-3/12 px-4":"charging-dock-port"==this.editType?this.fullWidth?"w-full px-4":"w-3/4 md-max:w-full lg-max:w-4/5 2 px-4":"standard"==this.editType?this.fullWidth?"w-full px-4":"w-2/4 md-max:w-full lg-max:w-1/2 2xl:w-2/5 px-4":this.fullWidth?"w-full px-4":"w-2/4 2xl:w-2/6 xl:w-3/6 lg:w-3/6 md:w-3/6 sm:w-5/5 px-4"},getDefaultSlotHeight:function(){return"100%"}},mounted:function(){this.handleEvents()},watch:{show:function(e){!0===e?(document.body.style.overflow="hidden",document.body.style.marginRight="11px"):setTimeout((function(){document.body.style.overflow="auto",document.body.style.marginRight=""}),350)}},methods:{open:function(){this.show=!0},close:function(){"roles"==this.editType||"standard"==this.editType||"swap-battery-workflow"==this.editType?this.show=!1:this.$emit("showModal"),document.body.style.overflow="auto"},toggle:function(){this.show=!this.show},isOpen:function(){return!0===this.show},handleEvents:function(){var e=this;window.addEventListener(this.openingEvent,(function(){e.open()})),window.addEventListener(this.closingEvent,(function(){e.close()})),window.addEventListener(this.togglingEvent,(function(){e.toggle()}))}}},r=o,s=(a("535d"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"0f57a77e",null);t["default"]=l.exports},"0621":function(e,t,a){var n=a("9e69"),i=a("d370"),o=a("6747"),r=n?n.isConcatSpreadable:void 0;function s(e){return o(e)||i(e)||!!(r&&e&&e[r])}e.exports=s},"09b2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative z-20 mr-2"},[a("div",{class:"relative object-cover overflow-hidden bg-gray-300 border-0 rounded-full",style:e.getStyle},[e.avatar?a("img",{class:"object-cover rounded-full",style:e.getStyle,attrs:{src:e.avatar}}):e._e()]),e.badge?a("div",{staticClass:"avatar-badge",class:e.badgeVariant},[e._v(" "+e._s(e.badge)+" ")]):e._e()])},i=[],o=(a("a9e3"),a("8ba4"),a("99af"),{name:"DisplayAvatar",props:{avatar:{type:String,required:!1},width:{type:[String,Number],required:!1,default:"6rem"},height:{type:[String,Number],required:!1,default:"6rem"},badge:{type:String,required:!1},badgeVariant:{type:String,required:!1,default:"fallback",validator:function(e){var t=["fallback","green","orange","red"];return-1!==t.indexOf(e)}}},computed:{getStyle:function(){var e=Number.isInteger(this.width)?"".concat(this.width,"px"):this.width,t=Number.isInteger(this.height)?"".concat(this.height,"px"):this.height;return"width: ".concat(e,"; height: ").concat(t)}}}),r=o,s=(a("23dd"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"102ed4b5",null);t["default"]=l.exports},"0c9b":function(e,t,a){},"0d76":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAABCCAYAAAAGysWEAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAOqADAAQAAAABAAAAQgAAAABqCQD6AAALkElEQVRoBeWaa2xUxxXHx2tv/MTGkIcJb0jNq0AjHi4Q0QoVk1QJKB8oKpQoQgqJVAdVqlCkiCKVUEQaoAEakRAFWQqGID4gpIpCFEWiOMUiCUIYQS0eLu83NjbGz93t+V3uWV8vu3vvrtfLhx7peObOnDnn/79n7ty5szbm/0Qy+pBnpO/Iaw0d0opdRl5HdCd3GSt4ct6MUX9upfpXUm6l2iddKqCkHchA9eEsqfvsPurOPrkMi5MgdTRol84+Bug19bSLEoJUluhTotmiubNmzepXX1//cnNz89/a2toOBgKBs8Fg8G4oFGpHqdNGHzbYMoaxtg984RPfetOkml7RLDkJ5gD0ypUrCx8+fPilELkjhBISxjAWHzbpHKHlJKxx08JWs5hpgwBM/sWLF3/T2dlZlxCzOMb4wie+RZUwMdOSXSXJlGKK5h0/fnx2R0fHv+Jg7lUXvolBLDumTmewpFx0ynBH/aLc4YK7d+/+SVgEesXE2+AAsYhpxwYDWBSXVHsv6kynau68efMGPHjw4EtvGFNnRUxiCyUWLJ7dlJKFaJjkhg0bhstKWZ06+Il5IjYYopCVpuRFSTJVcmfMmDGgvb39u8Sgpd4aDGABk6hzGifFFJKscBZJKYsaGxu/SD3s5DyCBUyiSjbuagyZaEK7EmWV81++fHnZkCFDPo5m7KUt2NBgAlevmsCNG5Z5ZkmJyRw82PiKi70Mj2oj79s/DB06dId0dop2iUbuqqKOczZCUp/LgkOHDs2U+86OJiHprK8PNa5fH7r20kuh/xYVRVX6sME2CWkHm2BlNXYuTk4uVj1aRjWbEGXaZstqtzs/P3/eY6NjNATv3TP3P/zQNO/YYUKd3Gx3yfD7Tb9ly0zRe+8Z3wAeP2/S0tJyqKCg4Ldi3S5KsIAo++Iee2PmdaTolIVoVnV19c8TIdnx/ffmWlmZafrsM88kAcANYQxj8eFVwAZGsecRA3PUZzUyo5pN67mUQTmy9/xHbm4ujlzl4b595s4775hQOzc3ecnIzjZPf/qpyXv9dU9OWltba/Ly8l4V4zZRfV57ZDVaRmlDs44cOTLTK8n2mhpzZ/nyXpOUuJYPfOHTi4ARrGKr28PHeDkbNJuU1rQtLS3lLrkKK+ntN95IaKq6OWUq41NXaTd7G6tOXycXa6iTKA0Y0IZmFRcXz5XSVRo/+MAEbt1ytUvUAJ+Na9d6GmZjdWYULmFxEtW7YJGsqqoa4/f7R4YtY1Q66+pMy1dfxejtfXPL7t2GGG4CVjCLnZJVPtZQJ1Ea6KQtUz58Pb1OmlldA6zofSP4JoYXEczlYhd15VWiEESUqK+wsPCnj5ri/209eDC+QQp6vcYQzBMlHJxQJyerQaHQoUQzZSUbpR2xys7aWtN17Vqs7pS1E4NYbmJjdmZUyT5GVO+GT+b8c26OO8+fdzNJWb+XWDbmMAcJHpWogrKy6vP5OLqIK16X/rhOPHZ6iWVjdk7bsHcaEWVOaWlGRgZnQnGFL5J0iZdYNuYwBxubxU2J0mY1aKecuTba9ZiFb+DAmH2p7vASy8bcg4ficBLVNquU48Z7PRqiXPBNmS7xEiseZidR52dNSI4ZXYn6S0vTxdN4iWVj7sFDATqJaptlKOcyt7UhVukfO9b4R4yI1Z2ydmIQy00cmJ1krWFKVDso0eDVq1d/dHNMf+4rr3gx65WN1xg25sjjFIubEgWIkrTKAwcO/NsLun5vv204HegrsU4eJIYXsTH34KHjdIWihDQbYl4rvEP7yRnq4ezs7EFSjysNK1eaps8/j2uTbGfhW2+Z4o8+ch0u0/Z6Tk7OL8SwWfShKF//4QOzmBkVo+DNmze/k9JVit5/32QNG+Zql6gBPvHtRQRrtdg5p61m1hquRGlEtNMaUFlZuctuszpj/eHI8tmqKuPLc91MxXLxWDu+LJ/ejkNDgnW3OAE/2JUwfi1uOnVpgDT6lCiIOUIsvn79+iclJSUzpO4qbd9+a26/+aYJNjW52sYzkE8n80xlpcmZMyeeWbjvxo0bRwcNGvR7aWCr9kCUqdshqqQtYnJt7Yo0m84yuGfPHs9f1QAr+frrXr1yeJXgwytJwNsYncecTg5WMjWjWpJRllAymi/KkX9/OaXfKKf006XuSUKtraZp61bTtGWLCT7gBruLr6DAFK5YYQrffddk5PIrgzeR0/pjclr/R7Fmy3pftEWUjHIaSEaREN9uiBKlThtkWYFzRLPPnDnzn0WLFpVnZma6bvTF3nrdyO/8pp8cblmLVEeHCVy5ImE1LlZil5VlcmfPNoUVFWbg5s0md+7chF5VsuVrXrx48apz585BkqPOVlFWWj3IlmpPgSgKScjwg8jzomNEp4nO2blz51+T+Mmge0ggEJIP6FD78eOWUpdjku7+JGpgApuNEaxgBjsc4KK8wpnUjDJ1ySRzB2MWJP5ThGmcf/r06ZXjxo37ldSfuMgs+2b8+PG8YJmqKO9PnhPen5pZnUIhiEUKDzIPNso00KnQMXXq1I/Pnz/vacck4/pMwAAWCcDKqifz4FTccOgh0YhiwJ1QojjjLrXJzxOt06ZNW3/p0qUf5PqJCLHBABYBwHMJNjAq0XAWpS0skUR1WXYS5Y7hyCLc0NDQIr82/+XUqVPfhL2kqULM6dOnrwWDhFSC4NKskhywP5ZRXXWlL/y8Ouv6MOsNsa7lP70C27Zt+2H06NG3JkyY8KKc1fBc95l0dXW1yeH01vLy8l3yM6HuY8koClHNLIQ1SUrWKqMRVXLRSvFjCX1m3759Fy9cuHCsrKxsmJypPveoK7V/5dOrtqKiYt2aNWv4bCSL1mNklzrTNKvOjCpRC5CTKA0WAaun+48S1oGUqqa2trZp06ZNh+Vg6vTYsWNL5EfZZ7qHJl+Tbd3pjRs3bpk/f/4uiXFHPOl7klIzCGl9tCidROWyewpHEtNrJceNYFqygWAPTMkmgpLXjyp91P2rV6+euGDBglljxoyZKj/SJkRapuXturq6H/fv318tGawVf4DXZ1GzqeQg6ySpi1E4CdKvyYmZQbGx+iCsZHlOIa3knGQhqkq7dXOWL1/+wqpVq34nW7RJ0hZT5H/+Tq5bt27n9u3bz4oRgFElodNTiSp5rpUcmUSjkpT2uES1H4IohCkhomSUnJa096gvXLhwiGy6t8jUjrpgyYaoS7aXK/bu3XtZxiq5yFLJUupNwEYXHsrI1TacTemLSjSynawqWc0whDTTSk6nuF5r5nNOnDhRMXny5JdxHCknT578p/T9XdqZihAhU5QQQSGm15pB2p3PY1ySYmuBpYwlEFNRZ9wpnSrOUkEpCEBZd/Xs2bP1S5Ys+XXka0gOnNuWLl36Z/mn5Ltiy7uRLRyvDOoQpw5xXXyUsMZ1YhKz7meSi0QFsqqaWbKpmWNx4rOuUJQNNQvQ86IjRceLThX9ZU1Nze7IffuxY8eqpG+W6GTRUtFhooNEnxbFFz7xTQweCWLqIwQWxUXZa3E60zpBCOgkzFTlY4APgf6ivFcBPkG0bNKkSa/JAfN9JUt9ypQp5dL3M9EXRAeLQpBvYHzohwUEeSw0XiRBxSQmqRN1qqUzw4BBAQZIAD8rOkJ0ouiMw4cPf6JEjx49ulnaXhT9iSgzgP+igqBmT/3FyiAY0iZKWEslDkgyzCceZEeKThw+fPhMOUK9jo4aNYoprSSZAdyceFNTY4hZ4gKg3kiPJVwccQ0gFguEhYlrboCR92W7rMBbZFEKydaR33Z0oWGR0RVVfWrJ0F4LIPpC9O5DkCzpq8bfv3//THmnhuQLRFdQfZ1wc1hFkZSSxGFfElX/PGPMHAhTQh4imkF9HUW+KsQkddJXREGovikhpyS5higKOc2ktklT6kXBpN5zt0diKFmt06vE+jSTCiNdRIkXKxaEES0fXaX4L8/Pk5Y+JfikyaU9/v8ABGZxrwIVvMIAAAAASUVORK5CYII="},"14a4":function(e,t,a){},"159a":function(e,t,a){var n=a("32b3"),i=a("e2e4"),o=a("c098"),r=a("1a8c"),s=a("f4d6");function l(e,t,a,l){if(!r(e))return e;t=i(t,e);var d=-1,c=t.length,p=c-1,u=e;while(null!=u&&++d<c){var m=s(t[d]),f=a;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(d!=p){var g=u[m];f=l?l(g,m,u):void 0,void 0===f&&(f=r(g)?g:o(t[d+1])?[]:{})}n(u,m,f),u=u[m]}return e}e.exports=l},"15f3":function(e,t,a){var n=a("89d9"),i=a("8604");function o(e,t){return n(e,t,(function(t,a){return i(e,a)}))}e.exports=o},"18d8":function(e,t,a){var n=a("234d"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,r=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,a,n,i){t.push(n?i.replace(o,"$1"):a||e)})),t}));e.exports=r},"1f6a":function(e,t,a){"use strict";a("cc34")},"234d":function(e,t,a){var n=a("e380"),i=500;function o(e){var t=n(e,(function(e){return a.size===i&&a.clear(),e})),a=t.cache;return t}e.exports=o},"23dd":function(e,t,a){"use strict";a("5ac1")},2593:function(e,t,a){var n=a("15f3"),i=a("c6cf"),o=i((function(e,t){return null==e?{}:n(e,t)}));e.exports=o},"26e8":function(e,t){function a(e,t){return null!=e&&t in Object(e)}e.exports=a},"2b88":function(e,t,a){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a("2b0e"));function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){return s(e)||l(e)||d()}function s(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var c="undefined"!==typeof window;function p(e){return Array.isArray(e)||"object"===o(e)?Object.freeze(e):e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,a){var n=a.passengers[0],i="function"===typeof n?n(t):a.passengers;return e.concat(i)}),[])}function m(e,t){return e.map((function(e,t){return[t,e]})).sort((function(e,a){return t(e[1],a[1])||e[0]-a[0]})).map((function(e){return e[1]}))}function f(e,t){return t.reduce((function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t}),{})}var g={},h={},_={},v=i.extend({data:function(){return{transports:g,targets:h,sources:_,trackInstances:c}},methods:{open:function(e){if(c){var t=e.to,a=e.from,n=e.passengers,o=e.order,r=void 0===o?1/0:o;if(t&&a&&n){var s={to:t,from:a,passengers:p(n),order:r},l=Object.keys(this.transports);-1===l.indexOf(t)&&i.set(this.transports,t,[]);var d=this.$_getTransportIndex(s),u=this.transports[t].slice(0);-1===d?u.push(s):u[d]=s,this.transports[t]=m(u,(function(e,t){return e.order-t.order}))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.to,n=e.from;if(a&&(n||!1!==t)&&this.transports[a])if(t)this.transports[a]=[];else{var i=this.$_getTransportIndex(e);if(i>=0){var o=this.transports[a].slice(0);o.splice(i,1),this.transports[a]=o}}},registerTarget:function(e,t,a){c&&(this.trackInstances&&!a&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,a){c&&(this.trackInstances&&!a&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,a=e.from;for(var n in this.transports[t])if(this.transports[t][n].from===a)return+n;return-1}}}),y=new v(g),b=1,x=i.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(b++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){y.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){y.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};y.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"===typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:r(e),order:this.order};y.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],a=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(a,[this.normalizeOwnChildren(t)]):this.slim?e():e(a,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),k=i.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:y.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){y.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){y.unregisterTarget(t),y.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){y.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return u(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),a=this.children(),n=this.transition||this.tag;return t?a[0]:this.slim&&!n?e():e(n,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},a)}}),w=0,$=["disabled","name","order","slim","slotProps","tag","to"],S=["multiple","transition"],E=i.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(w++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(y.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=y.targets[t.name];else{var a=t.append;if(a){var n="string"===typeof a?a:"DIV",i=document.createElement(n);e.appendChild(i),e=i}var o=f(this.$props,S);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new k({el:e,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=f(this.$props,$);return e(x,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var a=this.$scopedSlots.manual({to:this.to});return Array.isArray(a)&&(a=a[0]),a||e()}});function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",x),e.component(t.portalTargetName||"PortalTarget",k),e.component(t.MountingPortalName||"MountingPortal",E)}var T={install:C};t.default=T,t.Portal=x,t.PortalTarget=k,t.MountingPortal=E,t.Wormhole=y},"315d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"oto-edit-button focus:outline-none focus:shadow-none",on:{click:e.handleClicking}},[a("svg",{staticClass:"w-4 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})]),a("span",{staticClass:"ml-2 font-medium text-oBlack"},[e._v(" "+e._s(e.$t("components.stepNavigation.edit")))])])},i=[],o={name:"OtoEditButton",methods:{handleClicking:function(){this.$emit("click")}}},r=o,s=(a("d368"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"7a66675c",null);t["a"]=l.exports},3200:function(e,t,a){"use strict";a("3c6a")},3853:function(e,t,a){"use strict";a("d380")},"3b08":function(e,t,a){},"3c6a":function(e,t,a){},"41bb":function(e,t,a){"use strict";a("9690")},4645:function(e,t,a){},4834:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("EdgeStack",{attrs:{id:e.esId,busy:e.busy,confirmQuestion:e.$t("components.edgeStack.confirmQuestion")},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"pb-3 panel-title"},[e._v(e._s(e.getTitleText))]),a("XStepper",{ref:"xstepper",attrs:{id:e.esId,steps:e.stepperSteps,mode:e.stepperMode},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}})]},proxy:!0},{key:"footer",fn:function(){return[e.isEditing?a("XStepperNavigation",{attrs:{id:e.esId,steps:e.stepperSteps,"submit-button-text":e.getSubmitButtonText},on:{submit:e.onSubmit},model:{value:e.stepperCurrentStep,callback:function(t){e.stepperCurrentStep=t},expression:"stepperCurrentStep"}}):e._e(),e.isEditing?e._e():a("AppButton",{attrs:{text:e.getSubmitButtonText},on:{click:function(t){return e.onSubmit({step:e.stepperCurrentStep})}}})]},proxy:!0},{key:"default",fn:function(){return[a("keep-alive",[1===e.stepperCurrentStep?[a("Step1",{ref:"step1",attrs:{countries:e.countries,organizations:e.organizations,"primary-key":e.primaryKeyProxy,"form-data":e.getStep1FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:2===e.stepperCurrentStep?[a("Step2",{ref:"step2",attrs:{"org-email-settings":e.orgEmailSettings,"primary-key":e.primaryKeyProxy,"form-data":e.getStep2FormData,isRidingTimeBaseWallet:e.getRidingTimeBaseWalletStatus,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:3===e.stepperCurrentStep?[a("Step3",{ref:"step3",attrs:{"primary-key":e.primaryKeyProxy,orgId:e.orgIdProxy,"payment-gateways":e.paymentGateways,orgPaymentConfig:e.orgPaymentConfig,"form-data":e.getStep3FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:4===e.stepperCurrentStep?[a("Step4",{ref:"step4",attrs:{"primary-key":e.primaryKeyProxy,"form-data":e.getStep4FormData,"is-editing":e.isEditing},on:{save:function(t){return e.onSave(t)},dirty:function(t){return e.onDirty(!0)}}})]:e._e()],2)]},proxy:!0}])})},i=[],o=a("1da1"),r=a("5530"),s=(a("96cf"),a("a9e3"),a("b64b"),a("b0c0"),a("2593")),l=a.n(s),d=a("c820"),c=a("bc84"),p=a("4674"),u=a("de6f"),m=a("acfd"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("LocationModal",{attrs:{name:"warehouseLocationModal",updatable:"","use-geocoder":""},on:{save:e.onSaveWareHouseLocation}}),a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.name"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.name"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.name"),placeholder:"e.g. OTORide HQ"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.details.title.organization"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.organization"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.organization"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.organization"),options:e.organizations},model:{value:e.form.organization,callback:function(t){e.$set(e.form,"organization",t)},expression:"form.organization"}})],1),a("div",{staticClass:"flex relative items-center mb-6"},[a("div",{staticClass:"w-11/12"},[a("PlacesAutocomplete",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.searchWarehouseLocation")},on:{"update:place":e.onUpdateWarehousePlace,"clear:place":function(){return e.place=null}}})],1),a("div",{staticClass:"flex justify-center items-center w-1/12 google-map"},[a("div",{staticClass:"mt-6 mr-0 map-btn",on:{click:function(t){return e.$modal.show("warehouseLocationModal")}}},[a("i",{staticClass:"fas fa-map"})])])]),a("div",{staticClass:"flex items-center"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseName"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseName"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_name,callback:function(t){e.$set(e.form,"warehouse_name",t)},expression:"form.warehouse_name"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLongitude"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLongitude"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_lon,callback:function(t){e.$set(e.form,"warehouse_lon",t)},expression:"form.warehouse_lon"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLatitude"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.warehouseLatitude"),rules:"required",isInfoEnabled:!1,placeholder:"",disabled:""},model:{value:e.form.warehouse_lat,callback:function(t){e.$set(e.form,"warehouse_lat",t)},expression:"form.warehouse_lat"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.whatsappPhoneNumber"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.whatsappPhoneNumber"),placeholder:"e.g. 0123456789",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.whatsappPhoneNumber")},model:{value:e.form.whatsapp_business_number,callback:function(t){e.$set(e.form,"whatsapp_business_number",t)},expression:"form.whatsapp_business_number"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.details.title.supportPhoneNumber"),label:e.$t("components.fleetManagement.addEdit.steps.details.title.supportPhoneNumber"),placeholder:"e.g. 0123456789",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.supportPhoneNumber")},model:{value:e.form.support_phone_number,callback:function(t){e.$set(e.form,"support_phone_number",t)},expression:"form.support_phone_number"}})],1),a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.useCompanyDetailsCheckBox"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.useCompanyDetailsCheckBox"),wrapped:""},model:{value:e.form.use_company_details,callback:function(t){e.$set(e.form,"use_company_details",t)},expression:"form.use_company_details"}}),a("br"),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",label:e.$t("components.fleetManagement.addEdit.steps.details.title.country"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.country"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.country"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.country"),options:e.countries,variant:{readonly:e.getCompanyDetailsDisabledState},disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}}),a("AppInput",{attrs:{type:"richselect",label:e.$t("components.fleetManagement.addEdit.steps.details.title.city"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.city"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.details.placeHolder.city"),"value-attribute":"id","text-attribute":"name",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.city"),options:e.cities,disabled:e.getCompanyDetailsDisabledState,variant:{readonly:e.getCityDisabledState}},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.zipCode"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.zipCode"),placeholder:"e.g. 123456",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.zipCode"),disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}}),a("AppInput",{attrs:{type:"textarea",label:e.$t("components.fleetManagement.addEdit.steps.details.title.address"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.address"),placeholder:"",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.address"),disabled:e.getCompanyDetailsDisabledState,variant:{readonly:e.getCompanyDetailsDisabledState}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.registrationID"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.registrationID"),placeholder:"e.g. 123 446 7890",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.registrationID")},model:{value:e.form.registration_no,callback:function(t){e.$set(e.form,"registration_no",t)},expression:"form.registration_no"}}),a("AppInput",{attrs:{type:"text",label:e.$t("components.fleetManagement.addEdit.steps.details.title.taxID"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.taxID"),placeholder:"e.g. TX123 456 7890",infoDescription:e.$t("components.fleetManagement.addEdit.steps.details.infoDescription.taxID")},model:{value:e.form.tax_id,callback:function(t){e.$set(e.form,"tax_id",t)},expression:"form.tax_id"}})],1),a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.details.title.showBrandLogo"),name:e.$t("components.fleetManagement.addEdit.steps.details.title.showBrandLogo"),wrapped:""},on:{change:e.onChangeBrandLogoShowingStatus},model:{value:e.showBrandLogo,callback:function(t){e.showBrandLogo=t},expression:"showBrandLogo"}}),e.showBrandLogo?a("UploadAvatar",{class:"mb-3",attrs:{current:e.form.brand_logo},model:{value:e.form.brand_logo,callback:function(t){e.$set(e.form,"brand_logo",t)},expression:"form.brand_logo"}}):e._e(),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},g=[],h=(a("d3b7"),a("ed08")),_=a("758b"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-modal",{ref:"modalRef",attrs:{name:e.name,variant:"vehicleLocation",hideCloseButton:!0,disableBodyScroll:!0}},[a("header",{staticClass:"py-4 px-3"},[a("div",{staticClass:"flex justify-between modal-header"},[a("div",{staticClass:"w-full text-left"},[a("div",{staticClass:"gm-title"},[e._v(e._s(e.title))]),a("div",{staticClass:"gm-subtitle"},[e._v(e._s(e.subtitle))])]),a("div",{staticClass:"gm-lat-lng-area",on:{click:e.copyToClipboard}},[a("div",[a("div",{staticClass:"text-14px"},[a("span",{staticClass:"font-medium text-14px text-oDark"},[e._v("Lat: ")]),a("span",{staticClass:"text-oGray overflow-clip"},[e._v(" "+e._s(e.getLat||"--")+" ")])]),a("div",{staticClass:"text-14px"},[a("span",{staticClass:"font-medium text-oDark"},[e._v("Long: ")]),a("span",{staticClass:"text-oGray overflow-clip"},[e._v(" "+e._s(e.getLng||"--")+" ")])])]),a("div",{staticClass:"text-right cursor-pointer"},[a("i",{staticClass:"far fa-copy"})])])])]),a("section",{staticClass:"w-full h-96"},[a("gmap-map",{ref:"map",style:"width: 100%; height: 100%;",attrs:{zoom:e.zoom,center:e.center,"map-type-id":"terrain"},on:{click:e.setMarker}},[e.marker.lat&&e.marker.lng?a("gmap-marker",{attrs:{position:e.marker,draggable:!1,icon:{url:e.icon,scaledSize:{width:35,height:40}}}}):e._e()],1)],1),a("div",{staticClass:"flex gap-4 justify-end py-2 px-4 bg-white modal-header"},[a("AppButton",{attrs:{text:"Cancel",variant:"secondary"},on:{click:e.onCancel}}),a("AppButton",{attrs:{text:"Save",variant:"primary"},on:{click:e.onSave}})],1)])},y=[],b=(a("ac1f"),a("1276"),a("755e")),x=a("9ea1"),k={name:"LocationModal",mixins:[x["a"]],components:{AppButton:m["default"]},props:{name:{type:String,default:"locationModal"},title:{type:[String,Number],default:"Drag PIN to locate exact location"},subtitle:{type:[String,Number],default:""},latLng:{type:String,required:!1},icon:{default:function(){return a("0d76")}},updatable:{type:Boolean,default:!1},useGeocoder:{type:Boolean,default:!1}},computed:{google:b["gmapApi"],getLat:function(){var e,t=null===this||void 0===this||null===(e=this.latLng)||void 0===e?void 0:e.split(",")[0];return t?Number(t):null},getLng:function(){var e,t=null===this||void 0===this||null===(e=this.latLng)||void 0===e?void 0:e.split(",")[1];return t?Number(t):null},getLatLngUrl:function(){return"https://www.google.com/maps/search/?api=1&query=".concat(this.latLng)}},data:function(){return{zoom:11,center:{lat:10,lng:10},marker:{lat:null,lng:null},locationMode:!1}},watch:{latLng:{immediate:!0,deep:!1,handler:function(){this.setLatLng()}}},methods:{setLatLng:function(){(this.getLat||this.getLng)&&(this.center={lat:this.getLat,lng:this.getLng},this.marker=Object(r["a"])({},this.center))},setMarker:function(e){this.updatable&&(this.marker={lat:e.latLng.lat(),lng:e.latLng.lng()},this.$emit("update:marker",{e:e,marker:this.marker}))},copyToClipboard:function(){this.copyContentToClipboard(this.getLatLngUrl,{important:!0,title:"Lat Long Copied",text:"Lat & Long has been copied to your clipboard"})},geocoder:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.marker,o=new t.google.maps.Geocoder,a.next=4,o.geocode({location:n},(function(e,t){"OK"===t&&(e[1]?i=e[1]:console.error("LocationModal: No geocoding results found!"))}));case 4:return a.abrupt("return",i);case 5:case"end":return a.stop()}}),a)})))()},onSave:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.marker,!e.useGeocoder){t.next=7;break}return n=new e.google.maps.Geocoder,t.next=5,n.geocode({location:a},(function(t,n){"OK"===n&&(t[1]?(e.$emit("save",{geocoder:t[1],marker:a}),e.$refs.modalRef.hide()):(console.error("LocationModal: No geocoding results found!"),e.$emit("save",{geocoder:null,marker:a}),e.$refs.modalRef.hide()))}));case 5:t.next=9;break;case 7:e.$emit("save",{geocoder:null,marker:a}),e.$refs.modalRef.hide();case 9:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$emit("cancel"),this.$refs.modalRef.hide()}}},w=k,$=(a("5d6a"),a("2877")),S=Object($["a"])(w,v,y,!1,null,"0d614a0c",null),E=S.exports,C=a("c18b"),T={name:"Step1",components:{PlacesAutocomplete:_["default"],LocationModal:E,UploadAvatar:C["b"]},props:{organizations:{required:!0},countries:{required:!0},primaryKey:{type:null,required:!1},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,form:{name:"",organization:"",warehouse_name:"",warehouse_lat:"",warehouse_lon:"",use_company_details:!1,country:"",city:"",zip_code:"",address:"",whatsapp_business_number:"",support_phone_number:"",brand_logo:null},showBrandLogo:!1,cities:[],cityIsLoading:!1}},computed:{useCompanyDetails:function(){return this.form.use_company_details},country:function(){return this.form.country},getCountry:function(){return this.form.country||void 0},getOrganization:function(){return this.form.organization||void 0},getCityDisabledState:function(){return!this.form.country||(!!this.cityIsLoading||(this.getCompanyDetailsDisabledState,!1))},getCityPlaceholder:function(){return this.form.country?this.cityIsLoading?"Loading ⟳":"Select a city":"Select a country first"},getUseCompanyDetails:function(){return this.form.use_company_details},getCompanyDetailsDisabledState:function(){return!!this.getUseCompanyDetails}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(this.form=Object(r["a"])({},e),this.showBrandLogo=!!this.form.brand_logo)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:1,data:this.form})}},useCompanyDetails:function(e){!0===e&&(this.form.country=this.$org.country.id,this.cities=[this.$org.city],this.form.city=this.$org.city.id,this.form.zip_code=this.$org.zip_code,this.form.address=this.$org.address)},country:{immediate:!0,deep:!1,handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cityIsLoading=!0,a.next=3,t.$http.get(d["c"].dropdown.city(e)).then((function(e){return e.data.data})).catch((function(e){return console.log(e)})).finally((function(){return t.cityIsLoading=!1}));case 3:t.cities=a.sent;case 4:case"end":return a.stop()}}),a)})))()}}},methods:{onChangeBrandLogoShowingStatus:function(e){this.showBrandLogo=e},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.submitButton.click();case 1:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e.isEditing?"PATCH":"POST",n=e.isEditing?d["c"].fleet.update(e.primaryKey):d["c"].fleet.create(),e.showBrandLogo||(e.form.brand_logo=""),i=Object(r["a"])({},e.form),e.showBrandLogo&&("string"!==typeof e.form.brand_logo&&null!=e.form.brand_logo||delete i.brand_logo),o=new FormData,i)o.append(s,i[s]);return console.log("dta-a",o),e.isLoading=!0,t.next=11,e.$http({method:a,url:n,data:o}).then((function(t){e.$emit("save",{step:1,data:t.data});var a="Fleet ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:a})})).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 11:case"end":return t.stop()}}),t)})))()},showGooglemapModal:function(){},onUpdateWarehousePlace:function(e){console.log("onplace",e),this.form.warehouse_lat=e.geometry.location.lat(),this.form.warehouse_lon=e.geometry.location.lng(),this.form.warehouse_name=e.formatted_address},onSaveWareHouseLocation:function(e){var t=e.marker,a=e.geocoder;this.form.warehouse_lat=t.lat,this.form.warehouse_lon=t.lng,this.form.warehouse_name=(null===a||void 0===a?void 0:a.formatted_address)||"Unknown Location!"}}},M=T,D=(a("765e"),Object($["a"])(M,f,g,!1,null,"03ac6c2f",null)),O=D.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isParkingRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isParkingRequired"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isParkingRequired"),"value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isParkingRequired"),options:e.getParkingRequiredOptions,"hide-search-box":!0},model:{value:e.form.is_parking_required,callback:function(t){e.$set(e.form,"is_parking_required",t)},expression:"form.is_parking_required"}})],1),e.form.is_parking_required?a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.parkingRulesForVehicle"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.parkingRulesForVehicle"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.parkingRulesForVehicle"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.parkingRulesForVehicle"),"hide-search-box":!0,options:[{text:"Park at PickUp Location",value:!0},{text:"Park at any parking spot",value:!1}]},model:{value:e.form.return_vehicle_to_pickup_area,callback:function(t){e.$set(e.form,"return_vehicle_to_pickup_area",t)},expression:"form.return_vehicle_to_pickup_area"}})],1):a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isEndRidePhotoRequired"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isEndRidePhotoRequired"),options:e.getEndRideEnabledOptions,"hide-search-box":!0},model:{value:e.form.end_ride_picture,callback:function(t){e.$set(e.form,"end_ride_picture",t)},expression:"form.end_ride_picture"}})],1)]),e.form.is_parking_required?a("div",{staticClass:"grid grid-cols-1 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.excludeVehicleTypeFromParkingRules"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.excludeVehicleTypeFromParkingRules"),placeholder:"",rules:"","value-attribute":"value","text-attribute":"text",options:e.vehicleTypes,multiple:"","hide-search-box":!0},on:{change:e.handleVehicleTypes},model:{value:e.form.vehicle_types_exempted_from_parking,callback:function(t){e.$set(e.form,"vehicle_types_exempted_from_parking",t)},expression:"form.vehicle_types_exempted_from_parking"}})],1)]):e._e(),e.form.is_parking_required?a("div",{staticClass:"grid grid-cols-1 gap-4"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isEndRidePhotoRequired"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isEndRidePhotoRequired"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isEndRidePhotoRequired"),options:e.getEndRideEnabledOptions,"hide-search-box":!0},model:{value:e.form.end_ride_picture,callback:function(t){e.$set(e.form,"end_ride_picture",t)},expression:"form.end_ride_picture"}})],1)]):e._e(),a("div",{staticClass:"py-1"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.changeLocationUpdateFrequencyCheckBox"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.changeLocationUpdateFrequencyCheckBox"),wrapped:""},model:{value:e.update_heartbeat_position_frequency,callback:function(t){e.update_heartbeat_position_frequency=t},expression:"update_heartbeat_position_frequency"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOnRide"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOnRide"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.locationUpdateFrequencyOnRide"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.locationUpdateFrequencyOnRide"),options:e.getFrequencyOptionsOnRide,disabled:!e.update_heartbeat_position_frequency,variant:{readonly:!e.update_heartbeat_position_frequency},"hide-search-box":!0},model:{value:e.form.on_ride_location_update_frequency,callback:function(t){e.$set(e.form,"on_ride_location_update_frequency",t)},expression:"form.on_ride_location_update_frequency"}}),a("AppInput",{attrs:{disabled:!e.update_heartbeat_position_frequency,type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOffRide"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.locationUpdateFrequencyOffRide"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.locationUpdateFrequencyOffRide"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.locationUpdateFrequencyOffRide"),options:e.getFrequencyOptionsOffRide,variant:{readonly:!e.update_heartbeat_position_frequency},"hide-search-box":!0},model:{value:e.form.off_ride_location_update_frequency,callback:function(t){e.$set(e.form,"off_ride_location_update_frequency",t)},expression:"form.off_ride_location_update_frequency"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.lowSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.lowSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.lowSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.lowSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.low_speed_limit,callback:function(t){e.$set(e.form,"low_speed_limit",t)},expression:"form.low_speed_limit"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.mediumSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.mediumSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.mediumSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.mediumSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.medium_speed_limit,callback:function(t){e.$set(e.form,"medium_speed_limit",t)},expression:"form.medium_speed_limit"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.highSpeedLimit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.highSpeedLimit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.highSpeedLimit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.highSpeedLimit"),options:e.getSpeedLimitOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"km/h"},model:{value:e.form.high_speed_limit,callback:function(t){e.$set(e.form,"high_speed_limit",t)},expression:"form.high_speed_limit"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.maxSpeedMode"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.maxSpeedMode"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.maxSpeedMode"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.maxSpeedMode"),options:e.getMaxSpeedLimitOptions,"hide-search-box":!0},model:{value:e.form.max_speed_limit,callback:function(t){e.$set(e.form,"max_speed_limit",t)},expression:"form.max_speed_limit"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetVisibility"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetVisibility"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.fleetVisibility"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetVisibility"),options:e.getVisibilityOptions,"hide-search-box":!0},model:{value:e.form.visibility,callback:function(t){e.$set(e.form,"visibility",t)},expression:"form.visibility"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isPauseRideEnabled"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.isPauseRideEnabled"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.isPauseRideEnabled"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.isPauseRideEnabled"),options:e.getPauseEnabledOptions,"hide-search-box":!0},model:{value:e.form.pause_ride_enabled,callback:function(t){e.$set(e.form,"pause_ride_enabled",t)},expression:"form.pause_ride_enabled"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowGroupTrip"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowGroupTrip"),rules:"required","value-attribute":"value","text-attribute":"text",options:e.getGroupTripRequiredOptions,"hide-search-box":!0},model:{value:e.form.is_group_trip_enabled,callback:function(t){e.$set(e.form,"is_group_trip_enabled",t)},expression:"form.is_group_trip_enabled"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowReservationFeature"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.allowReservationFeature"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.allowReservationFeature"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.allowReservationFeature"),options:e.getReservationOptions,"hide-search-box":!0},model:{value:e.form.reservation_allowed,callback:function(t){e.$set(e.form,"reservation_allowed",t)},expression:"form.reservation_allowed"}})],1),a("div",{staticClass:"grid grid-cols-1 "},[e.form.reservation_allowed?a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetReservationTime"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.fleetReservationTime"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.fleetReservationTime"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetReservationTime"),options:e.getFleetReservationTimeOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"Mins"},model:{value:e.form.reservation_time,callback:function(t){e.$set(e.form,"reservation_time",t)},expression:"form.reservation_time"}}):e._e()],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.signUpBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.signUpBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.fleetReservationTime"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.user_init_balance,callback:function(t){e.$set(e.form,"user_init_balance",t)},expression:"form.user_init_balance"}}),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviterBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviterBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.inviterBonus"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.invitation_amount,callback:function(t){e.$set(e.form,"invitation_amount",t)},expression:"form.invitation_amount"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviteeBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.inviteeBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.inviteeBonus"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:e.form.invitee_invitation_amount,callback:function(t){e.$set(e.form,"invitee_invitation_amount",t)},expression:"form.invitee_invitation_amount"}})],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.numTripsRequiredForReferralBonus"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.numTripsRequiredForReferralBonus"),rules:"required",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.numTripsRequiredForReferralBonus")},model:{value:e.form.invitation_required_trips,callback:function(t){e.$set(e.form,"invitation_required_trips",t)},expression:"form.invitation_required_trips"}}),e.isRidingTimeBaseWallet?a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnit"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnit"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.ridingTimingUnit"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.allowReservationFeature"),options:e.getRidingTimeUnitOptions,"hide-search-box":!0},model:{value:e.form.riding_time_unit,callback:function(t){e.$set(e.form,"riding_time_unit",t)},expression:"form.riding_time_unit"}}),[0===e.form.riding_time_unit?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),rules:"required",step:"0.0001",min:"0",haveUnitText:!0,unitText:e.getUnitTextForAmountPerRidingTime,haveSuggestion:e.haveAlertForRidingTimeUnitCost,isSuggestionAlert:e.haveAlertForRidingTimeUnitCost,suggestionText:"Up to 4 decimal places allowed. Example: 0.2345"},model:{value:e.form.amount_per_riding_time_unit,callback:function(t){e.$set(e.form,"amount_per_riding_time_unit",t)},expression:"form.amount_per_riding_time_unit"}}),a("div",{staticClass:"flex items-center justify-center border-2 border-dashed border-gray-400 rounded-lg bg-gray-100"},[a("p",{staticClass:"text-xl font-semibold"},[e._v(" "+e._s(e.form.amount_per_riding_time_unit?e.formatNumberWithMaxDecimals(60*e.form.amount_per_riding_time_unit,4):"--")+" "+e._s(e.form.currency_symbol+" /Minute")+" ")])])],1),a("div",{staticClass:"grid grid-cols-2 gap-4 mt-2"},[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),rules:"required",step:"0.1",min:"0"},model:{value:e.form.minimum_riding_time_for_topup,callback:function(t){e.$set(e.form,"minimum_riding_time_for_topup",t)},expression:"form.minimum_riding_time_for_topup"}}),a("div",{staticClass:"flex items-center justify-center border-2 border-dashed border-gray-400 rounded-lg bg-gray-100"},[a("p",{staticClass:"text-xl font-semibold"},[e._v(" "+e._s(e.getMinimumRidingTimeTextForTopup)+" ")])])],1)]:e._e(),1===e.form.riding_time_unit?[a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.ridingTimingUnitCost"),rules:"required",step:"0.0001",min:"0",haveUnitText:!0,unitText:e.getUnitTextForAmountPerRidingTime,haveSuggestion:e.haveAlertForRidingTimeUnitCost,isSuggestionAlert:e.haveAlertForRidingTimeUnitCost,suggestionText:"Up to 4 decimal places allowed. Example: 0.2345"},model:{value:e.form.amount_per_riding_time_unit,callback:function(t){e.$set(e.form,"amount_per_riding_time_unit",t)},expression:"form.amount_per_riding_time_unit"}}),a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.minimumRidingTimeForTopup"),rules:"required",step:"0.01",min:"0"},model:{value:e.form.minimum_riding_time_for_topup,callback:function(t){e.$set(e.form,"minimum_riding_time_for_topup",t)},expression:"form.minimum_riding_time_for_topup"}})]:e._e()]],2):e._e(),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.applyTaxOnTopup"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.applyTaxOnTopup"),"value-attribute":"value","text-attribute":"text",options:e.getApplyTaxOnTopupOptions,"hide-search-box":!0},model:{value:e.form.should_apply_tax_on_topup_amount,callback:function(t){e.$set(e.form,"should_apply_tax_on_topup_amount",t)},expression:"form.should_apply_tax_on_topup_amount"}}),e.form.should_apply_tax_on_topup_amount?a("AppInput",{attrs:{type:"number",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.topupTaxRate"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.topupTaxRate"),step:"0.01",min:"0",haveUnitText:!0,unitText:"%"},model:{value:e.form.topup_tax_percentage,callback:function(t){e.$set(e.form,"topup_tax_percentage",t)},expression:"form.topup_tax_percentage"}}):e._e(),a("section",[a("div",{staticClass:"flex items-center my-5 text-sm font-bold text-gray-500"},[a("span",[e._v(e._s(e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmount")))]),a("div",{staticClass:"col-span-1 ml-2 cursor-pointer focus:text-gray-400",on:{click:e.onAddPenaltyTypeField}},[a("i",{staticClass:"fas fa-plus-circle",staticStyle:{color:"black"}})])]),e._l(e.selectedPenaltyTypes,(function(t,n){return a("div",{key:n,staticClass:"flex items-center"},[a("div",{staticClass:"flex gap-2 items-center w-11/12"},[a("div",{staticClass:"w-1/2"},[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.type"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.type"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.managePenaltyByAmountInfo.type"),"value-attribute":"id","text-attribute":"title",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.managePenaltyByAmountInfo.type"),options:e.penaltyOptions,"hide-search-box":""},model:{value:t.id,callback:function(a){e.$set(t,"id",a)},expression:"item.id"}})],1),a("div",{staticClass:"w-1/2"},[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.amount"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.managePenaltyByAmountInfo.amount"),placeholder:"e.g. 2",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.managePenaltyByAmountInfo.amount"),haveUnitText:!0,unitText:e.form.currency_symbol},model:{value:t.deduct_amount,callback:function(a){e.$set(t,"deduct_amount",a)},expression:"item.deduct_amount"}})],1)]),a("div",{staticClass:"flex justify-center w-1/12 item-center"},[a("div",{staticClass:"col-span-1 cursor-pointer focus:text-gray-400",on:{click:function(t){return e.onRemovePenaltyTypeField(n)}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"#d90a20"}})])])])}))],2),e.fleetIsPrivate?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCode"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCode"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.privateCode")},model:{value:e.form.private_code,callback:function(t){e.$set(e.form,"private_code",t)},expression:"form.private_code"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCodeRefreshTime"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.privateCodeRefreshTime"),rules:"required",placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.privateCodeRefreshTime"),"value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.privateCodeRefreshTime"),options:e.getFleetReservationTimeOptions,"hide-search-box":!0,haveUnitText:!0,unitText:"Mins"},model:{value:e.form.private_code_refresh_mins,callback:function(t){e.$set(e.form,"private_code_refresh_mins",t)},expression:"form.private_code_refresh_mins"}})],1)]:e._e(),a("div",{staticClass:"my-4 parentbox"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.useOrgEmailConfigCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.useOrgEmailConfigCheckbox"),wrapped:""},model:{value:e.form.email_enabled,callback:function(t){e.$set(e.form,"email_enabled",t)},expression:"form.email_enabled"}})],1),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailAddress")+" "+(e.isUsedOtorideDefaultEmailCredential&&"(Default)"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailAddress")+" "+(e.isUsedOtorideDefaultEmailCredential&&"(Default)"),placeholder:"john_doe@gmail.com",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailAddress"),disabled:e.form.email_enabled},model:{value:e.form.email_address,callback:function(t){e.$set(e.form,"email_address",t)},expression:"form.email_address"}}),e.isUsedOtorideDefaultEmailCredential?e._e():[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailCredentialProvider"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailCredentialProvider"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.emailCredentialProvider"),options:[{text:"SMTP",value:!0},{text:"SendGrid",value:!1}],disabled:e.form.email_enabled,"hide-search-box":""},model:{value:e.form.email_is_smtp,callback:function(t){e.$set(e.form,"email_is_smtp",t)},expression:"form.email_is_smtp"}}),e.emailIsSMTP?[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailHost"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailHost"),placeholder:"e.g. smtp.gmail.com",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailHost"),disabled:e.form.email_enabled},model:{value:e.form.email_host,callback:function(t){e.$set(e.form,"email_host",t)},expression:"form.email_host"}}),a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPort"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPort"),placeholder:"e.g.587",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailPort"),disabled:e.form.email_enabled},model:{value:e.form.email_port,callback:function(t){e.$set(e.form,"email_port",t)},expression:"form.email_port"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPassword"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailPassword"),placeholder:"*** *** ***",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailPassword"),disabled:e.form.email_enabled},model:{value:e.form.email_password,callback:function(t){e.$set(e.form,"email_password",t)},expression:"form.email_password"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailEncryption"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailEncryption"),placeholder:e.$t("components.fleetManagement.addEdit.steps.configuration.placeHolder.emailEncryption"),rules:"required","value-attribute":"value","text-attribute":"text",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailEncryption"),options:e.getEmailEncryptionOptions,disabled:e.form.email_enabled,"hide-search-box":!0},model:{value:e.form.email_encryption,callback:function(t){e.$set(e.form,"email_encryption",t)},expression:"form.email_encryption"}})],1)]:[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-full"},[a("AppInput",{attrs:{type:"text",name:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailApiKey"),label:e.$t("components.fleetManagement.addEdit.steps.configuration.title.emailApiKey"),placeholder:"e.g. xvgsf^$R7865rtxsnb",infoDescription:e.$t("components.fleetManagement.addEdit.steps.configuration.infoDescription.emailApiKey"),disabled:e.form.email_enabled},model:{value:e.form.email_api_key,callback:function(t){e.$set(e.form,"email_api_key",t)},expression:"form.email_api_key"}})],1)])]],a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],2)]}}])})},I=[],P=(a("99af"),a("25f0"),a("159b"),a("4de4"),a("d81d"),a("a434"),a("caad"),a("2532"),a("5da7")),L={name:"Step2",components:{},props:{primaryKey:{required:!0},orgEmailSettings:{type:Object,required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1},isRidingTimeBaseWallet:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,saveCounter:0,showMsg:!1,emailMissingSettings:[],penaltyOptions:[],allPenaltyTypes:[],selectedPenaltyTypes:[],update_heartbeat_position_frequency:!1,vehicleTypes:[],form:{id:"",currency_symbol:"",is_parking_required:"",return_vehicle_to_pickup_area:null,vehicle_types_exempted_from_parking:[],reservation_time:"",reservation_allowed:null,pause_ride_enabled:"",user_init_balance:"",invitation_amount:"",invitee_invitation_amount:"",amount_per_riding_time_unit:"",should_apply_tax_on_topup_amount:"",topup_tax_percentage:"",invitation_required_trips:"",on_ride_location_update_frequency:30,off_ride_location_update_frequency:240,end_ride_picture:"",max_speed_limit:"",low_speed_limit:null,medium_speed_limit:null,high_speed_limit:null,visibility:"",is_group_trip_enabled:null,private_code:"",private_code_refresh_mins:"",email_enabled:"",email_address:"",email_api_key:"",email_is_smtp:"",email_host:"",email_port:"",email_password:"",email_encryption:""},previousEmailSettings:{email_address:"",email_api_key:"",email_is_smtp:"",email_host:"",email_port:"",email_password:"",email_encryption:""},haveAlertForRidingTimeUnitCost:!1}},computed:{isUsedOtorideDefaultEmailCredential:function(){return this.$store.getters["auth/organizationInfo"].subscription.should_use_otoride_email_credentials||!1},isOrgEmailSettingsOkay:function(){var e=this.orgEmailSettings,t=0!==Object.keys(e).length;for(var a in e)if("null"===e[a]||""===e[a]||null===e[a]){t=!1;var n=void 0;n="email_is_smtp"===a?"SMTP decision":"email_api_key"===a?"API key":a.split("_")[1],this.emailMissingData(n)}return t},emailEnabled:function(){return this.form.email_enabled},emailIsSMTP:function(){return this.form.email_is_smtp},fleetIsPrivate:function(){return"PR"===this.form.visibility},getParkingRequiredOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getGroupTripRequiredOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getReservationOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getPauseEnabledOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getEndRideEnabledOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getApplyTaxOnTopupOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},getRidingTimeUnitOptions:function(){return[{value:0,text:"Second"},{value:1,text:"Minute"}]},getUnitTextForAmountPerRidingTime:function(){var e="";return 0===this.form.riding_time_unit&&(e="Sec"),1===this.form.riding_time_unit&&(e="Min"),"".concat(this.form.currency_symbol," /").concat(e)},getVisibilityOptions:function(){return[{value:"PU",text:"Public"},{value:"PR",text:"Private"}]},getFleetReservationTimeOptions:function(){return[{value:5,text:"5"},{value:10,text:"10"},{value:15,text:"15"},{value:20,text:"20"},{value:25,text:"25"},{value:30,text:"30"}]},getMaxSpeedLimitOptions:function(){return[{value:"LOW",text:"Low"},{value:"MEDIUM",text:"Medium"},{value:"HIGH",text:"High"}]},getSpeedLimitOptions:function(){return[{value:6,text:6},{value:7,text:7},{value:8,text:8},{value:9,text:9},{value:10,text:10},{value:11,text:11},{value:12,text:12},{value:13,text:13},{value:14,text:14},{value:15,text:15},{value:16,text:16},{value:17,text:17},{value:18,text:18},{value:19,text:19},{value:20,text:20},{value:21,text:21},{value:22,text:22},{value:23,text:23},{value:24,text:24},{value:25,text:25}]},getFrequencyOptionsOnRide:function(){return[{value:10,text:"10s"},{value:20,text:"20s"},{value:30,text:"30s"},{value:60,text:"1m"},{value:90,text:"1m 30s"},{value:120,text:"2m"},{value:150,text:"2m 30s"},{value:180,text:"3m"},{value:210,text:"3m 30s"},{value:240,text:"4m"}]},getFrequencyOptionsOffRide:function(){return[{value:30,text:"30s"},{value:60,text:"1m"},{value:90,text:"1m 30s"},{value:120,text:"2m"},{value:150,text:"2m 30s"},{value:180,text:"3m"},{value:210,text:"3m 30s"},{value:240,text:"4m"}]},getEmailEncryptionOptions:function(){return[{value:"TLS",text:"TLS"},{value:"SSL",text:"SSL"},{value:"None",text:"None"}]},getMinimumRidingTimeTextForTopup:function(){var e="";if(0===this.form.riding_time_unit&&(this.form.minimum_riding_time_for_topup<60&&(e="".concat(this.form.minimum_riding_time_for_topup," Sec")),this.form.minimum_riding_time_for_topup>=60)){var t=Math.floor(parseInt(this.form.minimum_riding_time_for_topup)/60),a=parseInt(this.form.minimum_riding_time_for_topup)%60;t>0&&a>0&&(e="".concat(t," Min ").concat(a," Sec")),t>0&&0===a&&(e="".concat(t," Minute"))}return e}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(e.email_enabled?e.email_enabled=!1:e.email_enabled=!0,this.form=Object(r["a"])({},e),this.previousEmailSettings.email_address=e.email_address,this.previousEmailSettings.email_api_key=e.email_api_key,this.previousEmailSettings.email_is_smtp=e.email_is_smtp,this.previousEmailSettings.email_host=e.email_host,this.previousEmailSettings.email_port=e.email_port,this.previousEmailSettings.email_password=e.email_password,this.previousEmailSettings.email_encryption=e.email_encryption)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:2,data:this.form})}},emailEnabled:{immediate:!1,deep:!1,handler:function(e){if(0===this.saveCounter)if(e){var t=this.orgEmailSettings;this.form.email_address=t.email_address,this.form.email_api_key=t.email_api_key,this.form.email_is_smtp=t.email_is_smtp,this.form.email_host=t.email_host,this.form.email_port=t.email_port,this.form.email_password=t.email_password,this.form.email_encryption=t.email_encryption}else this.form.email_address=this.previousEmailSettings.email_address,this.form.email_api_key=this.previousEmailSettings.email_api_key,this.form.email_is_smtp=this.previousEmailSettings.email_is_smtp,this.form.email_host=this.previousEmailSettings.email_host,this.form.email_port=this.previousEmailSettings.email_port,this.form.email_password=this.previousEmailSettings.email_password,this.form.email_encryption=this.previousEmailSettings.email_encryption}},"form.amount_per_riding_time_unit":{immediate:!0,deep:!1,handler:function(e){console.log("amount_per_riding_time_unit",e.toString().split(".")[1].length),e.toString().split(".")[1].length>4?this.haveAlertForRidingTimeUnitCost=!0:this.haveAlertForRidingTimeUnitCost=!1}}},created:function(){var e,t=this;this.saveCounter=0;var a=(null===this||void 0===this||null===(e=this.$org)||void 0===e?void 0:e.vehicle_type)||[];this.vehicleTypes.push({text:"None",value:"NONE"}),a.forEach((function(e){return t.vehicleTypes.push(h["w"][e])})),this.$http.get(d["c"].fleet.penaltyIndex(this.form.id)).then((function(e){t.allPenaltyTypes=e.data.data,t.selectedPenaltyTypes=e.data.data.filter((function(e){return parseFloat(e.deduct_amount)>0})),t.penaltyOptions=e.data.data.map((function(e){return{id:e.id,title:e.title}}))}))},methods:{formatNumberWithMaxDecimals:P["b"],handleVehicleTypes:function(e){if("NONE"===e[e.length-1])for(var t=e.length-1;t>=0;t--)"NONE"!==e[t]&&e.splice(t,1);"NONE"===e[0]&&e.length>1&&e.splice(0,1)},onAddPenaltyTypeField:function(){this.selectedPenaltyTypes.length<this.allPenaltyTypes.length?this.selectedPenaltyTypes.unshift({id:"",deduct_amount:"0.00"}):this.$notify({group:"generic",type:"default",title:"CAUTION",text:"No more policy have been left"},3e3)},onRemovePenaltyTypeField:function(e){this.selectedPenaltyTypes.splice(e,1)},showErrorMsg:function(){this.showMsg=!0},emailMissingData:function(e){this.emailMissingSettings.push(e)},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.submitButton.click();case 1:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(c in a="PATCH",e.selectedPenaltyTypes.length?(e.selectedPenaltyTypes.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",t.deduct_amount),e.$http({url:a,method:"PATCH",data:n})})),n=e.allPenaltyTypes.filter((function(t){return!e.selectedPenaltyTypes.some((function(e){return t.id===e.id}))})),n.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",0),e.$http({url:a,method:"PATCH",data:n})}))):e.allPenaltyTypes.forEach((function(t){var a=d["c"].fleet.penaltiesUpdate(t.id),n=new FormData;n.append("deduct_amount",0),e.$http({url:a,method:"PATCH",data:n})})),i=d["c"].fleet.update(e.primaryKey),e.form.email_enabled?e.form.email_enabled=!1:e.form.email_enabled=!0,o=Object(r["a"])(Object(r["a"])({},e.form),{},{update_heartbeat_position_frequency:e.update_heartbeat_position_frequency}),console.log("formDataProxy",o),s=Object.keys(o),s.map((function(e){null===o[e]&&delete o[e]})),"PATCH"!==a&&delete o.update_heartbeat_position_frequency,e.emailIsSMTP?delete o.email_api_key:(delete o.email_host,delete o.email_port,delete o.email_password,delete o.email_encryption),!1===e.fleetIsPrivate&&(delete o.private_code,delete o.private_code_refresh_mins),l=new FormData,o)"vehicle_types_exempted_from_parking"===c?o[c].includes("NONE")?l.append(c,JSON.stringify([])):l.append(c,JSON.stringify(o[c])):l.append(c,o[c]);return e.saveCounter++,e.form.email_enabled=!e.form.email_enabled,e.isLoading=!0,t.next=18,e.$http({method:a,url:i,data:l}).then((function(t){e.$emit("save",{step:2,data:t.data});var a="Organization User ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:a})})).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.status})})).finally((function(){e.isLoading=!1,e.update_heartbeat_position_frequency=!1}));case 18:case"end":return t.stop()}}),t)})))()}}},R=L,q=(a("6d84"),Object($["a"])(R,A,I,!1,null,"315e1116",null)),F=q.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("section",[a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.useDefaultPaymentGatewayCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.useDefaultPaymentGatewayCheckbox"),wrapped:""},model:{value:e.form.useOrgPaymentGateway,callback:function(t){e.$set(e.form,"useOrgPaymentGateway",t)},expression:"form.useOrgPaymentGateway"}})],1),a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.paymentGateway"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.paymentGateway"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.paymentGateway"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.paymentGateway"),rules:"required","text-attribute":"name","value-attribute":"id",options:e.paymentGateways,disabled:e.form.useOrgPaymentGateway,"hide-search-box":""},model:{value:e.form.payment.payment_gateway,callback:function(t){e.$set(e.form.payment,"payment_gateway",t)},expression:"form.payment.payment_gateway"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableLiveModeCheckbox"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableLiveModeCheckbox"),disabled:e.form.useOrgPaymentGateway,wrapped:""},model:{value:e.form.payment.sandbox_mode,callback:function(t){e.$set(e.form.payment,"sandbox_mode",t)},expression:"form.payment.sandbox_mode"}})],1),e.isItPayoneMethod?a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneMID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_mid,callback:function(t){e.$set(e.form.payment,"payone_mid",t)},expression:"form.payment.payone_mid"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),rules:e.form.payment.sandbox_mode?"required":"",placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payonePortalID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_portalid,callback:function(t){e.$set(e.form.payment,"payone_portalid",t)},expression:"form.payment.payone_portalid"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneAID"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_aid,callback:function(t){e.$set(e.form.payment,"payone_aid",t)},expression:"form.payment.payone_aid"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.payoneKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.payone_key,callback:function(t){e.$set(e.form.payment,"payone_key",t)},expression:"form.payment.payone_key"}})],1)]):e.isItKKiaPayMethod?a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPublicKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_public_key,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_public_key",t)},expression:"form.payment.kkiapay_sandbox_public_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePublicKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_public_key,callback:function(t){e.$set(e.form.payment,"kkiapay_live_public_key",t)},expression:"form.payment.kkiapay_live_public_key"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxPrivateKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_private_key,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_private_key",t)},expression:"form.payment.kkiapay_sandbox_private_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLivePrivateKey"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_private_key,callback:function(t){e.$set(e.form.payment,"kkiapay_live_private_key",t)},expression:"form.payment.kkiapay_live_private_key"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),rules:e.form.payment.sandbox_mode?"":"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipaySandboxSecret"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_sandbox_secret,callback:function(t){e.$set(e.form.payment,"kkiapay_sandbox_secret",t)},expression:"form.payment.kkiapay_sandbox_secret"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),rules:e.form.payment.sandbox_mode?"required":"",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.title.kkipayLiveSecret"),disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.kkiapay_live_secret,callback:function(t){e.$set(e.form.payment,"kkiapay_live_secret",t)},expression:"form.payment.kkiapay_live_secret"}})],1)]):e.isItMyFatoorahMethod?a("div",[e.form.payment.sandbox_mode?a("div",[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiToken"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiToken"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.apiToken")},model:{value:e.form.payment.secret_key,callback:function(t){e.$set(e.form.payment,"secret_key",t)},expression:"form.payment.secret_key"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.javascriptSdkUrl"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.javascriptSdkUrl"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.javascriptSdkUrl")},model:{value:e.form.payment.src_url,callback:function(t){e.$set(e.form.payment,"src_url",t)},expression:"form.payment.src_url"}}),a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiBaseUrl"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.apiBaseUrl"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.apiBaseUrl")},model:{value:e.form.payment.api_url,callback:function(t){e.$set(e.form.payment,"api_url",t)},expression:"form.payment.api_url"}})],1):a("div",[a("AppInput",{attrs:{type:"password",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.testApiToken"),rules:"required",label:e.$t("components.fleetManagement.addEdit.steps.payment.title.testApiToken"),placeholder:e.$t("components.fleetManagement.addEdit.steps.payment.placeHolder.testApiToken")},model:{value:e.form.payment.sandbox_secret_key,callback:function(t){e.$set(e.form.payment,"sandbox_secret_key",t)},expression:"form.payment.sandbox_secret_key"}})],1)]):a("div",[a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:""+e.getClientIdLabel,rules:e.form.payment.sandbox_mode?"":"required",infoDescription:"Please provide "+e.getClientIdLabel+" for testing purpose",label:""+e.getClientIdLabel,placeholder:""+e.getClientIdLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.sandbox_client_id,callback:function(t){e.$set(e.form.payment,"sandbox_client_id",t)},expression:"form.payment.sandbox_client_id"}}),a("AppInput",{attrs:{type:"password",rules:e.form.payment.sandbox_mode?"required":"",name:"Live "+e.getClientIdLabel,infoDescription:"Please provide "+e.getClientIdLabel+" for production purpose",label:"Live "+e.getClientIdLabel,placeholder:"Live "+e.getClientIdLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.client_id,callback:function(t){e.$set(e.form.payment,"client_id",t)},expression:"form.payment.client_id"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"password",name:e.getSecretKeyLabel,rules:e.form.payment.sandbox_mode?"":"required",infoDescription:"Please provide "+e.getSecretKeyLabel+" for testing purpose",label:e.getSecretKeyLabel,placeholder:e.getSecretKeyLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.sandbox_secret_key,callback:function(t){e.$set(e.form.payment,"sandbox_secret_key",t)},expression:"form.payment.sandbox_secret_key"}}),a("AppInput",{attrs:{type:"password",name:"Live "+e.getSecretKeyLabel,infoDescription:"Please provide  "+e.getSecretKeyLabel+"for production purpose",rules:e.form.payment.sandbox_mode?"required":"",label:"Live "+e.getSecretKeyLabel,placeholder:"Live "+e.getSecretKeyLabel,disabled:e.form.useOrgPaymentGateway},model:{value:e.form.payment.secret_key,callback:function(t){e.$set(e.form.payment,"secret_key",t)},expression:"form.payment.secret_key"}})],1),e.isItStripeMethod?a("div",[a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.supportedPaymentMethodTypes"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.supportedPaymentMethodTypes"),rules:"",options:e.supportedPaymentMethodTypes,placeholder:"Select method","hide-search-box":!0,disabled:e.form.useOrgPaymentGateway,multiple:""},model:{value:e.form.payment.supported_payment_method_types,callback:function(t){e.$set(e.form.payment,"supported_payment_method_types",t)},expression:"form.payment.supported_payment_method_types"}})],1):e._e()]),a("div",{staticClass:"grid grid-cols-2 gap-4 pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableAutoRechargeFromWallet"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableAutoRechargeFromWallet"),wrapped:""},model:{value:e.form.should_auto_refill_wallet_on_negative_balance,callback:function(t){e.$set(e.form,"should_auto_refill_wallet_on_negative_balance",t)},expression:"form.should_auto_refill_wallet_on_negative_balance"}})],1),e.form.should_auto_refill_wallet_on_negative_balance?a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.autoRechargeAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.autoRechargeAmount"),rules:"required",placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.auto_refill_amount,callback:function(t){e.$set(e.form,"auto_refill_amount",t)},expression:"form.auto_refill_amount"}}),a("AppInput",{attrs:{type:"richselect",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.allowRiderToggleAutoRecharge"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.allowRiderToggleAutoRecharge"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.allowRiderToggleAutoRecharge"),rules:"required",options:e.getRiderEnabledAutoRefillOptions,"hide-search-box":!0},model:{value:e.form.is_rider_allowed_to_toggle_auto_refill_setting,callback:function(t){e.$set(e.form,"is_rider_allowed_to_toggle_auto_refill_setting",t)},expression:"form.is_rider_allowed_to_toggle_auto_refill_setting"}})],1):e._e(),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.deposit"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.deposit"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.deposit"),rules:"",placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_deposit,callback:function(t){e.$set(e.form.topup,"user_deposit",t)},expression:"form.topup.user_deposit"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.lowBalanceThreshold"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.lowBalanceThreshold"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.lowBalanceThreshold"),placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_balance_threshold,callback:function(t){e.$set(e.form.topup,"user_balance_threshold",t)},expression:"form.topup.user_balance_threshold"}})],1),a("div",{staticClass:"grid grid-cols-2 gap-4"},[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.maxTopupAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.maxTopupAmount"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.maxTopupAmount"),placeholder:"e.g. 400",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_max_balance,callback:function(t){e.$set(e.form.topup,"user_topup_max_balance",t)},expression:"form.topup.user_topup_max_balance"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.minTopupAmount"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.minTopupAmount"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.minTopupAmount"),placeholder:"e.g. 10",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_min_balance,callback:function(t){e.$set(e.form.topup,"user_topup_min_balance",t)},expression:"form.topup.user_topup_min_balance"}})],1),a("div",[a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.topupDailyLimit"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.topupDailyLimit"),infoDescription:e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.topupDailyLimit"),placeholder:"e.g. 400",haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.topup.user_topup_daily_limit,callback:function(t){e.$set(e.form.topup,"user_topup_daily_limit",t)},expression:"form.topup.user_topup_daily_limit"}})],1),a("div",{staticClass:" pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableFreeRideAllowed"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableFreeRideAllowed"),wrapped:""},model:{value:e.form.is_free_ride_allowed,callback:function(t){e.$set(e.form,"is_free_ride_allowed",t)},expression:"form.is_free_ride_allowed"}}),a("p",{staticClass:"text-xs text-gray-500 "},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.enableFreeRideAllowed"))+" ")])],1),a("div",{staticClass:" pb-4"},[a("TCheckbox",{attrs:{name:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableExtraSurchargeRechargeForTourist"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.enableExtraSurchargeRechargeForTourist"),wrapped:""},model:{value:e.form.should_apply_extra_charge_for_non_local_rider,callback:function(t){e.$set(e.form,"should_apply_extra_charge_for_non_local_rider",t)},expression:"form.should_apply_extra_charge_for_non_local_rider"}}),a("p",{staticClass:"text-xs text-gray-500 "},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.enableExtraSurchargeRechargeForTourist",{country:e.form.fleetCountry}))+" ")])],1),e.form.should_apply_extra_charge_for_non_local_rider?a("div",[a("AppInput",{attrs:{type:"number",step:"0.01",name:e.$t("components.fleetManagement.addEdit.steps.payment.title.provideExtraSurcharge"),label:e.$t("components.fleetManagement.addEdit.steps.payment.title.provideExtraSurcharge"),rules:"required",placeholder:"e.g. 10",haveUnitText:!0,unitText:"%"},model:{value:e.form.extra_charge_percentage_for_non_local_rider,callback:function(t){e.$set(e.form,"extra_charge_percentage_for_non_local_rider",t)},expression:"form.extra_charge_percentage_for_non_local_rider"}})],1):e._e()]),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v("Save")])])]}}])})},B=[],N={name:"Step3",components:{},props:{paymentGateways:{type:Array,required:!0},orgPaymentConfig:{type:Object,required:!0},primaryKey:{required:!0},orgId:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,haveTopupData:!1,supportedPaymentMethodTypes:[{text:"PayPal",value:"PayPal"},{text:"Card",value:"Card"}],currencySymbol:"",form:{payment:{payment_gateway:"",client_id:"",secret_key:"",app_key:"apk-123",extra_key:"exk-123",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"apk-123",supported_payment_method_types:[]},topup:{user_deposit:null,user_balance_threshold:null,user_topup_min_balance:null,user_topup_max_balance:null,user_topup_daily_limit:null},useOrgPaymentGateway:!1,should_auto_refill_wallet_on_negative_balance:!1,auto_refill_amount:0,is_rider_allowed_to_toggle_auto_refill_setting:!1,is_free_ride_allowed:!1,should_apply_extra_charge_for_non_local_rider:!1,extra_charge_percentage_for_non_local_rider:0,fleetCountry:""},orgPaymentDetails:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""},fleetPaymentDetails:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""}}},computed:{getRiderEnabledAutoRefillOptions:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}]},isItPayoneMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"Payone"!==t[0].name)},isItKKiaPayMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"KKiaPay"!==t[0].name)},isItStripeMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"Stripe"!==t[0].name)},isItSTSPayoneMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"STS PayOne"!==t[0].name)},isItMyFatoorahMethod:function(){var e=this,t=this.paymentGateways.filter((function(t){return t.id===e.form.payment.payment_gateway}));return!(!t.length||"MyFatoorah"!==t[0].name)},getClientIdLabel:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.privateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.merchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.title.clientID")},getClientIdInfoDescription:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.privateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.merchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.clientID")},getLiveClientIdLabel:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.livePrivateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.liveMerchantId"):this.$t("components.fleetManagement.addEdit.steps.payment.title.liveClientID")},getLiveClientIdInfoDescription:function(){return this.isItStripeMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.livePrivateKey"):this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveMerchantID"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveClientID")},getSecretKeyLabel:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.authToken"):this.$t("components.fleetManagement.addEdit.steps.payment.title.secretKey")},getSecretKeyInfoDescription:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.authToken"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.secretKey")},getLiveSecretKeyLabel:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.title.liveAuthToken"):this.$t("components.fleetManagement.addEdit.steps.payment.title.liveSecretKey")},getLiveSecretKeyInfoDescription:function(){return this.isItSTSPayoneMethod?this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveAuthToken"):this.$t("components.fleetManagement.addEdit.steps.payment.infoDescription.liveSecretKey")}},watch:{formData:{deep:!0,immediate:!0,handler:function(e){if(e){var t=e.payment,a=e.paymentId,n=e.orgId,i=e.useOrgPaymentGateway,o=e.currencySymbol,s=e.topup,l=e.should_auto_refill_wallet_on_negative_balance,d=e.auto_refill_amount,c=e.is_rider_allowed_to_toggle_auto_refill_setting,p=e.is_free_ride_allowed,u=e.should_apply_extra_charge_for_non_local_rider,m=e.extra_charge_percentage_for_non_local_rider,f=e.fleetCountry;t.supported_payment_method_types&&t.supported_payment_method_types.length&&(t.supported_payment_method_types=["Card"]),this.form={payment:t,paymentId:a,orgId:n,useOrgPaymentGateway:i,topup:s,should_auto_refill_wallet_on_negative_balance:l,auto_refill_amount:d,is_rider_allowed_to_toggle_auto_refill_setting:c,is_free_ride_allowed:p,should_apply_extra_charge_for_non_local_rider:u,extra_charge_percentage_for_non_local_rider:m,fleetCountry:f},this.fleetPaymentDetails=t||this.fleetPaymentDetails,this.currencySymbol=o,i?(this.form.payment=this.orgPaymentConfig,console.log("ff3-useOrgPayment",!0,this.orgPaymentConfig)):(this.form.payment=this.fleetPaymentDetails,console.log("ff3-useOrgPayment",!1)),this.form.payment=Object(r["a"])(Object(r["a"])({},this.form.payment),{},{sandbox_mode:!this.form.payment.sandbox_mode}),console.log(this.form,"ff3")}}},form:{deep:!0,immediate:!1,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:3,data:this.form})}},"form.useOrgPaymentGateway":function(e){this.form.payment=e?Object(r["a"])(Object(r["a"])({},this.orgPaymentConfig),{},{sandbox_mode:!this.form.payment.sandbox_mode}):Object(r["a"])(Object(r["a"])({},this.fleetPaymentDetails),{},{sandbox_mode:!this.form.payment.sandbox_mode})}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,s,l,c,p,u,m,f,g,h,_,v,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(c in a=e.form.paymentId,n=a?d["c"].paymentGateway.update(a):d["c"].paymentGateway.create(),i=a?"PATCH":"POST",console.log({paymentMethod:i}),o=new FormData,s=JSON.stringify(e.form.payment.supported_payment_method_types),l=Object(r["a"])(Object(r["a"])({},e.form.payment),{},{sandbox_mode:!e.form.payment.sandbox_mode,supported_payment_method_types:null!==s&&void 0!==s?s:JSON.stringify(["Card"]),organization:e.form.orgId?e.form.orgId:e.orgId,fleet:e.primaryKey}),l)o.append(c,l[c]);for(g in p=d["c"].fleet.update(e.primaryKey),u="PATCH",m=new FormData,f=Object(r["a"])({},e.form.topup),f)f[g]&&(e.haveTopupData=!0,m.append(g,f[g]));if(e.isLoading=!0,e.haveTopupData&&e.$http({url:p,method:u,data:m}),h=new FormData,h.append("should_auto_refill_wallet_on_negative_balance",e.form.should_auto_refill_wallet_on_negative_balance),h.append("auto_refill_amount",e.form.auto_refill_amount),h.append("is_rider_allowed_to_toggle_auto_refill_setting",e.form.is_rider_allowed_to_toggle_auto_refill_setting),e.$http({url:d["c"].fleet.update(e.primaryKey),method:"PATCH",data:h}),_=new FormData,_.append("is_free_ride_allowed",e.form.is_free_ride_allowed),_.append("should_apply_extra_charge_for_non_local_rider",e.form.should_apply_extra_charge_for_non_local_rider),e.form.should_apply_extra_charge_for_non_local_rider&&_.append("extra_charge_percentage_for_non_local_rider",e.form.extra_charge_percentage_for_non_local_rider),e.$http({url:d["c"].fleet.update(e.primaryKey),method:"PATCH",data:_}),!e.form.useOrgPaymentGateway){t.next=28;break}return e.updatePaymentGatewayConfigFlag(e.form.useOrgPaymentGateway),t.abrupt("return");case 28:return v=e.$http({url:n,method:i,data:o}),y=[v],t.next=32,e.$http.all(y).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a[0],o={payment:i.data};console.log(o),e.updatePaymentGatewayConfigFlag(e.form.useOrgPaymentGateway);var r="Fleet Payment Settings ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:r})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})}));case 32:case"end":return t.stop()}}),t)})))()},updatePaymentGatewayConfigFlag:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("use_org_payment_gateway_config",e),a.next=4,t.$http.patch(d["c"].fleet.update(t.primaryKey),n).then((function(e){console.log("step-3-fleet-update",e),t.$emit("save",{step:3})})).catch((function(e){console.log("step-3-fleet-update-error",{err:e})})).finally((function(){return t.isLoading=!1}));case 4:case"end":return a.stop()}}),a)})))()}}},U=N,z=(a("deab"),Object($["a"])(U,j,B,!1,null,"70927d9a",null)),K=z.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"py-2"},[a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.schedule.title.useDefaultOrgBusinessHoursCheckbox"),name:e.$t("components.fleetManagement.addEdit.steps.schedule.title.useDefaultOrgBusinessHoursCheckbox"),wrapped:""},model:{value:e.form.use_org_business_hours,callback:function(t){e.$set(e.form,"use_org_business_hours",t)},expression:"form.use_org_business_hours"}})],1),a("div",{staticClass:"grid grid-cols-12 py-2 gap-x-1 "},[a("div",{staticClass:"col-span-5"},[a("p",{staticClass:"font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.day"))+" ")])]),a("div",{staticClass:"col-span-7"},[a("div",{staticClass:"flex gap-x-1"},[a("div",{staticClass:"w-1/2"},[a("span",{staticClass:"hidden md:block font-bold",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.startingTime"))+" ")]),a("span",{staticClass:"block md:hidden font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v("Start")])]),a("div",{staticClass:"w-1/2"},[a("span",{staticClass:"hidden md:block font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v(" "+e._s(e.$t("components.fleetManagement.addEdit.steps.schedule.title.endingTime"))+" ")]),a("span",{staticClass:"block md:hidden font-bold ",class:e.form.use_org_business_hours?"text-gray-500":"text-gray-800"},[e._v("End")])])])])]),e._l(e.getSchedules,(function(t,n){return[a("div",{key:n,staticClass:"grid grid-cols-12 py-2 gap-x-1 ",class:n%2?"bg-gray-50":""},[a("div",{staticClass:"col-span-5  flex items-center"},[a("t-toggle",{attrs:{variant:"success",readonly:e.form.use_org_business_hours},model:{value:t.is_active,callback:function(a){e.$set(t,"is_active",a)},expression:"item.is_active"}}),a("span",{staticClass:"ml-1 md-3 font-bold text-14px  ",class:e.form.use_org_business_hours?"text-gray-500":"text-oGray"},[e._v(e._s(t.day))])],1),a("div",{staticClass:"col-span-7 "},[a("div",{staticClass:"flex gap-x-1 items-center"},[a("div",{staticClass:"w-1/2 flex items-center"},[e.form.use_org_business_hours||!t.is_active?a("div",{staticClass:"bg-gray-200 border-1 border-gray-700 px-5 py-1 w-full rounded-md text-gray-400"},[a("p",[e._v(e._s(t.start_time))])]):a("ClockPicker",{attrs:{placeholder:"--:--"},model:{value:t.start_time,callback:function(a){e.$set(t,"start_time",a)},expression:"item.start_time"}})],1),a("div",{staticClass:"w-1/2  flex items-center "},[e.form.use_org_business_hours||!t.is_active?a("div",{staticClass:"bg-gray-200 border-1 border-gray-700 px-5 py-1 w-full rounded-md  text-gray-400"},[a("p",[e._v(e._s(t.end_time))])]):a("ClockPicker",{attrs:{placeholder:"--:--"},model:{value:t.end_time,callback:function(a){e.$set(t,"end_time",a)},expression:"item.end_time"}})],1)])])])]})),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v("Save")])],2)]}}])})},V=[],H=a("6eb7"),W={name:"Step4",components:{ClockPicker:H["a"]},props:{primaryKey:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!0,form:{use_org_business_hours:null,fleet_schedules:[],org_schedules:[]}}},created:function(){var e=this;this.formData||this.$http.get(d["c"].fleet.details(this.primaryKey)).then((function(t){e.form.use_org_business_hours=t.data.use_org_business_hours,t.data.business_hour_settings.forEach((function(t){e.mapDataWithModel("fleet",t)})),t.data.org_business_hour_settings.forEach((function(t){e.mapDataWithModel("org",t)}))})).catch((function(e){return console.log(e)})).finally((function(){return e.isLoading=!1}))},watch:{formData:{deep:!0,immediate:!0,handler:function(e){var t=this;e&&(this.isLoading=!1,this.form.use_org_business_hours=e.use_org_business_hours,e.business_hour_settings.forEach((function(e){t.mapDataWithModel("fleet",e)})),e.org_business_hour_settings.forEach((function(e){t.mapDataWithModel("org",e)})))}}},computed:{getSchedules:function(){return this.form.use_org_business_hours?this.form.org_schedules:this.form.fleet_schedules}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,a="PATCH",n=d["c"].fleet.update(e.primaryKey),i=new FormData,i.append("use_org_business_hours",e.form.use_org_business_hours),o=e.$http({url:n,method:a,data:i}),r=[o],e.form.use_org_business_hours||(s=[],e.form.fleet_schedules.length&&(e.form.fleet_schedules.forEach((function(t){var a="PATCH",n=d["c"].settings.businessHour.update(t.id),i=new FormData;i.append("is_active",t.is_active),i.append("start_time",t.start_time),i.append("end_time",t.end_time);var o=e.$http({url:n,method:a,data:i});s.push(o)})),s.forEach((function(e){return r.push(e)})))),t.next=10,e.$http.all(r).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];console.log("step-res",a);var i="Fleet Settings updated successfully";e.$notify({group:"bottomLeft",type:"success",title:"Success",text:i}),e.$emit("save",{step:4})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 10:case"end":return t.stop()}}),t)})))()},formatTimeForClockPicker:function(e){var t=e.split(":");return t[0]+":"+t[1]},mapDataWithModel:function(e,t){"org"===e&&this.form.org_schedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)}),"fleet"===e&&this.form.fleet_schedules.push({id:t.id,day:t.day,is_active:t.is_active,start_time:this.formatTimeForClockPicker(t.start_time),end_time:this.formatTimeForClockPicker(t.end_time)})}}},Y=W,J=Object($["a"])(Y,G,V,!1,null,null,null),X=J.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStep)}}},[a("div",{staticClass:"mb-6 border-b"},[a("TCheckbox",{attrs:{label:e.$t("components.fleetManagement.addEdit.steps.operator.title.doNotNeedOperatorConfigCheckbox"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.doNotNeedOperatorConfigCheckbox"),wrapped:""},model:{value:e.skipOperatorApp,callback:function(t){e.skipOperatorApp=t},expression:"skipOperatorApp"}})],1),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingEarningRate"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingEarningRate"),placeholder:"e.g. 20",disabled:e.skipOperatorApp,haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.charging_task.rate,callback:function(t){e.$set(e.form.charging_task,"rate",t)},expression:"form.charging_task.rate"}}),a("text-input",{attrs:{rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingPoint"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.chargingPoint"),placeholder:"e.g. 5",disabled:e.skipOperatorApp},model:{value:e.form.charging_task.point,callback:function(t){e.$set(e.form.charging_task,"point",t)},expression:"form.charging_task.point"}}),a("AppInput",{attrs:{type:"number",step:"0.01",rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalanceEarningRate"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalanceEarningRate"),placeholder:"e.g. 20",disabled:e.skipOperatorApp,haveUnitText:!0,unitText:e.currencySymbol},model:{value:e.form.rebalance_task.rate,callback:function(t){e.$set(e.form.rebalance_task,"rate",t)},expression:"form.rebalance_task.rate"}}),a("text-input",{attrs:{rules:"",label:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalancePoint"),name:e.$t("components.fleetManagement.addEdit.steps.operator.title.rebalancePoint"),placeholder:"e.g. 5",disabled:e.skipOperatorApp},model:{value:e.form.rebalance_task.point,callback:function(t){e.$set(e.form.rebalance_task,"point",t)},expression:"form.rebalance_task.point"}}),a("button",{ref:"submitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])],1)]}}])})},Q=[],ee=a("e94b"),te={name:"Step5",components:{TextInput:ee["default"]},props:{primaryKey:{required:!0},formData:{required:!1},isEditing:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,skipOperatorApp:!1,form:{charging_task:{rate:"",point:""},rebalance_task:{rate:"",point:""}},permanentAddressIsSame:!1,currencySymbol:""}},watch:{formData:{immediate:!0,deep:!0,handler:function(e){e&&(this.form=Object(r["a"])({},e.data),this.currencySymbol=e.currencySymbol)}},form:{immediate:!1,deep:!0,handler:function(e){Object(h["c"])(this.formData,e)||this.$emit("dirty",{step:5,data:this.form})}}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.submitButton.click();case 2:case"end":return t.stop()}}),t)})))()},submitStep:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,r,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.skipOperatorApp){t.next=3;break}return e.$emit("save",{step:5}),t.abrupt("return");case 3:for(i in a=d["c"].fleet.operator.charging(e.primaryKey),n=new FormData,e.form.charging_task)n.append(i,e.form.charging_task[i]);for(l in o=e.$http.patch(a,n),r=d["c"].fleet.operator.rebalance(e.primaryKey),s=new FormData,e.form.rebalance_task)s.append(l,e.form.rebalance_task[l]);return c=e.$http.patch(r,s),e.isLoading=!0,t.next=14,e.$http.all([o,c]).then(e.$http.spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a[0],o=a[1],r={charging_task:i.data,rebalance_task:o.data};console.log("submit3",r),e.$emit("save",{step:5,data:r});var s="Fleet ".concat(e.isEditing?"updated":"added"," successfully");e.$notify({group:"bottomLeft",type:"success",title:"Success",text:s})}))).catch((function(t){console.error("Error occured!",t),e.$notify({group:"bottomLeft",type:"error",title:"Error occured!",text:t.response.data.detail})})).finally((function(){return e.isLoading=!1}));case 14:case"end":return t.stop()}}),t)})))()}}},ae=te,ne=(a("7777"),Object($["a"])(ae,Z,Q,!1,null,"1293add3",null)),ie=(ne.exports,{name:"FleetAddEdit",components:{EdgeStack:c["a"],XStepper:p["a"],XStepperNavigation:u["a"],AppButton:m["default"],Step1:O,Step2:F,Step3:K,Step4:X},props:{esId:{type:String,default:"fleet-add-edit"},stepperMode:{type:String,default:"free"},stepperStep:{type:Number,default:1},primaryKey:{required:!1},rawData:{type:Object,required:!1},orgPaymentConfig:{type:Object,required:!1},busy:{type:Boolean,default:!1},operatorAppEnabled:{type:Boolean,default:!1},orgEmailSettings:{type:Object,required:!0}},data:function(){var e=[{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.details")),free:!0},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.configuration")),free:!1},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.payment")),free:!1},{title:"".concat(this.$t("components.fleetManagement.addEdit.tabs.schedule")),free:!1}];return{isLoading:!1,errors:[],stepperSteps:e,stepperCurrentStep:null,countries:[],serviceAreas:[],organizations:[],paymentGateways:[],primaryKeyProxy:null,orgIdProxy:null,isRidingTimeBaseWallet:null}},computed:{isEditing:function(){return!!this.rawData},orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},getRidingTimeBaseWalletStatus:function(){return this.isRidingTimeBaseWallet},getTitleText:function(){return this.isEditing?this.$t("components.fleetManagement.addEdit.headline.update"):this.$t("components.fleetManagement.addEdit.headline.add")},getSubmitButtonText:function(){return this.stepperCurrentStep>this.stepperSteps.length-1?this.$t("components.stepNavigation.finish"):this.isEditing?this.$t("components.stepNavigation.update"):this.$t("components.stepNavigation.saveAndContinue")},getStep1FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:1})),t=l()(this.rawData,e);return t.city=this.rawData.city.id,t.country=this.rawData.country.id,t}return null},getStep2FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:2})),t=l()(this.rawData,e);return t.currency_symbol=this.rawData.country.currency_symbol,Object(r["a"])(Object(r["a"])({},t),{},{vehicle_types_exempted_from_parking:t.vehicle_types_exempted_from_parking.length>0?t.vehicle_types_exempted_from_parking:["NONE"]})}return null},getStep3FormData:function(){if(this.rawData){var e,t=this.getFormModel({step:3}),a=t.payment,n=t.topup;console.log("topup-t",n);var i=null===(e=this.rawData)||void 0===e?void 0:e.default_payment_gateway_config,o=Object.keys(a),r=l()(i,o),s=Object.keys(n),d=l()(this.rawData,s);return console.log("getStep3FormData",i,r,d),{payment:r||{},paymentId:i&&i.id?i.id:"",useOrgPaymentGateway:this.rawData.use_org_payment_gateway_config,orgId:this.rawData&&this.rawData.organization?this.rawData.organization:"",topup:d,currencySymbol:this.rawData.country.currency_symbol,is_free_ride_allowed:this.rawData.is_free_ride_allowed,should_auto_refill_wallet_on_negative_balance:this.rawData.should_auto_refill_wallet_on_negative_balance,auto_refill_amount:this.rawData.auto_refill_amount,is_rider_allowed_to_toggle_auto_refill_setting:this.rawData.is_rider_allowed_to_toggle_auto_refill_setting,should_apply_extra_charge_for_non_local_rider:this.rawData.should_apply_extra_charge_for_non_local_rider,extra_charge_percentage_for_non_local_rider:this.rawData.extra_charge_percentage_for_non_local_rider,fleetCountry:this.rawData.country.name}}return null},getStep4FormData:function(){if(this.rawData){var e=Object.keys(this.getFormModel({step:4})),t=l()(this.rawData,e);return t}return null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(d["c"].dropdown.country()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 2:return e.countries=t.sent,t.next=5,e.$http.get(d["c"].organization.index()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 5:return e.organizations=t.sent,t.next=8,e.$http.get(d["c"].dropdown.serviceAreas()).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 8:return e.serviceAreas=t.sent,t.next=11,e.$http.get(d["c"].dropdown.paymentGateways()).then((function(e){return e.data.data})).catch((function(e){return console.log("paymentGatewayErr",e)}));case 11:return e.paymentGateways=t.sent,t.next=14,e.$http.get(d["c"].settings.riderApp.index(e.orgId)).then((function(e){if(1===e.data.rider_wallet_balance_type)return!0})).catch((function(e){return console.log("appSettingsErr",e)}));case 14:e.isRidingTimeBaseWallet=t.sent;case 15:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1}))},beforeDestroy:function(){this.$edgeStack.emitter.off(this.$edgeStack.getEventName("closed",this.esId))},watch:{primaryKey:{immediate:!0,handler:function(e){e&&(this.primaryKeyProxy=e)}},stepperStep:{immediate:!0,handler:function(e){this.stepperCurrentStep=e}}},methods:{onDirty:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.esId;return!0===e?this.$edgeStack.shouldConfirm(t):this.$edgeStack.shouldNotConfirm(t)},onSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{step:null,data:{}};if(console.log(e),1===e.step){this.primaryKeyProxy=e.data.id,this.orgIdProxy=e.data.organization;var t=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,t),this.beforeNextStep()}if(2===e.step){var a=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,a),this.beforeNextStep()}if(3===e.step){var n=[{title:"Details",free:!0},{title:"Configuration",free:!0},{title:"Payment",free:!0},{title:"Schedule",free:!0}];this.$xStepper.defineSteps(this.esId,n),this.beforeNextStep()}4===e.step&&(this.$xStepper.defineSteps(this.esId,this.stepperSteps),this.onLastStep())},beforeNextStep:function(){"free"===this.stepperMode?this.$edgeStack.shouldNotConfirm(this.esId):this.$edgeStack.shouldConfirm(this.esId),this.$xStepper.navigate(this.esId).next()},onLastStep:function(){var e=this;this.$edgeStack.shouldNotConfirm(this.esId),this.$edgeStack.close(this.esId),this.$edgeStack.emitter.on(this.$edgeStack.getEventName("closed",this.esId),(function(){e.stepperCurrentStep=1})),this.$emit("refresh")},onSubmit:function(e){this.$refs["step".concat(e.step)].submit()},getFormModel:function(e){var t=e.step;return 1===t?{name:"",organization:"",warehouse_name:"",warehouse_lat:"",warehouse_lon:"",rent_store_address:null,use_rent_store_location:null,use_company_details:!1,country:"",city:"",zip_code:"",address:"",whatsapp_business_number:"",support_phone_number:"",registration_no:"",tax_id:"",brand_logo:null}:2===t?{id:"",is_parking_required:!1,return_vehicle_to_pickup_area:!1,vehicle_types_exempted_from_parking:["NONE"],reservation_time:"",reservation_allowed:null,on_ride_location_update_frequency:"",off_ride_location_update_frequency:"",end_ride_picture:null,max_speed_limit:"",low_speed_limit:null,medium_speed_limit:null,high_speed_limit:null,visibility:"",is_group_trip_enabled:null,private_code:"",private_code_refresh_mins:"",email_enabled:!1,email_address:"",email_api_key:"",email_is_smtp:!1,email_host:"",email_port:"",email_password:"",email_encryption:"",pause_ride_enabled:"",user_init_balance:"",invitation_amount:"",invitee_invitation_amount:"",invitation_required_trips:"",riding_time_unit:1,minimum_riding_time_for_topup:0,amount_per_riding_time_unit:"",should_apply_tax_on_topup_amount:"",topup_tax_percentage:""}:3===t?{payment:{payment_gateway:"",client_id:"",secret_key:"",app_key:"",extra_key:"",sandbox_mode:!1,sandbox_client_id:"",sandbox_secret_key:"",sandbox_app_key:"",payone_mid:"",payone_portalid:"",payone_aid:"",payone_key:"",kkiapay_sandbox_public_key:"",kkiapay_sandbox_private_key:"",kkiapay_sandbox_secret:"",kkiapay_live_public_key:"",kkiapay_live_private_key:"",kkiapay_live_secret:"",supported_payment_method_types:["Card"],src_url:"",api_url:""},topup:{user_deposit:null,user_balance_threshold:null,user_topup_min_balance:null,user_topup_max_balance:null,user_topup_daily_limit:null},paymentId:"",should_auto_refill_wallet_on_negative_balance:!1,auto_refill_amount:0,is_rider_allowed_to_toggle_auto_refill_setting:!1}:4===t?{use_org_business_hours:!1,business_hour_settings:[],org_business_hour_settings:[]}:5===t?{charging_task:{rate:"",point:""},rebalance_task:{rate:"",point:""}}:void console.error("Unknown step param! - ".concat(t))}}}),oe=ie,re=(a("4f38"),Object($["a"])(oe,n,i,!1,null,"09e90716",null));t["a"]=re.exports},"499f":function(e,t,a){},"4a8a":function(e,t,a){"use strict";a("abdc")},"4d8c":function(e,t,a){var n=a("5c69");function i(e){var t=null==e?0:e.length;return t?n(e,1):[]}e.exports=i},"4f38":function(e,t,a){"use strict";a("a400")},5010:function(e,t,a){},"535d":function(e,t,a){"use strict";a("14a4")},5418:function(e,t,a){"use strict";a("955e")},"5ac1":function(e,t,a){},"5c69":function(e,t,a){var n=a("087d"),i=a("0621");function o(e,t,a,r,s){var l=-1,d=e.length;a||(a=i),s||(s=[]);while(++l<d){var c=e[l];t>0&&a(c)?t>1?o(c,t-1,a,r,s):n(s,c):r||(s[s.length]=c)}return s}e.exports=o},"5d6a":function(e,t,a){"use strict";a("ef45")},"5f81":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"block w-full pb-1 font-semibold leading-normal text-gray-700 text-14px  ",class:{"text-gray-700":!!e.error,"text-red-600":!!e.error,"flex items-center":e.isShowInfoSymbol}},[e._t("default",(function(){return[e._v(e._s(e.text))]})),e.isShowInfoSymbol?n("img",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"<div class='w-40 p-1 text-xs'>"+e.info+"</div>",expression:"`<div class='w-40 p-1 text-xs'>${info}</div>`",modifiers:{top:!0}}],staticClass:"cursor-pointer ml-1 h-4 w-4",attrs:{src:a("b581")}}):e._e()],2)},i=[],o={name:"InputLabel",props:{text:{type:String},error:{type:String},isShowInfoSymbol:{type:Boolean,default:!1},info:{type:String,default:""}}},r=o,s=a("2877"),l=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"6062b":function(e,t,a){"use strict";var n=a("6d61"),i=a("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"656b4":function(e,t,a){var n=a("e2e4"),i=a("f4d6");function o(e,t){t=n(t,e);var a=0,o=t.length;while(null!=e&&a<o)e=e[i(t[a++])];return a&&a==o?e:void 0}e.exports=o},"6d84":function(e,t,a){"use strict";a("ce45")},"6db8":function(e,t,a){"use strict";a("499f")},"758b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative w-full"},[a("google-places-autocomplete",{on:{resultChanged:e.onChangingPlace,resultCleared:e.onClearingPlace},scopedSlots:e._u([{key:"input",fn:function(t){var n=t.context,i=t.events,o=t.actions;return a("div",{},[a("label",{staticClass:"font-bold text-gray-700 text-14px"},[e._v(" "+e._s(e.label)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:n.input,expression:"context.input"}],class:e.disabled?"places-autocomplete disabled":"places-autocomplete enabled",attrs:{type:"search",autocomplete:"autocomplete-off",placeholder:e.placeholder,disabled:e.disabled},domProps:{value:n.input},on:{focus:i.inputHasReceivedFocus,input:[function(t){t.target.composing||e.$set(n,"input",t.target.value)},i.inputHasChanged],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),o.selectItemFromList.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),o.shiftResultsSelection.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),o.unshiftResultsSelection.apply(null,arguments))}]}})])}},{key:"item",fn:function(t){var n=t.place;return a("span",{},[a("i",{staticClass:"mr-3 fas fa-map-marker-alt text-oLightGray"}),e._v(" "+e._s(n.structured_formatting.main_text)+" "),a("span",{staticClass:"text-xs text-oLightGray"},[e._v(" "+e._s(n.structured_formatting.secondary_text?"- "+n.structured_formatting.secondary_text:"")+" ")])])}},{key:"activeItem",fn:function(t){var n=t.place;return a("span",{},[a("i",{staticClass:"mr-3 fas fa-map-marker-alt text-oLightGray"}),e._v(" "+e._s(n.structured_formatting.main_text)+" "),a("span",{staticClass:"text-xs text-oLightGray"},[e._v(" "+e._s(n.structured_formatting.secondary_text?"- "+n.structured_formatting.secondary_text:"")+" ")])])}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],o=a("1da1"),r=(a("96cf"),a("4d28")),s={name:"PlacesAutocomplete",props:{value:{required:!1},label:{type:String,required:!1,default:"Search Location"},disabled:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:"Enter address / location"}},components:{GooglePlacesAutocomplete:r["GooglePlacesAutocomplete"]},methods:{onChangingPlace:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$emit("update:place",e);case 1:case"end":return a.stop()}}),a)})))()},onClearingPlace:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("clear:place");case 1:case"end":return t.stop()}}),t)})))()}}},l=s,d=(a("3200"),a("2877")),c=Object(d["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},"765e":function(e,t,a){"use strict";a("e2ab")},"76dd":function(e,t,a){var n=a("ce86");function i(e){return null==e?"":n(e)}e.exports=i},7777:function(e,t,a){"use strict";a("003a")},7948:function(e,t){function a(e,t){var a=-1,n=null==e?0:e.length,i=Array(n);while(++a<n)i[a]=t(e[a],a,e);return i}e.exports=a},"7cd2":function(e,t,a){"use strict";a("cc64")},"85c0":function(e,t,a){"use strict";a("4645")},8604:function(e,t,a){var n=a("26e8"),i=a("e2c0");function o(e,t){return null!=e&&i(e,t,n)}e.exports=o},"89d9":function(e,t,a){var n=a("656b4"),i=a("159a"),o=a("e2e4");function r(e,t,a){var r=-1,s=t.length,l={};while(++r<s){var d=t[r],c=n(e,d);a(c,d)&&i(l,o(d,e),c)}return l}e.exports=r},"8c33":function(e,t,a){"use strict";a("3b08")},"955e":function(e,t,a){},9690:function(e,t,a){},"9cf9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-6 px-6 mt-2 w-full h-full bg-white rounded shadow "},[a("div",{staticClass:"flex justify-between items-center mb-6"},[a("div",{class:e.typographyOne},[e._v(e._s(e.title))]),e.editButton?a("div",[e.editPermissionStatus?a("oto-edit-button",{attrs:{variant:"gray"},on:{click:function(t){return e.handleClicking()}}}):e._e()],1):e._e()]),a("div",{staticClass:"info-grid-subheader",class:e.subheaderClass},[e._t("subheader",null,{typographyOne:e.typographyOne,typographyTwo:e.typographyTwo,typographyThree:e.typographyThree})],2),e.avatar?[a("display-avatar",{staticClass:"my-6",attrs:{avatar:e.avatar}})]:e._e(),e.data?a("div",{staticClass:"grid",class:e.gridClass},e._l(e.data,(function(t,n){return a("div",{key:n,staticClass:"grid grid-cols-2 my-3"},[a("div",{class:e.typographyTwo},[e._v(" "+e._s(t.text)+" ")]),"vehicleQRCodeURL"===t.key?a("div",{staticClass:"flex",class:e.typographyThree},[e._v(" "+e._s(t.value)+" "),a("div",{staticClass:"cursor-pointer ",on:{click:function(a){return e.copyToClipBoardText(t.value)}}},[a("i",{staticClass:"ml-3 far fa-copy"})])]):"currentLatLong"===t.key||"currentAddressCoords"===t.key?a("div",{staticClass:"flex",class:e.typographyThree},[a("span",{style:t.color?"color: "+t.color:""},[e._v(e._s(t.value))]),a("div",{staticClass:"cursor-pointer ",on:{click:function(a){return e.copyToClipBoardText("https://www.google.com/maps/search/?api=1&query="+t.value)}}},[a("i",{staticClass:"ml-3 far fa-copy"})])]):"phone_number"===t.key||"email"===t.key?a("div",{staticClass:"flex",class:e.typographyThree},[e._v(" "+e._s(t.value)+" "),e.editPermissionStatus?a("div",{staticClass:"cursor-pointer pl-3",on:{click:function(a){return e.handleKeyUpdate(t.key)}}},[a("svg",{staticClass:"w-4 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}})])]):e._e()]):a("div",{class:e.typographyThree,style:t.color?"color: "+t.color:""},["Assigned Fleet"===t.text||"currentFleet"===t.key?a("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewFleetProfile",params:{id:t.id}},target:"_blank"}},[e._v(" "+e._s(t.value)+" ")]):"Assigned Geofence"===t.text?a("router-link",{class:"text-blue-600",attrs:{to:{name:"ViewServiceArea",params:{id:t.id}},target:"_blank"}},[e._v(" "+e._s(t.value)+" ")]):a("span",[e._v(e._s(t.value))])],1)])})),0):e._e(),a("div",{staticClass:"info-grid-footer",class:e.footerClass},[e._t("footer",null,{typographyOne:e.typographyOne,typographyTwo:e.typographyTwo,typographyThree:e.typographyThree})],2)],2)},i=[],o=a("09b2"),r=a("315d"),s=a("9ea1"),l={name:"InfoGrid",mixins:[s["a"]],components:{DisplayAvatar:o["default"],OtoEditButton:r["a"]},props:{avatar:{required:!1,type:String},title:{required:!1,type:String,default:"Title"},data:{required:!1,type:Array},editButton:{required:!1,type:Boolean,default:!0},gridClass:{required:!1,type:String,default:"grid-cols-2"},footerClass:{required:!1,type:String,default:""},subheaderClass:{required:!1,type:String,default:""},type:{required:!1},editPermissionStatus:{type:Boolean,default:!1,required:!1}},data:function(){return{typographyOne:"font-semibold uppercase text-oDark text-xl",typographyTwo:"font-semibold text-14px text-oDark",typographyThree:"font-medium text-14px text-gray-500"}},mounted:function(){},methods:{handleClicking:function(){console.log("type = ",this.type),this.$emit("edit",this.type)},copyToClipBoardText:function(e){this.copyContentToClipboard(e,{title:"Copied",text:"Text has been copied to your clipboard"})},handleKeyUpdate:function(e){this.$emit("single-edit",e)}}},d=l,c=(a("1f6a"),a("2877")),p=Object(c["a"])(d,n,i,!1,null,null,null);t["a"]=p.exports},"9ea1":function(e,t,a){"use strict";t["a"]={methods:{copyContentToClipboard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{important:!1,title:"Copied",text:"Successfully copied to your clipboard"},a=document.createElement("textarea");a.value=e,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-99999px",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),this.$notify({group:t.important?"modal":"generic",type:"success",title:t.title,text:t.text},2e3)}}}},a24a:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={api:{index:"/dashboard/organizations/",single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/")},create:"/dashboard/organizations/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/")},summary:{},profile:{},fleets:{index:"/dashboard/fleets/",create:""},vehicleDomain:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-type-settings/")},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-type-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/vehicle-type-settings/".concat(e,"/")}}},events:{name:"organization",refresh:"refresh-organization",sorId:"organization",sorOpen:"sor-open-organization",sorClose:"sor-close-organization",sorToggle:"sor-toggle-organization",editingData:"edit-organization-data",editingStep1Data:"edit-organization-step-1-data",editingStep2Data:"edit-organization-step-2-data",editingStep3Data:"edit-organization-step-3-data",editingStep4Data:"edit-organization-step-4-data",succeededStep1:"succeeded-step-1",succeededStep2:"succeeded-step-2",succeededStep3:"succeeded-step-3",succeededStep4:"succeeded-step-4",viewingData:"view-organization-data"}}},a400:function(e,t,a){},abdc:function(e,t,a){},b345:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return d}));var n={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/basic-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/basic-settings/")}}},i={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/vehicle-settings/")}}},o={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/event-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(e,"/")}}},r={api:{index:"/dashboard/organization-behavior-points/",single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(e,"/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(e,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},s={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(e,"/")}},topup:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(e,"/topup-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(e,"/topup-settings/")}}}},l={api:{general:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-general-settings/")}},charging:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-charging-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-rebalancing-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/operator-task-rebalancing-settings/")}}}},d={api:{index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(e,"/business-hour-settings/")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(e,"/")}}}},bb35:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("FleetAddEdit",{attrs:{"es-id":e.ae.esId,"stepper-mode":e.ae.stepperMode,"stepper-step":e.ae.stepperStep,"primary-key":e.ae.primaryKey,"raw-data":e.ae.rawData,busy:e.ae.busy,"operator-app-enabled":e.hasOperatorApp,"org-email-settings":e.orgEmailSettings},on:{refresh:function(t){return e.$store.dispatch("fsTable/fetchData")}}}),e.isLoaded?e._e():a("section",{staticClass:"mt-2 h-96 bg-white shadow vld-parent"},[a("loading",{attrs:{active:!e.isLoaded,"is-full-page":!1}})],1),e.isLoaded?a("section",[a("add-edit-fleet",{attrs:{is_edit:e.is_edit}}),a("div",{staticClass:"grid lg:grid-cols-2 lg:space-x-2 md:space-x-0 md:space-y-2 md:grid-cols-1"},[a("info-grid",{attrs:{"grid-class":"grid-cols-1",title:e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.gridTitle"),data:e.getProfile()},on:{edit:function(t){return e.handleEditing({step:1})}}}),a("div",{staticClass:"grid grid-cols-1"},[a("content-section",{staticClass:"py-6 rounded-b-none rounded-t-lg shadow-none"},[a("div",{staticClass:"flex justify-between items-center"},[a("div",{staticClass:"text-xl font-semibold uppercase text-oDark"},[e._v(" "+e._s(e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.fleetVisibilityInfo.gridTitle"))+" ")]),a("oto-edit-button",{on:{click:function(t){return e.handleEditing({step:2})}}})],1),a("dashed-blue-border",{staticClass:"my-8 -mx-3"},[a("div",{staticClass:"fvc-code"},[a("div",{staticClass:"w-full text-center"},[a("t-input",{ref:"code",staticClass:"w-full text-center",attrs:{variant:"untraceable",readonly:"readonly"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("div",{staticClass:"font-normal text-14px text-oGray"},[e._v(" "+e._s(e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.fleetVisibilityInfo.infoTitle.fleetVisibilityPrivateCode"))+" ")])],1),a("div",{staticClass:"float-right mr-3 cursor-pointer text-oGray",on:{click:function(t){return e.copyToClipBoard()}}},[a("i",{staticClass:"far fa-copy"})])])]),a("div",{staticClass:"mt-2 mb-6 text-xs text-center text-oLightGray"},[e._v(" "+e._s(e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.fleetVisibilityInfo.infoTitle.lastUpdatedTime"))+" : "+e._s(e.getFormattedDateTime(e.profile.last_refreshed_at,"D MMM YYYY, h:mm:ss a"))+" ")])],1),a("info-grid",{attrs:{"grid-class":"grid-cols-1",title:e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.gridTitle"),data:e.getVehicle()},on:{edit:function(t){return e.handleEditing({step:2})}}})],1)],1),a("div",{staticClass:"grid mt-2 space-y-0 lg:grid-cols-2 md:grid-cols-1 lg:space-x-2 md:space-x-0 md:space-y-2"},[a("info-grid",{attrs:{"grid-class":"grid-cols-1",title:e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.gridTitle"),"edit-button":!1,data:e.getCompany()},on:{edit:function(t){return e.handleEditing({step:1})}}}),a("div",[a("info-grid",{attrs:{"grid-class":"grid-cols-1",title:e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.gridTitle"),"edit-button":!1,data:e.getEmail()},on:{edit:function(t){return e.handleEditing({step:2})}}})],1)],1),a("div",{staticClass:"grid grid-cols-1"},[a("div",{staticClass:"mt-4 w-full bg-white rounded"},[a("div",{staticClass:"lg:w-2/4 sm:w-full"},[a("info-grid",{staticClass:"shadow-none",attrs:{title:e.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.operatorAppInfo.gridTitle"),"grid-class":"grid-cols-1",data:e.getOperatorApp()},on:{edit:function(t){return e.handleEditing({type:"operator"})}}})],1)])])],1):e._e()],1)},i=[],o=a("1da1"),r=a("5530"),s=(a("b0c0"),a("96cf"),a("c644")),l=a("b345"),d=a("5a0c"),c=a.n(d),p=a("9cf9"),u=a("f625"),m=a("315d"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashed-blue-border"},[e._t("default")],2)},g=[],h=(a("d7ce"),a("2877")),_={},v=Object(h["a"])(_,f,g,!1,null,"0a093b26",null),y=v.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-over-right",{staticClass:"vld-parent",attrs:{id:e.sorId},on:{showModal:e.showModal},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"panel-title"},[e._v(e._s(e.titleText))]),a("div",{staticClass:"w-full"},[e.isOperatorAppEnabled?[a("stepper",{ref:"stepper",attrs:{steps:e.stepStatusArr,"with-divider":!1,edit:e.is_edit},on:{input:e.changeTabs,errors:e.checkErrors},scopedSlots:e._u([{key:"step-1",fn:function(){return[e._v(" Basic Info ")]},proxy:!0},{key:"step-2",fn:function(){return[e._v(" Configuration ")]},proxy:!0},{key:"step-3",fn:function(){return[e._v(" Operator App ")]},proxy:!0}],null,!1,739203639),model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}})]:[a("stepper",{ref:"stepper",attrs:{steps:e.stepStatusArr,"with-divider":!1,edit:e.is_edit},on:{input:e.changeTabs,errors:e.checkErrors},scopedSlots:e._u([{key:"step-1",fn:function(){return[e._v(" Basic Info ")]},proxy:!0},{key:"step-2",fn:function(){return[e._v(" Configuration ")]},proxy:!0}]),model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}})]],2)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"flex items-center justify-end mt-6"},[a("slide-over-right-trigger",{attrs:{id:e.sorId}},[a("anchor-button",{attrs:{variant:"secondary"}},[e._v("Cancel")])],1),a("t-button",{staticClass:"ml-3",attrs:{type:"submit"},on:{click:function(t){return e.submitStep(e.currentStep)}}},[e._v(" Save & Continue ")])],1)]},proxy:!0}])},[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("google-map-modal",{ref:"google_map",attrs:{map_modal:e.map_modal,location:e.loc},on:{closeGoogleModal:e.closeGoogleModal,saveGoogleModal:e.saveGoogleModal}}),e.errors.length>0?a("div",{staticClass:"pl-6 text-red-500"},e._l(e.errors,(function(t,n){return a("li",{key:n},[e._v(e._s(t))])})),0):e._e(),1!==e.currentStep||e.isLoading?e._e():[a("add-edit-fleet-step-1",{ref:"step1",on:{showgooglemodal:e.showGoogleModal,isValid:e.isValidFunc}})],2!==e.currentStep||e.isLoading?e._e():[a("add-edit-fleet-step-2",{ref:"step2",on:{isValid:e.isValidFunc}})],3===e.currentStep&&e.isOperatorAppEnabled&&!e.isLoading?[a("add-edit-fleet-step-3",{ref:"step3",on:{isValid:e.isValidFunc}})]:e._e()],2)},x=[],k=(a("b64b"),a("2f62")),w=a("4a9d"),$=a("04ec"),S=a("fd9d"),E=a("15e7"),C=a("da8c"),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"observer",staticClass:"vld-parent",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),n(e.submitStepOne)}}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"required",label:"Fleet Name",placeholder:"Fleet name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("input-label",{attrs:{error:"",text:"Organization"}}),a("t-rich-select",{attrs:{options:e.organizations,valueAttribute:"id",textAttribute:"name",placeholder:"Select"},model:{value:e.form.organization,callback:function(t){e.$set(e.form,"organization",t)},expression:"form.organization"}}),a("input-error-item",{attrs:{message:""}})],1)]),a("div",{staticClass:"relative flex items-center mb-6"},[a("div",{staticClass:"w-11/12"},[a("places-autocomplete",{on:{"place-changed":e.handleChangingPlace}})],1),a("div",{staticClass:"flex items-center justify-center w-1/12 google-map"},[a("div",{staticClass:"mt-6 mr-0 map-btn",on:{click:e.showGooglemapModal}},[a("i",{staticClass:"fas fa-map"})])])]),a("div",{staticClass:"flex items-center"},[a("text-input",{ref:"whs_input",attrs:{rules:"required",label:"Ware House Name",placeholder:"Ware House Name",disabled:!0},model:{value:e.form.warehouse_name,callback:function(t){e.$set(e.form,"warehouse_name",t)},expression:"form.warehouse_name"}})],1),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{ref:"lng_input",attrs:{rules:"required",label:"Longitude",placeholder:"Longitude",disabled:!0},model:{value:e.form.warehouse_lon,callback:function(t){e.$set(e.form,"warehouse_lon",t)},expression:"form.warehouse_lon"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{ref:"lat_input",attrs:{rules:"required",label:"Latitude",placeholder:"Latitude",disabled:!0},model:{value:e.form.warehouse_lat,callback:function(t){e.$set(e.form,"warehouse_lat",t)},expression:"form.warehouse_lat"}})],1)]),a("label",{staticClass:"flex items-center w-full mt-8 mb-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.end_ride_picture,expression:"form.end_ride_picture"}],staticClass:"form-checkbox focus:shadow-none text-oBlack focus:border-oDark border-oBlack",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.end_ride_picture)?e._i(e.form.end_ride_picture,null)>-1:e.form.end_ride_picture},on:{change:function(t){var a=e.form.end_ride_picture,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);n.checked?r<0&&e.$set(e.form,"end_ride_picture",a.concat([o])):r>-1&&e.$set(e.form,"end_ride_picture",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.form,"end_ride_picture",i)}}}),a("span",{staticClass:"ml-3 font-semibold select-none text-14px text-oBlack"},[e._v(" End Ride Photo Required ")])]),a("label",{staticClass:"flex items-center w-full mt-8 mb-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.use_company_details,expression:"form.use_company_details"}],staticClass:"form-checkbox focus:shadow-none text-oBlack focus:border-oDark border-oBlack",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.use_company_details)?e._i(e.form.use_company_details,null)>-1:e.form.use_company_details},on:{change:function(t){var a=e.form.use_company_details,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);n.checked?r<0&&e.$set(e.form,"use_company_details",a.concat([o])):r>-1&&e.$set(e.form,"use_company_details",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.form,"use_company_details",i)}}}),a("span",{staticClass:"ml-3 font-semibold select-none text-14px text-oBlack"},[e._v(" Use Company Details ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("ValidationProvider",{attrs:{name:"Country",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Country *"}}),a("t-rich-select",{attrs:{options:e.countries,valueAttribute:"id",textAttribute:"name",placeholder:"Select a country",variant:{danger:!!n[0],readonly:e.getCompanyDetailsDisabledState},disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"City"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"City"}}),a("t-rich-select",{attrs:{options:e.cities,valueAttribute:"id",textAttribute:"name",placeholder:e.getCityPlaceholder,disabled:e.getCityDisabledState,variant:{danger:!!n[0],readonly:e.getCompanyDetailsDisabledState}},on:{"update:options":function(t){e.cities=t},"update:placeholder":function(t){e.getCityPlaceholder=t}},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-full"},[a("text-input",{attrs:{rules:"",label:"Zip Code",placeholder:"1234",disabled:e.getCompanyDetailsDisabledState},model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}})],1)]),a("div",[a("ValidationProvider",{attrs:{name:"Address",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Address"}}),a("t-textarea",{attrs:{rules:"",disabled:e.getCompanyDetailsDisabledState,variant:{readonly:e.getCompanyDetailsDisabledState}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"",label:"Registration ID",placeholder:"e.g. 123 446 7890"},model:{value:e.form.registration_no,callback:function(t){e.$set(e.form,"registration_no",t)},expression:"form.registration_no"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"",label:"Tax ID",placeholder:"e.g. TX123 456 7890"},model:{value:e.form.tax_id,callback:function(t){e.$set(e.form,"tax_id",t)},expression:"form.tax_id"}})],1)]),a("button",{ref:"stepOneSubmitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])])]}}])})},M=[],D=(a("d3b7"),a("25f0"),a("07ac"),a("9f07")),O=a.n(D),A=a("8992"),I=a("a24a"),P=a("e94b"),L=a("5f81"),R=a("755e"),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full"},[a("input-label",{attrs:{text:e.label}}),a("gmap-autocomplete",{staticClass:"block w-full px-4 py-2 leading-normal bg-white border border-gray-400 rounded outline-none h-35px focus:outline-none focus:border-gray-700 focus:placeholder-gray-500",on:{place_changed:e.handleChangingPlace},scopedSlots:e._u([{key:"input",fn:function(e){return[a("v-text-field",{ref:"input",attrs:{outlined:"","prepend-inner-icon":"place",placeholder:"Location Of Event"},on:{listeners:e.listeners,attrs:e.attrs}})]}}])})],1)},F=[],j={name:"PlacesAutocomplete",components:{InputLabel:L["default"]},props:{label:{type:String,required:!1,default:"Fleet wirehouse location"}},methods:{handleChangingPlace:function(e){this.$emit("place-changed",e)}}},B=j,N=(a("41bb"),Object(h["a"])(B,q,F,!1,null,"48250461",null)),U=N.exports,z={name:"AddEditFleetStep1",components:{InputLabel:L["default"],TextInput:P["default"],PlacesAutocomplete:U},data:function(){return{isLoading:!1,item:{},form:{},useCompanyDetails:!1,service_areas:[],countries:void 0,cities:void 0,cityIsLoading:!1,place_id:"",house_name:"",organizations:[],zoom:12,center:{lat:10,lng:10}}},computed:Object(r["a"])(Object(r["a"])({google:R["gmapApi"]},Object(k["b"])("fleet",["isEditing","currentEditingFleetId"])),{},{step1:function(){return this.$store.state.fleet.step1},getCountry:function(){return this.form.country||void 0},getOrganization:function(){return this.form.organization||void 0},getCityDisabledState:function(){return!this.form.country||(!!this.cityIsLoading||(this.getCompanyDetailsDisabledState,!1))},getCityPlaceholder:function(){return this.form.country?this.cityIsLoading?"Loading ⟳":"Select city":"Select a country first"},getUseCompanyDetails:function(){return this.form.use_company_details},getCompanyDetailsDisabledState:function(){return!!this.getUseCompanyDetails}},Object(k["c"])({step1data:function(e){return e.fleet.step1},placeId:function(e){return e.fleet.place_id},latitude:function(e){return e.fleet.latitude},longitude:function(e){return e.fleet.longitude}})),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(I["a"].api.index).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 2:for(a=t.sent,n={id:"",name:"--"},e.organizations.push(n),i=0;i<a.length;i++)e.organizations.push(a[i]);return t.next=8,e.$http.get(A["a"].api.country).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 8:return e.countries=t.sent,t.next=11,e.$http.get(A["a"].api.serviceAreaFleets).then((function(e){return e.data.data})).catch((function(e){return console.log(e)}));case 11:e.service_areas=t.sent,console.log("res = ",e.isEditing),e.isEditing&&(e.form=e.step1,e.house_name=e.step1.warehouse_name);case 14:case"end":return t.stop()}}),t)})))()},watch:{getCountry:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.form.city=(this.isEditing,this.form.city),this.cityIsLoading=!0,e.next=4,this.$http.get(A["a"].api.city(t)).then((function(e){return e.data.data})).catch((function(e){return console.log(e)})).finally((function(){return a.cityIsLoading=!1}));case 4:this.cities=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getOrganization:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""==t||void 0==t?(this.form.country=void 0,this.form.city=void 0,this.form.address="",this.form.zip_code="",this.form.use_company_details=!1):this.$http.get(I["a"].api.single(t)).then((function(e){var t=e.data;a.form.use_company_details?(a.form.city=t.city.id,a.form.country=t.country.id,a.form.address=t.address):a.backup=t})).catch((function(e){console.log("err - ",e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),currentEditingFleetId:function(e){console.log(this.currentEditingFleetId),console.log("wae1",this.step1),this.form=void 0===e?{}:Object(r["a"])({},this.step1)},getUseCompanyDetails:function(e){!0===e?this.backup?(this.form.city=this.backup.city.id,this.form.country=this.backup.country.id,this.form.address=this.backup.address,this.form.zip_code=this.backup.zip_code):(this.form.city=3,this.form.country=19,this.form.zip_code="1231",this.form.address="the_scoot@gmail.com"):(this.form.country=void 0,this.form.city=void 0,this.form.address="",this.form.zip_code="")}},methods:{gauto:function(e){console.log("gmUA:",e)},getAddressData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("data = ",e),n=e.geometry.location.lat().toString(),i=e.geometry.location.lng().toString(),t.getWareHouseName(n,i),t.$store.dispatch("fleet/saveLatLng",{data:{latitude:e.geometry.location.lat().toString(),longitude:e.geometry.location.lng().toString()}}),t.changeValues();case 6:case"end":return a.stop()}}),a)})))()},reloadData:function(){this.form=this.step1},showGooglemapModal:function(){this.$emit("showgooglemodal")},handleChangingPlace:function(e){console.log("sfsdsfsfsa",e),this.$refs.whs_input.innerValue=e.formatted_address,this.$refs.lat_input.innerValue=e.geometry.location.lat(),this.$refs.lng_input.innerValue=e.geometry.location.lng()},getWareHouseName:function(e,t){var a=new this.google.maps.Geocoder,n={lat:e,lng:t},i=this;a.geocode({location:n},(function(a,n){"OK"===n&&(a[1]?(i.form.warehouse_name=a[1].formatted_address,i.$refs.lat_input.innerValue=e,i.$refs.lng_input.innerValue=t):(window.alert("No results found"),i.$refs.lat_input.innerValue=e,i.$refs.lng_input.innerValue=t))}))},refreshLatLng:function(){this.getWareHouseName(this.latitude,this.longitude)},changeValues:function(){},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("normal"==t){e.next=7;break}return e.next=3,this.$refs.observer.validate();case 3:o=e.sent,this.$emit("isValid",o,a,n,i),e.next=8;break;case 7:this.$refs.stepOneSubmitButton.click();case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,n,i){return e.apply(this,arguments)}return t}(),submitStepOne:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,t=this.isEditing?"PATCH":"POST",a=this.isEditing?s["a"].api.update(this.currentEditingFleetId):s["a"].api.create,this.form.use_company_details&&(this.form.city="3"),delete this.form.service_area,this.form.off_ride_location_update_frequency=5,this.form.on_ride_location_update_frequency=1,this.form.max_speed_limit="LOW",this.form.reservation_time="1",n=new O.a(this.form).toFormData(),i=this.isEditing?"Fleet Basic Info updated successfully":"Fleet Basic Info added successfully",e.prev=11,e.next=14,this.$http({method:t,url:a,data:n});case 14:return o=e.sent,this.isLoading=!1,console.log({res:o.data}),this.$notify({group:"important",type:"success",title:"Success",text:i},5e3),console.log("response = ",o.data),w["a"].$emit(s["a"].events.succeededStep1,o.data),e.abrupt("return",!0);case 23:e.prev=23,e.t0=e["catch"](11),this.isLoading=!1,console.log({e1:e.t0.response.data}),r=Object.values(e.t0.response.data),r.length>0&&this.$emit("show_error",r[0][0]);case 29:case"end":return e.stop()}}),e,this,[[11,23]])})));function t(){return e.apply(this,arguments)}return t}()}},K=z,G=(a("4a8a"),Object(h["a"])(K,T,M,!1,null,null,null)),V=G.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"min-h-screen"},[a("ValidationObserver",{ref:"observer",staticClass:"vld-parent",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),n(e.submitStepTwo)}}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("ValidationProvider",{attrs:{name:"Is Parking Required",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Is Parking Required *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getParkingRequiredOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.is_parking_required,callback:function(t){e.$set(e.form,"is_parking_required",t)},expression:"form.is_parking_required"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Reservation Time",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Fleet Reservation Time *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getFleetReservationTimeOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.reservation_time,callback:function(t){e.$set(e.form,"reservation_time",t)},expression:"form.reservation_time"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("ValidationProvider",{attrs:{name:"Off Ride Frequency",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Location Update Frequency (On Ride) *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getFrequencyOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.on_ride_location_update_frequency,callback:function(t){e.$set(e.form,"on_ride_location_update_frequency",t)},expression:"form.on_ride_location_update_frequency"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"On Ride Frequency",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Location Update Frequency (Off Ride) *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getFrequencyOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.off_ride_location_update_frequency,callback:function(t){e.$set(e.form,"off_ride_location_update_frequency",t)},expression:"form.off_ride_location_update_frequency"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("ValidationProvider",{attrs:{name:"Max Speed",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Max Speed *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getMaxSpeedLimitOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.max_speed_limit,callback:function(t){e.$set(e.form,"max_speed_limit",t)},expression:"form.max_speed_limit"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Fleet visibility",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Fleet Visibility *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getVisibilityOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.visibility,callback:function(t){e.visibility=t},expression:"visibility"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]),e.getPrivateCodeVisibilityState?a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"required",label:"Private Code",placeholder:"Private Code"},model:{value:e.form.private_code,callback:function(t){e.$set(e.form,"private_code",t)},expression:"form.private_code"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Refresh Time (Private Code)",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Refresh Time (Private Code) *"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getFleetReservationTimeOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0]}},model:{value:e.form.private_code_refresh_time,callback:function(t){e.$set(e.form,"private_code_refresh_time",t)},expression:"form.private_code_refresh_time"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]):e._e(),a("label",{staticClass:"flex items-center w-full mt-8 mb-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email_enabled,expression:"form.email_enabled"}],staticClass:"form-checkbox focus:shadow-none text-oBlack focus:border-oDark border-oBlack",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.email_enabled)?e._i(e.form.email_enabled,null)>-1:e.form.email_enabled},on:{change:function(t){var a=e.form.email_enabled,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);n.checked?r<0&&e.$set(e.form,"email_enabled",a.concat([o])):r>-1&&e.$set(e.form,"email_enabled",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.form,"email_enabled",i)}}}),a("span",{staticClass:"ml-3 font-semibold select-none text-14px text-oBlack"},[e._v(" Use Organization Email Configuration ")])]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-full"},[a("text-input",{attrs:{rules:"",label:"Email Address",placeholder:"john_doe@gmail.com",disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_address,callback:function(t){e.$set(e.form,"email_address",t)},expression:"form.email_address"}})],1)]),a("label",{staticClass:"flex items-center w-full mt-8 mb-4 cursor-pointer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email_is_smtp,expression:"form.email_is_smtp"}],staticClass:"form-checkbox focus:shadow-none text-oBlack focus:border-oDark border-oBlack",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.email_is_smtp)?e._i(e.form.email_is_smtp,null)>-1:e.form.email_is_smtp},on:{change:function(t){var a=e.form.email_is_smtp,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=null,r=e._i(a,o);n.checked?r<0&&e.$set(e.form,"email_is_smtp",a.concat([o])):r>-1&&e.$set(e.form,"email_is_smtp",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.form,"email_is_smtp",i)}}}),a("span",{staticClass:"ml-3 font-semibold select-none text-14px text-oBlack"},[e._v(" Email Is SMTP ")])]),e.getShowSMTPMailFields?e._e():a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-full"},[a("text-input",{attrs:{rules:"",label:"Email API Key",placeholder:"xvgsf^$R7865rtxsnb",disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_api_key,callback:function(t){e.$set(e.form,"email_api_key",t)},expression:"form.email_api_key"}})],1)]),e.getShowSMTPMailFields?a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"",label:"Email Host",placeholder:"smtp.gmail.com",disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_host,callback:function(t){e.$set(e.form,"email_host",t)},expression:"form.email_host"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"",label:"Email Port",placeholder:"587",disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_port,callback:function(t){e.$set(e.form,"email_port",t)},expression:"form.email_port"}})],1)]):e._e(),e.getShowSMTPMailFields?a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"",label:"Email Passoword",placeholder:"*** *** ***",type:"password",disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_password,callback:function(t){e.$set(e.form,"email_password",t)},expression:"form.email_password"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("ValidationProvider",{attrs:{name:"Email Encryption",rules:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input-label",{attrs:{error:n[0],text:"Email Encryption"}}),a("t-rich-select",{attrs:{placeholder:"Select one",options:e.getEmailEncryptionOptions,valueAttribute:"value",textAttribute:"text",hideSearchBox:!0,variant:{danger:!!n[0],readonly:e.getUseOrgEmailDisabledState},disabled:e.getUseOrgEmailDisabledState},model:{value:e.form.email_encryption,callback:function(t){e.$set(e.form,"email_encryption",t)},expression:"form.email_encryption"}}),a("input-error-item",{attrs:{message:n[0]}})]}}],null,!0)})],1)]):e._e(),a("button",{ref:"stepTwoSubmitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])])]}}])})],1)},W=[],Y=a("53ca"),J={name:"AddEditFleetStep2",components:{InputLabel:L["default"],TextInput:P["default"]},data:function(){return{isLoading:!1,form:{},supportMailConfig:!1,vehicleTypes:[],visibility:void 0,subscription:void 0,subscriptionId:void 0,subscriptionPlans:void 0}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(k["b"])("fleet",["isEditing","currentEditingFleetId"])),Object(k["c"])({step1:function(e){return e.fleet.step1},step2:function(e){return e.fleet.step2}})),{},{getParkingRequiredOptions:function(){return[{value:"YES",text:"Yes"},{value:"NO",text:"No"}]},getVisibilityOptions:function(){return[{value:"PU",text:"Public"},{value:"PR",text:"Private"}]},getPrivateCodeVisibilityState:function(){var e;return null!==(e="PR"===this.visibility)&&void 0!==e&&e},getShowSMTPMailFields:function(){return!0===this.form.email_is_smtp},getFleetReservationTimeOptions:function(){return[{value:5,text:"5 Min"},{value:10,text:"10 Min"},{value:15,text:"15 Min"},{value:20,text:"20 Min"},{value:25,text:"25 Min"},{value:30,text:"30 Min"}]},getMaxSpeedLimitOptions:function(){return[{value:0,text:"Low"},{value:1,text:"Medium"},{value:2,text:"High"}]},getFrequencyOptions:function(){return[{value:30,text:"30s"},{value:60,text:"1m"},{value:90,text:"1m 30s"},{value:120,text:"2m"},{value:150,text:"2m 30s"},{value:180,text:"3m"},{value:210,text:"3m 30s"},{value:240,text:"4m"}]},getEmailEncryptionOptions:function(){return[{value:0,text:"TLS"},{value:1,text:"SSL"},{value:2,text:"None"}]},getUseOrgEmail:function(){return this.form.email_enabled},getUseOrgEmailDisabledState:function(){return!!this.getUseOrgEmail}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("data = ",e.step2,e.isEditing),e.step2&&(0==e.step2.is_parking_required?e.step2.is_parking_required="YES":1==e.step2.is_parking_required&&(e.step2.is_parking_required="NO"),0==e.step2.visibility?e.step2.visibility="YES":1==e.step2.visibility&&(e.step2.visibility="NO"),"LOW"==e.step2.max_speed_limit?e.step2.max_speed_limit=0:"MEDIUM"==e.step2.max_speed_limit?e.step2.max_speed_limit=1:"HIGH"==e.step2.max_speed_limit&&(e.step2.max_speed_limit=2),e.visibility=e.step2.visibility,e.form=e.step2);case 2:case"end":return t.stop()}}),t)})))()},watch:{getUseOrgEmail:function(e){!0===e?(this.form.email_host="smtp.gmail.com",this.form.email_port="587",this.form.email_address="the_scoot@gmail.com",this.form.email_password="secret",this.form.email_encryption=0):(this.form.email_host="",this.form.email_port="",this.form.email_address="",this.form.email_password="",this.form.email_encryption="")}},methods:{reloadData:function(){console.log("update = ",this.step2),0==this.step2.is_parking_required?this.step2.is_parking_required="YES":1==this.step2.is_parking_required&&(this.step2.is_parking_required="NO"),"LOW"==this.step2.max_speed_limit?this.step2.max_speed_limit=0:"MEDIUM"==this.step2.max_speed_limit?this.step2.max_speed_limit=1:"HIGH"==this.step2.max_speed_limit&&(this.step2.max_speed_limit=2),this.visibility=this.step2.visibility,this.form=this.step2},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("normal"==t||!this.isEditing){e.next=7;break}return e.next=3,this.$refs.observer.validate();case 3:o=e.sent,this.$emit("isValid",o,a,n,i),e.next=8;break;case 7:this.$refs.stepTwoSubmitButton.click();case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,n,i){return e.apply(this,arguments)}return t}(),submitStepTwo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,console.log("fs1",this.step1),t="PATCH",a=s["a"].api.update(this.currentEditingFleetId),console.log("id = ",this.currentEditingFleetId),this.form.is_parking_required="YES"===this.form.is_parking_required,this.form.visibility=this.visibility,0==this.form.email_encryption?this.form.email_encryption="TLS":1==this.form.email_encryption?this.form.email_encryption="SSL":2==this.form.email_encryption&&(this.form.email_encryption="None"),0==this.form.max_speed_limit?this.form.max_speed_limit="LOW":1==this.form.max_speed_limit?this.form.max_speed_limit="MEDIUM":2==this.form.max_speed_limit&&(this.form.max_speed_limit="HIGH"),console.log("form = ",this.form),n=new O.a(Object(r["a"])({},this.form)).toFormData(),i=this.isEditing?"Fleet Configuration updated successfully":"Fleet Configuration added successfully",console.log("step2 started submitting"),e.prev=13,e.next=16,this.$http({method:t,url:a,data:n});case 16:return o=e.sent,console.log(Object(Y["a"])(o)),console.log({res:o.data}),this.isLoading=!1,this.$notify({group:"important",type:"success",title:"Success",text:i},5e3),w["a"].$emit(s["a"].events.succeededStep2,{res:o.data}),e.abrupt("return",!0);case 25:e.prev=25,e.t0=e["catch"](13),this.isLoading=!1,console.log({e2:e.t0});case 29:case"end":return e.stop()}}),e,this,[[13,25]])})));function t(){return e.apply(this,arguments)}return t}()}},X=J,Z=Object(h["a"])(X,H,W,!1,null,"e1b0082c",null),Q=Z.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ValidationObserver",{ref:"observer",staticClass:" vld-parent",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("loading",{attrs:{active:e.isLoading,"is-full-page":!1},on:{"update:active":function(t){e.isLoading=t}}}),a("form",{staticClass:"px-6 pt-6",on:{submit:function(t){return t.preventDefault(),n(e.submitStepThree)}}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"",label:"Earning Rate(Charging)",placeholder:"e.g. $20"},model:{value:e.form.charging_rate,callback:function(t){e.$set(e.form,"charging_rate",t)},expression:"form.charging_rate"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"",label:"Point Rate(Charging)",placeholder:"e.g. 5"},model:{value:e.form.charging_point,callback:function(t){e.$set(e.form,"charging_point",t)},expression:"form.charging_point"}})],1)]),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"w-1/2 pr-2"},[a("text-input",{attrs:{rules:"",label:"Earning Rate(Rebalance)",placeholder:"e.g. $20"},model:{value:e.form.rebalance_rate,callback:function(t){e.$set(e.form,"rebalance_rate",t)},expression:"form.rebalance_rate"}})],1),a("div",{staticClass:"w-1/2 pl-2"},[a("text-input",{attrs:{rules:"",label:"Point Rate(Rebalance) ",placeholder:"e.g. 5"},model:{value:e.form.rebalance_point,callback:function(t){e.$set(e.form,"rebalance_point",t)},expression:"form.rebalance_point"}})],1)]),a("button",{ref:"stepThreeSubmitButton",staticClass:"hidden",attrs:{type:"submit"}},[e._v(" Save ")])])]}}])})],1)},te=[],ae=(a("a9e3"),{name:"AddEditFleetStep3",components:{TextInput:P["default"]},data:function(){return{isLoading:!1,form:{},supportMailConfig:!1,vehicleTypes:[],visibility:void 0,subscription:void 0,subscriptionId:void 0,subscriptionPlans:void 0}},computed:Object(r["a"])(Object(r["a"])({},Object(k["b"])("fleet",["isEditing","currentEditingFleetId"])),Object(k["c"])({step1:function(e){return e.fleet.step1},step2:function(e){return e.fleet.step2},step3:function(e){return e.fleet.step3}})),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isEditing&&(e.form=e.step3);case 1:case"end":return t.stop()}}),t)})))()},methods:{reloadData:function(){console.log("update = ",this.step3)},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("normal"==t||!this.isEditing){e.next=7;break}return e.next=3,this.$refs.observer.validate();case 3:o=e.sent,this.$emit("isValid",o,a,n,i),e.next=8;break;case 7:this.$refs.stepThreeSubmitButton.click();case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,n,i){return e.apply(this,arguments)}return t}(),submitStepThree:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,o,r,l,d,c,p,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="PATCH",a=s["a"].api.single_charging(this.step1.id),n=s["a"].api.single_rebalance(this.step1.id),console.log("id = ",this.step1.id,a,n),i=this.isEditing?"Operator App updated successfully":"Operator App added successfully",this.isLoading=!0,e.prev=6,o="",r=null,l={point:this.form.charging_point,rate:Number(this.form.charging_rate)},r=new O.a(l).toFormData(),console.log("url = ",a,t),o=a,e.next=15,this.$http({method:t,url:o,data:r});case 15:return d=e.sent,console.log("first = ",d),o=n,c={point:this.form.rebalance_point,rate:this.form.rebalance_rate},r=new O.a(c).toFormData(),e.next=22,this.$http({method:t,url:o,data:r});case 22:return p=e.sent,console.log("second = ",p),this.$notify({group:"important",type:"success",title:"Success",text:i},5e3),this.isLoading=!1,u={charging:d.data},w["a"].$emit(s["a"].events.succeededStep3,{res:u}),e.abrupt("return",!0);case 31:e.prev=31,e.t0=e["catch"](6),this.isLoading=!1,console.log({e2:e.t0});case 35:case"end":return e.stop()}}),e,this,[[6,31]])})));function t(){return e.apply(this,arguments)}return t}()}}),ne=ae,ie=Object(h["a"])(ne,ee,te,!1,null,"7a4dcbad",null),oe=ie.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-easy-dialog",{attrs:{persistent:"",width:"700"},model:{value:e.map_modal,callback:function(t){e.map_modal=t},expression:"map_modal"}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-header flex"},[a("div",{staticClass:"flex items-center w-2/3"},[a("span",{staticClass:"drag"},[e._v(e._s(e.mtitle))])]),a("div",{staticClass:"block items-center justify-end  w-1/3 text-left mt-1"},[null!=e.marker?a("span",{staticClass:"lat-txt"},[e._v("Lat : "+e._s(e.marker.lat))]):e._e(),a("div",{staticClass:"flex items-center"},[null!=e.marker?a("span",{staticClass:"lat-txt"},[e._v("Lng : "+e._s(e.marker.lng))]):e._e()])])]),a("div",{staticClass:"modal-main"},[a("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"100%"},attrs:{zoom:e.zoom,center:e.center,"map-type-id":"terrain"},on:{click:e.setMarker}},[null!=e.marker?a("gmap-marker",{attrs:{position:e.marker,draggable:!0},on:{drag:e.setMarker}}):e._e()],1)],1),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"okbutton items-cetner flex",on:{click:e.okClicked}},[a("span",[e._v(e._s(e.mokButton))])]),a("div",{staticClass:"cancelbutton items-center flex",on:{click:e.cancelClicked}},[a("span",[e._v(e._s(e.mcancelButton))])])])])])},se=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.mountDom?a("mounting-portal",{attrs:{"mount-to":e.mountingTarget,append:""}},[a("transition",{attrs:{"enter-active-class":"v-easy-dialog--transition-ease-in","enter-class":"v-easy-dialog--opacity-0","enter-to-class":"v-easy-dialog--opacity-100","leave-active-class":"v-easy-dialog--transition-ease-out","leave-class":"v-easy-dialog--opacity-100","leave-to-class":"v-easy-dialog--opacity-0"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"v-easy-dialog--backdrop",class:e.backdropClass,style:e.backdropStyle,attrs:{role:"dialog","aria-hidden":!e.isOpen}},[a(e.backgroundBtnTag,{tag:"component",staticClass:"v-easy-dialog--backdrop-btn",attrs:{tabindex:"-1"},on:{click:e.attemptClose}}),a("div",{ref:"dialogContent",staticClass:"v-easy-dialog--content-container",class:{"v-easy-dialog--content-grow":e.growContent,"v-easy-dialog--persist":e.showPersistence,"v-easy-dialog--fullscreen":e.fullscreen},style:{width:e.fullscreen?"100%":e.width,maxHeight:e.fullscreen?"100%":e.maxHeight,"max-width":!e.fullscreen&&"90%"},attrs:{tabindex:"-1",id:"v-easy-dialog--content-"+e._uid,role:"document"}},[a("transition",{attrs:{"enter-active-class":"v-easy-dialog--transition-ease-in","enter-class":"v-easy-dialog--content-transition-closed","enter-to-class":"v-easy-dialog--content-transition-opened","leave-active-class":"v-easy-dialog--transition-ease-out","leave-class":"v-easy-dialog--content-transition-opened","leave-to-class":"v-easy-dialog--content-transition-closed"},on:{"after-enter":e.attemptFocus,"after-leave":function(t){e.mountDom=!1}}},[e.isOpen?e._t("default",null,{deactivate:e.attemptClose}):e._e()],2)],1)],1)])],1):e._e()},de=[],ce=a("2909"),pe=(a("4de4"),a("6062b"),a("3ca3"),a("ddb0"),a("99af"),a("2b88")),ue={props:{value:{type:Boolean,default:!1},width:{type:String,default:"600px"},growContent:{type:Boolean,default:!0},maxHeight:{type:String,default:"90%"},fullscreen:{type:Boolean,default:!1},backgroundBtnTag:{type:String,default:"button"},persistent:{type:Boolean,default:!1},backdropClass:{type:void 0},backdropStyle:{type:void 0},focusOn:{type:String,default:void 0},mountingTarget:{type:String,default:"body"}},components:{MountingPortal:pe["MountingPortal"]},data:function(){return{isOpen:!1,mountDom:!1,showPersistence:!1}},watch:{value:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){e?t.mountDom=e:t.isOpen=!1}))}},mountDom:{immediate:!0,handler:function(e){var t=this;if(document.body.dataset.openedDialogs||(document.body.dataset.openedDialogs=JSON.stringify([])),this.$nextTick((function(){t.isOpen=e})),e)this.pushOpenedDialogsAttr();else{this.cleanOpenedDialogsAttr();var a=this.openedDialogs(),n=a[a.length-1];if(n){var i=document.querySelector("#v-easy-dialog--content-".concat(n));i.focus()}}this.$emit("input",e)}}},methods:{attemptClose:function(){var e=this;this.persistent?(this.showPersistence=!0,setTimeout((function(){e.showPersistence=!1}),300)):this.isOpen=!1},attemptFocus:function(){var e=this.$refs.dialogContent;if(this.focusOn){var t=e.querySelector(this.focusOn);if(t)return t.focus()}e.focus()},cleanOpenedDialogsAttr:function(){var e=this,t=this.openedDialogs(),a=t.filter((function(t){return t!==e._uid}));this.updateOpenedDialogsAttr(a)},pushOpenedDialogsAttr:function(){var e=this.openedDialogs(),t=Object(ce["a"])(new Set([].concat(Object(ce["a"])(e),[this._uid])));this.updateOpenedDialogsAttr(t)},updateOpenedDialogsAttr:function(e){document.body.dataset.openedDialogs=JSON.stringify(e),document.body.style.overflow=e.length>0?"hidden":""},openedDialogs:function(){return JSON.parse(document.body.dataset.openedDialogs)},escHandler:function(e){var t=this.openedDialogs();"Escape"===e.key&&t[t.length-1]===this._uid&&this.attemptClose()},tabHandler:function(e){var t=this.openedDialogs();if("Tab"===e.key&&t.length>0&&t[t.length-1]===this._uid){var a=this.$refs.dialogContent.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(a.length>0){var n=a[0],i=a[a.length-1];e.shiftKey?[n,this.$refs.dialogContent].some((function(e){return e===document.activeElement}))&&(i.focus(),e.preventDefault()):[i,this.$refs.dialogContent].some((function(e){return e===document.activeElement}))&&(n.focus(),e.preventDefault())}}}},created:function(){window.addEventListener("keydown",this.escHandler),window.addEventListener("keydown",this.tabHandler)},beforeDestroy:function(){this.cleanOpenedDialogsAttr(),window.removeEventListener("keydown",this.escHandler),window.removeEventListener("keydown",this.tabHandler)}},me=ue,fe=(a("6db8"),Object(h["a"])(me,le,de,!1,null,"eeb73300",null)),ge=fe.exports,he=ge,_e={name:"GoogleMapModal",components:{VEasyDialog:he},props:{map_modal:{required:!0,type:Boolean},location:{required:!0,type:Object}},data:function(){return{show:!1,mtitle:"Drag PIN to locate exact location",mdescription:"Your Current editing will be lost if you exit.",mokButton:"Save",mcancelButton:"Cancel",zoom:12,center:{lat:10,lng:10},marker:null,place:null}},computed:Object(r["a"])({},Object(k["c"])({placeId:function(e){return e.fleet.place_id},latitude:function(e){return e.fleet.latitude},longitude:function(e){return e.fleet.longitude}})),methods:{initGoogleMap:function(){console.log("this. = ",this.latitude),null!=this.latitude&&null!=this.longitude?(this.center={lat:Number(this.latitude),lng:Number(this.longitude)},this.marker={lat:Number(this.latitude),lng:Number(this.longitude)}):this.marker=null},cancelClicked:function(){this.$emit("closeGoogleModal")},okClicked:function(){this.$emit("saveGoogleModal",this.marker,this.place)},setMarker:function(e){console.log("info = ",e),this.marker={lat:e.latLng.lat(),lng:e.latLng.lng()},this.$store.dispatch("fleet/saveLatLng",{data:{latitude:e.latLng.lat(),longitude:e.latLng.lng()}})}}},ve=_e,ye=(a("8c33"),Object(h["a"])(ve,re,se,!1,null,null,null)),be=ye.exports,xe={name:"AddEditFleet",components:{SlideOverRight:$["default"],SlideOverRightTrigger:S["default"],AnchorButton:E["default"],Stepper:C["a"],AddEditFleetStep1:V,AddEditFleetStep2:Q,AddEditFleetStep3:oe,GoogleMapModal:be},data:function(){return{isLoading:!1,item:{},errors:[],sorId:s["a"].events.sorId,stepStatusArr:[],map_modal:!1,loc:{}}},props:{is_edit:{required:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(k["b"])("fleet",["isEditing","currentEditingFleetId"])),{},{titleText:function(){return this.isEditing?"Edit Fleet":"Add Fleet"},currentStep:{get:function(){return this.$store.getters["fleet/currentStep"]},set:function(e){this.$store.dispatch("fleet/saveStep",{step:e})}},isOperatorAppEnabled:function(){var e=this.$store.getters["auth/organizationInfo"].subscription;return console.log("isOperatorA::",e.operator_app_enabled),e.operator_app_enabled}},Object(k["c"])({step1data:function(e){return e.fleet.step1},step2data:function(e){return e.fleet.step2},step3data:function(e){return e.fleet.step3}})),mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:w["a"].$on(s["a"].events.editingData,(function(t){if(e.$store.dispatch("fleet/saveLatLng",{data:{latitude:null,longitude:null}}),void 0==t.step&&e.$store.dispatch("fleet/saveStep",1),e.$store.dispatch("fleet/forgetEditingStep"),e.$store.dispatch("fleet/forgetAllStepsData"),e.$store.dispatch("fleet/forgetEditingFleetId"),e.item=t,Object.keys(t).length>1)e.populateFleetStore(t.id),e.$store.dispatch("fleet/saveEditingStep",{step:1});else{for(var a=e.isOperatorAppEnabled?3:2,n=[],i=0;i<a;i++){var o={disabled:!0,visited:!1,index:i,value:i+1};n.push(o)}var r=e;setTimeout((function(){r.$refs.stepper&&r.$refs.stepper.changeStepsArr(n)}),500)}e.$nextTick((function(){var t=e;console.log(t.$refs)}))})),w["a"].$on(s["a"].events.succeededStep1,(function(t){e.item=t,e.$store.dispatch("fleet/saveEditingFleetId",{data:t.id}),e.$store.dispatch("fleet/saveStepData",{step:1,data:t}),e.$store.dispatch("fleet/nextStep",{step:2}),e.$refs.stepper.nextWithBtn()})),w["a"].$on(s["a"].events.succeededStep2,(function(t){e.$store.dispatch("fleet/saveEditingFleetId",{data:t.id}),e.$store.dispatch("fleet/saveStepData",{step:2,data:t}),e.isOperatorAppEnabled?(e.$store.dispatch("fleet/nextStep",{step:3}),e.$refs.stepper.nextWithBtn()):e.closeSor()})),w["a"].$on(s["a"].events.succeededStep3,(function(t){e.$store.dispatch("fleet/saveStepData",{step:3,data:t}),e.closeSor()}));case 4:case"end":return t.stop()}}),t)})))()},methods:{closeSor:function(){this.$store.dispatch("fleet/forgetStep"),this.$store.dispatch("fleet/forgetAllStepsData"),dispatchEvent(new Event(s["a"].events.sorClose)),dispatchEvent(new Event(s["a"].events.refresh))},saveGoogleModal:function(){this.$refs.step1.refreshLatLng(),this.map_modal=!1},closeGoogleModal:function(){this.map_modal=!1},showGoogleModal:function(){this.map_modal=!0,this.$refs.google_map.initGoogleMap()},showModal:function(){dispatchEvent(new Event(s["a"].events.sorToggle))},submitStep:function(e){this.$refs["step".concat(e)].submit("normal")},getStepDataFromApi:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t-1,o={},n.t0=t,n.next=1===n.t0?5:2===n.t0?8:3===n.t0?11:21;break;case 5:return o={name:e.name,organization:e.organization,warehouse_name:e.warehouse_name,warehouse_lat:e.warehouse_lat,warehouse_lon:e.warehouse_lon,use_company_details:e.use_company_details,country:e.country.id?e.country.id:"",city:e.city?e.city.id:"",zip_code:e.zip_code,address:e.address,registration_no:"null"==e.registration_no?"":e.registration_no,tax_id:"null"==e.tax_id?"":e.tax_id,id:e.id},""!=o.name?a.stepStatusArr[i]={index:i,value:i+1,visited:!0,disabled:!1}:a.stepStatusArr[i]={index:i,value:i+1,visited:!1,disabled:!0},n.abrupt("break",22);case 8:return o={is_parking_required:e.is_parking_required,reservation_time:e.reservation_time,on_ride_location_update_frequency:e.on_ride_location_update_frequency,off_ride_location_update_frequency:e.off_ride_location_update_frequency,max_speed_limit:e.max_speed_limit,visibility:e.visibility,private_code:e.private_code,private_code_refresh_time:e.private_code_refresh_time,email_enabled:e.email_enabled,email_address:e.email_address,email_port:e.email_port,email_host:e.email_host,email_encryption:e.email_encryption},0==o.is_parking_required||1==o.is_parking_required?a.stepStatusArr[i]={index:i,value:i+1,visited:!0,disabled:!1}:a.stepStatusArr[i]={index:i,value:i+1,visited:!1,disabled:!0},n.abrupt("break",22);case 11:if(!a.isOperatorAppEnabled){n.next=20;break}return n.next=14,a.getChargingData(e.id);case 14:return r=n.sent,n.next=17,a.getRebalanceData(e.id);case 17:s=n.sent,o=void 0==r&&void 0==s?{charging_rate:null,charging_point:null,rebalance_rate:null,rebalance_point:null}:{charging_rate:r&&r.rate?r.rate:null,charging_point:r&&r.point?r.point:null,rebalance_rate:s&&s.rate?s.rate:null,rebalance_point:s&&s.point?s.point:null},a.stepStatusArr[i]=void 0==r&&void 0==s?{index:i,value:i+1,visited:!1,disabled:!0}:{index:i,value:i+1,visited:!0,disabled:!1};case 20:return n.abrupt("break",22);case 21:return n.abrupt("break",22);case 22:return n.abrupt("return",o);case 23:case"end":return n.stop()}}),n)})))()},getChargingData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={rate:"",point:""},a.next=3,t.$http.get(s["a"].api.single_charging(e)).then((function(e){console.log("cc",e.data),n=e.data})).catch((function(e){return console.log(e)}));case 3:return a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})))()},getRebalanceData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={rate:"",point:""},a.next=3,t.$http.get(s["a"].api.single_charging(e)).then((function(e){console.log("rr",e.data),n=e.data})).catch((function(e){return console.log(e)}));case 3:return a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})))()},populateFleetStore:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,t.$http.get(s["a"].api.single(e)).then((function(e){var a=e.data;t.saveStepData(a)})).catch((function(e){console.log("popu-err",e)}));case 3:case"end":return a.stop()}}),a)})))()},saveStepData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getStepDataFromApi(e,1);case 2:return n=a.sent,a.next=5,t.getStepDataFromApi(e,2);case 5:if(i=a.sent,setTimeout((function(){t.$refs.stepper&&t.$refs.stepper.changeStepsArr(t.stepStatusArr)}),500),void 0==t.item.step?t.$store.dispatch("fleet/saveStep",{step:1}):t.$store.dispatch("fleet/saveStep",{step:null==t.item.step?1:t.item.step}),t.$store.dispatch("fleet/saveEditingFleetId",{data:e.id}),t.$store.dispatch("fleet/saveStepData",{step:1,data:n}),t.$store.dispatch("fleet/saveStepData",{step:2,data:i}),!t.isOperatorAppEnabled){a.next=16;break}return a.next=14,t.getStepDataFromApi(e,3);case 14:o=a.sent,t.$store.dispatch("fleet/saveStepData",{step:3,data:o});case 16:t.isLoading=!1;case 17:case"end":return a.stop()}}),a)})))()},checkErrors:function(e,t,a,n){n&&!a?this.$refs.stepper.enoughMove(t):this.$refs["step".concat(e+1)].submit("tabselect",t,a,n)},changeTabs:function(e){var t=this;setTimeout((function(){switch(e){case 1:t.$refs.step1&&t.$refs.step1.reloadData();break;case 2:t.$refs.step2&&t.$refs.step2.reloadData();break;case 3:t.$refs.step3&&t.$refs.step3.reloadData();break}}),1e3)},isValidFunc:function(e,t,a,n){this.isValid=e,(this.isValid||n)&&(this.$refs.stepper.enoughMove(t),this.isValid=!1)}}},ke=xe,we=(a("d9c6"),Object(h["a"])(ke,b,x,!1,null,"1f41591c",null)),$e=we.exports,Se=a("4834"),Ee=a("c820"),Ce=a("ca65"),Te={name:"ViewFleetProfile",components:{InfoGrid:p["a"],ContentSection:u["default"],OtoEditButton:m["a"],DashedBlueBorder:y,AddEditFleet:$e,FleetAddEdit:Se["a"]},data:function(){return{symbol:"$",isLoaded:!1,fleet:{},code:"121",fallbackText:"--",profile:{address:"",city:{id:"",name:""},country:{id:"",name:""},created_at:"",default_financial_account:"",email_address:"",email_enabled:"",email_encryption:"",email_host:"",email_port:"",geofence:"",id:"",is_parking_required:"",last_refreshed_at:"",lock_min_battery:"",max_speed_limit:"",name:"",off_ride_location_update_frequency:"",on_ride_location_update_frequency:"",organization:"",private_code:"",private_code_refresh_time:"",registration_no:"",reservation_time:"",tax_id:"",updated_at:"",use_company_details:"",visibility:"",warehouse_lat:"",warehouse_lon:"",warehouse_name:"",zip_code:"",is_edit:!1},is_edit:!1,operator:{charging:{},rebalancing:{}},orgEmailSettings:{},ae:{esId:"fleet-add-edit",stepperMode:"strict",stepperStep:1,busy:!0,rawData:null,primaryKey:null}}},computed:Object(r["a"])(Object(r["a"])({},Object(k["b"])("auth",["organizationInfo"])),{},{id:function(){return this.$route.params.id},orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},hasOperatorApp:function(){return this.$org.subscription.operator_app_enabled}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$http.get(s["a"].api.single(e.id)),n=e.$http.get(l["d"].api.charging.index(e.orgId)),i=e.$http.get(l["d"].api.rebalancing.index(e.orgId)),o=e.$http.get(Ee["c"].settings.email.index(e.orgId)),t.next=6,e.$http.all([a,n,i,o]).then((function(t){console.log("fleet-profile",t),e.profile=Object(r["a"])({},t[0].data),e.code=t[0].data.private_code,e.operator.charging=t[1].data,e.operator.rebalancing=t[2].data;var a=t[3].data,n={};for(var i in a)n[i]="null"===a[i]?"":a[i];e.orgEmailSettings=n,e.isLoaded=!0})).catch((function(t){console.log("fleet-profile-err",t,t.response),e.$notify({group:"bottomRight",type:"error",title:"HTTP Error",text:"Failed to load org email settings!"})}));case 6:case"end":return t.stop()}}),t)})))()},mounted:function(){this.symbol=this.organizationInfo.default_currency?this.organizationInfo.default_currency.symbol:"$"},methods:{getFormattedDateTime:Ce["c"],getProfile:function(){var e=[];return e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetName"),value:this.profile.name}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetID"),value:this.profile.id}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetOrganization"),value:this.profile.organization.name||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetLocation"),value:this.profile.warehouse_name||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetCountry"),value:this.profile.country.name||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.billingPlan"),value:this.profile.billing_plan||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.alertEmailAddress"),value:this.profile.email_address||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.operationalVehicle"),value:this.profile.operational_vehicle||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.createdAt"),value:c()(this.profile.created_at).format("DD MMM, YYYY")}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.fleetVisibility"),value:this.profile.fleet_visibility||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.domain"),value:this.profile.domain||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.basicInfo.infoTitle.port"),value:this.profile.port||this.fallbackText}),e},getVehicle:function(){var e=[];return e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.locationUpdateFrequencyOnRide"),value:this.profile.on_ride_location_update_frequency+"s"||!1}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.locationUpdateFrequencyOffRide"),value:this.profile.off_ride_location_update_frequency+"s"||!1}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.vehicleReservationTime"),value:this.profile.reservation_time+"m"||!1}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.maxSpeedLimit"),value:this.profile.max_speed_limit}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.vehicleSpeedMode"),value:this.profile.vehicle_speed_mode||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.vehicleSettingsInfo.infoTitle.isParkingRequired"),value:this.profile.is_parking_required?"Yes":"No"}),e},getCompany:function(){var e=[];return e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.infoTitle.address"),value:this.profile.address||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.infoTitle.city"),value:this.profile.city.name||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.infoTitle.postalZip"),value:this.profile.zip_code||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.infoTitle.taxID"),value:this.profile.tax_id||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.companyDetailsInfo.infoTitle.registrationNO"),value:this.profile.registration_no||this.fallbackText}),e},getEmail:function(){var e=[];return e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.infoTitle.emailAddress"),value:this.profile.email_address||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.infoTitle.host"),value:this.profile.email_host||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.infoTitle.port"),value:this.profile.email_port||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.infoTitle.password"),value:"*********"}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.mailConfigurationInfo.infoTitle.encryption"),value:this.profile.email_encryption||this.fallbackText}),e},copyToClipBoard:function(){this.$refs.code.select(),this.$refs.code.setSelectionRange(0,99999),document.execCommand("copy"),this.$notify({group:"generic",type:"success",title:"Code Copied",text:"Fleet visibility private code has been copied to your clipboard"},2e3)},handleEditing:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:{},i=n.type,o=void 0===i?null:i,r=n.step,s=void 0===r?1:r,"operator"!==o){a.next=4;break}return t.$router.push({name:"OperatorSettings"}),a.abrupt("return");case 4:return a.next=6,t.onOpenES({primaryKey:t.id,step:s});case 6:case"end":return a.stop()}}),a)})))()},getOperatorApp:function(){var e=[];return e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.operatorAppInfo.infoTitle.chargingEarningRate"),value:this.symbol+this.operator.charging.rate||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.operatorAppInfo.infoTitle.chargingPointRate"),value:this.operator.charging.point||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.operatorAppInfo.infoTitle.rebalancingEarningRate"),value:this.symbol+this.operator.rebalancing.rate||this.fallbackText}),e.push({text:this.$t("components.fleetDetailsManagement.diveIntoTab.profile.grid.operatorAppInfo.infoTitle.rebalancingPointRate"),value:this.operator.rebalancing.point||this.fallbackText}),e},onOpenES:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o,s,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.primaryKey,i=e.step,"string"!==typeof n){a.next=10;break}return t.ae.busy=!0,t.$edgeStack.open(t.ae.esId),o=t.$http.get(Ee["c"].fleet.details(n)),s=[o],t.hasOperatorApp&&(l=t.$http.get(Ee["c"].fleet.operator.charging(n)),d=t.$http.get(Ee["c"].fleet.operator.rebalance(n)),s.push(l,d)),a.next=9,t.$http.all(s).then(t.$http.spread((function(){for(var e={},a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(t.hasOperatorApp){var l=o[0],d=o[1],c=o[2];e=Object(r["a"])(Object(r["a"])({},l.data),{},{charging_task:d.data,rebalance_task:c.data})}else{var p=o[0];e=Object(r["a"])(Object(r["a"])({},p.data),{},{charging_task:{point:"",rate:""},rebalance_task:{point:"",rate:""}})}t.ae.rawData=e,t.ae.primaryKey=n,t.ae.stepperMode="free",t.ae.busy=!1,t.$edgeStack.emitter.on(t.$edgeStack.getEventName("opened",t.ae.esId),(function(){console.log("step",i),t.$xStepper.navigate(t.ae.esId).to(i)}))}))).catch((function(e){console.warn({err:e}),t.$edgeStack.close(t.ae.esId),t.$notify({group:"bottomRight",type:"error",title:"Server Error",text:"Failed to retrieve data. Please try again."})}));case 9:return a.abrupt("return");case 10:t.ae.stepperMode="strict",t.ae.busy=!1,t.ae.rawData=null,t.ae.primaryKey=null,t.$edgeStack.open(t.ae.esId);case 15:case"end":return a.stop()}}),a)})))()}}},Me=Te,De=(a("5418"),Object(h["a"])(Me,n,i,!1,null,null,null));t["default"]=De.exports},bc84:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"fade"}},[e.visibility?a("button",{staticClass:"fixed inset-0 w-full h-full opacity-50 cursor-default bg-oBlack",staticStyle:{"z-index":"1050"},attrs:{tabindex:"-1"},on:{click:function(t){return e.close(!1)}}}):e._e()]),a("transition",{attrs:{name:"SOR","enter-active-class":"transition duration-300 ease-out transform","leave-active-class":"transition duration-300 ease-in transform","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[e.visibility?a("div",{staticClass:"fixed bottom-0 right-0 h-full px-4 bg-white border-l-2 border-gray-400 border-opacity-50 shadow-lg container-sor",class:e.getEdgeStackSize},[e.busy?a("section",{staticClass:"py-4"},e._l(3,(function(e){return a("TheSuspense",{key:"es-skeletons-"+e,attrs:{rounded:""}},[a("SuspenseHeading",{attrs:{img:""}}),a("SuspenseText",{attrs:{lines:5}})],1)})),1):[a("header",{class:e.computeHeaderClassName},[e._t("header")],2),a("div",{staticClass:"pb-4 overflow-x-hidden overflow-y-auto sb-farhan"},[e._t("default")],2),e.hasFooterSlot?a("div",{staticClass:"w-full"},[a("footer",{class:e.footerClass.fixed+" "+e.footerClass.append+" "+(e.exitButton.hidden?"":"justify-between")+" "},[!1===e.exitButton.hidden?a("div",[a("anchor-button",{class:"",attrs:{variant:e.getCloseButtonVariant,isLoading:!1},on:{click:function(t){return e.close(!e.confirmFirst)}}},[e._v(" "+e._s(e.$t("components.stepNavigation.cancel"))+" ")])],1):e._e(),a("div",{staticClass:"flex items-center text-sm"},[e._t("footer",(function(){return[e._v(" Footer Slot ")]}),null,{close:e.close,confirmFirst:e.confirmFirst,exitButton:e.exitButton})],2)])]):e._e()]],2):e._e()]),e.confirmFirstVisibility?a("div",{staticClass:"fixed inset-0 w-full h-full transition-all duration-100 ease-in-out bg-gray-900 bg-opacity-50",staticStyle:{"z-index":"1105"}},[a("section",{staticClass:"relative max-w-lg mx-auto my-0 mt-20 overflow-y-auto transition-all duration-300 ease-in-out",staticStyle:{"z-index":"1110"}},[a("div",{staticClass:"relative overflow-hidden bg-white border border-gray-600 rounded-md shadow-lg"},[e._m(0),a("section",{staticClass:"px-4 text-2xl font-extrabold text-center"},[e._v(" "+e._s(e.confirmQuestion)+" ")]),a("section",{staticClass:"px-4 font-bold text-center"},[e._v(" "+e._s(e.$t("components.edgeStack.changeCaution"))+" ")]),a("section",{staticClass:"flex items-center px-4 py-4 mt-6 space-x-5 bg-gray-100"},[a("anchor-button",{class:"w-1/2",attrs:{variant:"warning-alt",isLoading:!1},on:{click:function(t){return e.close(!0)}}},[e._v(" "+e._s(e.$t("components.edgeStack.exit"))+" ")]),a("anchor-button",{class:"w-1/2",attrs:{variant:"primary",isLoading:!1},on:{click:e.closeConfirmFirst}},[e._v(" "+e._s(e.$t("components.edgeStack.cancel"))+" ")])],1)])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"flex items-center justify-center mt-8 mb-2 text-gray-500"},[a("i",{staticClass:"text-4xl fas fa-exclamation-circle"})])}],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("a6f4")),r=a("e068"),s=Object(o["c"])({components:{AnchorButton:function(){return a.e("chunk-389dd0fb").then(a.bind(null,"15e7"))}},name:"EdgeStack",props:{id:{type:String,required:!0},confirm:{type:Boolean,required:!1,default:!1},confirmQuestion:{type:String,required:!1,default:"Are you sure you want to exit?"},fullWidth:{type:Boolean,required:!1,default:!1},sizeClass:{type:String,required:!1,default:""},headerClassName:{type:String,required:!1,default:"mt-16 px-4 mb-6"},value:{type:Boolean,required:!1,default:!1},busy:{type:Boolean,default:!1},exitButton:{type:Object,default:function(){return{text:"Cancel",hidden:!1}}},footerClass:{type:Object,default:function(){return{fixed:"flex items-center px-6 pt-2 pb-5 w-full h-auto",append:""}}},debug:{type:Boolean,required:!1,default:!1}},setup:function(e,t){var a=t.slots,n=t.scopedSlots;e.debug&&console.log("edgeStack",a,n);var i=Object(o["a"])((function(){var t,i,o=null!==(t=null!==(i=null===a||void 0===a?void 0:a.footer)&&void 0!==i?i:null===n||void 0===n?void 0:n.footer())&&void 0!==t&&t;return e.debug&&console.log("hasFooterSlot, slots, scopedSlots:",!!o,a,n),!!o})),s=new r["a"],l=Object(o["h"])(e.value);Object(o["j"])(l,(function(e){!0===e?(document.body.style.overflow="hidden",document.body.style.marginRight="11px"):setTimeout((function(){document.body.style.overflow="auto",document.body.style.marginRight=""}),200)}));var d=Object(o["h"])(!1),c=Object(o["h"])(!1),p=Object(o["a"])((function(){return!0===d.value?"warning-alt":"secondary"})),u=Object(o["a"])((function(){return e.sizeClass?e.sizeClass:e.fullWidth?"w-full":"w-full md:w-3/6 2xl:w-2/5"})),m=function(){r["b"].emit(s.getEventName("opening",e.id)),setTimeout((function(){l.value=!0}),250),setTimeout((function(){r["b"].emit(s.getEventName("opened",e.id))}),350)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.debug&&console.log({onClose_ConfirmFirst:d.value,onClose_Confirmed:t}),!0!==d.value||!1!==t?(c.value=!1,d.value=!1,r["b"].emit(s.getEventName("closing",e.id)),setTimeout((function(){l.value=!1}),250),setTimeout((function(){r["b"].emit(s.getEventName("closed",e.id))}),350)):c.value=!0},g=function(){var e=l.value;!0===e?f():m(),r["b"].emit(s.getEventName("toggled",{from:e,to:l.value}))},h=function(){c.value=!1},_=function(){r["b"].on(s.getEventName("open",e.id),(function(){m()})),r["b"].on(s.getEventName("close",e.id),(function(){f()})),r["b"].on(s.getEventName("toggle",e.id),(function(){g()})),r["b"].on(s.getEventName("confirmFirst",e.id),(function(e){d.value=e.confirmFirst})),e.debug&&console.log({EdgeStackComponents:{id:e.id,events:r["b"].all}})},v=function(){r["b"].off(s.getEventName("open",e.id),(function(){m()})),r["b"].off(s.getEventName("close",e.id),(function(){f()})),r["b"].off(s.getEventName("toggle",e.id),(function(){g()})),r["b"].off(s.getEventName("confirmFirst",e.id)),e.debug&&console.log({EdgeStackComponents:{id:e.id,events:r["b"].all}})};return Object(o["e"])(_),Object(o["f"])(v),{open:m,close:f,toggle:g,visibility:l,confirmFirst:d,confirmFirstVisibility:c,getEdgeStackSize:u,closeConfirmFirst:h,getCloseButtonVariant:p,computeHeaderClassName:Object(o["a"])((function(){return a.header?e.headerClassName:""})),hasFooterSlot:i}}}),l=s,d=(a("7cd2"),a("2877")),c=Object(d["a"])(l,n,i,!1,null,"1ef8d6ba",null);t["a"]=c.exports},c05e:function(e,t,a){},c18b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n["default"]})),a.d(t,"b",(function(){return c["a"]})),a.d(t,"c",(function(){return h}));a("7334");var n=a("acfd"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e.label?a("AppFormLabel",{attrs:{text:e.label,error:e.error}}):e._e(),a("div",{class:e.getWrapperClasses,on:{click:e.onClick,dragover:e.onDragover,dragleave:e.onDragleave,drop:e.onDrop}},[a("input",{ref:"file",staticClass:"overflow-hidden absolute w-0 h-0 opacity-0",attrs:{type:"file",accept:"*"},on:{change:e.onChange}}),e.previewImage||e.current?a("div",{key:"upload-preview-or-placeholder",staticClass:"w-full h-full"},[e.current&&!e.previewImage?a("img",{staticClass:"object-cover overflow-hidden w-full h-full",attrs:{src:e.current}}):e._e(),e.previewImage?a("img",{staticClass:"object-cover overflow-hidden w-full h-full",attrs:{src:e.previewImage}}):e._e()]):a("div",{key:"upload-preview-or-placeholder",staticClass:"grid place-items-center"},[a("span",{staticClass:"upload-text"},[e._v(e._s(e.text))]),a("button",{staticClass:"upload-button",attrs:{type:"button"}},[e._v(e._s(e.buttonText))])])]),e.label?a("AppFormError",{attrs:{text:e.label,error:e.error}}):e._e()],1)},o=[],r={name:"UploadFileAlt",props:{value:{required:!1},current:{required:!1},label:{type:String,required:!1,default:"Upload File"},error:{type:[String,Boolean],required:!1,default:""},text:{type:String,required:!1,default:"Select or Drag files to upload"},buttonText:{type:String,required:!1,default:"Upload"},variant:{requried:!1,default:"default"}},data:function(){return{file:null,previewImage:null}},computed:{getWrapperClasses:function(){return"upload-wrapper"}},methods:{onChange:function(){var e=this,t=this.$refs.file,a=t.files;if(a&&a[0]){var n=new FileReader;n.onload=function(t){e.previewImage=t.target.result},n.readAsDataURL(a[0]),this.$emit("input",a[0])}},onClick:function(){this.$refs.file.click()},onDragover:function(e){console.log("dragover = ",e),e.preventDefault(),e.currentTarget.classList.contains("onDragover")||e.currentTarget.classList.add("onDragover")},onDragleave:function(e){console.log("dragleave = ",e),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.add("onDragleave")},onDrop:function(e){console.log("drop = ",e),e.preventDefault(),this.$refs.file.files=e.dataTransfer.files,this.onChange(),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.remove("onDragleave"),e.currentTarget.classList.add("onDrop")}}},s=r,l=(a("cbfe"),a("2877")),d=Object(l["a"])(s,i,o,!1,null,"3d746b53",null),c=(d.exports,a("219c")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{class:e.getWrapperClasses,on:{click:e.onClick,dragover:e.onDragover,dragleave:e.onDragleave,drop:e.onDrop}},[a("input",{ref:"file",staticClass:"overflow-hidden absolute w-0 h-0 opacity-0",attrs:{type:"file",accept:".kml"},on:{change:e.onChange}}),a("div",{key:"upload-preview-or-placeholder",staticClass:"grid place-items-center"},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Import KML File",expression:"`Import KML File`",modifiers:{top:!0}}],staticClass:"upload-button",attrs:{type:"button"}},[a("i",{staticClass:"text-lg text-center fas fa-cloud-upload-alt"})])])])])},u=[],m={name:"UploadGeoFile",data:function(){return{}},computed:{getWrapperClasses:function(){return"upload-wrapper"}},methods:{onChange:function(){var e=this,t=this.$refs.file,a=t.files;if(a&&a[0]){var n,i=new FileReader;i.onload=function(e){n=e.target.result},i.readAsText(a[0]),setTimeout((function(){e.$emit("input",n)}),1e3)}},onClick:function(){this.$refs.file.click()},onDragover:function(e){console.log("dragover = ",e),e.preventDefault(),e.currentTarget.classList.contains("onDragover")||e.currentTarget.classList.add("onDragover")},onDragleave:function(e){console.log("dragleave = ",e),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.add("onDragleave")},onDrop:function(e){console.log("drop = ",e),e.preventDefault(),this.$refs.file.files=e.dataTransfer.files,this.onChange(),e.currentTarget.classList.remove("onDragover"),e.currentTarget.classList.remove("onDragleave"),e.currentTarget.classList.add("onDrop")}}},f=m,g=(a("e3dd"),Object(l["a"])(f,p,u,!1,null,"3b01a8eb",null)),h=g.exports},c644:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={api:{index:"/dashboard/fleets/",create:"/dashboard/fleets/",update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/")},single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/")},single_charging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/operator-task-charging-settings/")},single_rebalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/fleets/".concat(e,"/operator-task-rebalancing-settings/")}},events:{name:"fleet",refresh:"rid-fleet",sorId:"fleet",sorOpen:"sor-open-fleet",sorClose:"sor-close-fleet",sorToggle:"sor-toggle-fleet",editingData:"edit-fleet-data",editingStep1Data:"edit-fleet-step-1-data",editingStep2Data:"edit-fleet-step-2-data",succeededStep1:"succeeded-step-1",succeededStep2:"succeeded-step-2",succeededStep3:"successed-step-3",viewingData:"view-fleet-data"}}},c6cf:function(e,t,a){var n=a("4d8c"),i=a("2286"),o=a("c1c9");function r(e){return o(i(e,void 0,n),e+"")}e.exports=r},cbfe:function(e,t,a){"use strict";a("5010")},cc34:function(e,t,a){},cc64:function(e,t,a){},ce45:function(e,t,a){},ce86:function(e,t,a){var n=a("9e69"),i=a("7948"),o=a("6747"),r=a("ffd6"),s=1/0,l=n?n.prototype:void 0,d=l?l.toString:void 0;function c(e){if("string"==typeof e)return e;if(o(e))return i(e,c)+"";if(r(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},d368:function(e,t,a){"use strict";a("d662")},d380:function(e,t,a){},d662:function(e,t,a){},d7ce:function(e,t,a){"use strict";a("0418")},d9c6:function(e,t,a){"use strict";a("c05e")},da8c:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-stepper"},[a(e.rootComponent,{tag:"component",staticClass:"flex-wrap"},e._l(e.stepsArr,(function(t,n){return a("v-step",{key:n,attrs:{name:e.id,debug:e.debug,index:n,visited:t.visited,disabled:t.disabled,"with-divider":e.withDivider,active:t.index===e.toIndex(e.value)},on:{change:e.handleChange},scopedSlots:e._u([{key:"index",fn:function(t){return[e._t("step-"+t.displayIndex+"-index",(function(){return[e._v(" "+e._s(t.displayIndex)+" ")]}),null,t)]}},{key:"default",fn:function(t){return[e._t("step-"+t.displayIndex,null,null,t)]}}],null,!0)},[a("div",[e._v(e._s(n))])])})),1)],1)},i=[],o=(a("a9e3"),a("caad"),a("99af"),a("a630"),a("3ca3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["step custom-step",e.classes]},[a("input",{directives:[{name:"show",rawName:"v-show",value:e.debug,expression:"debug"}],staticClass:"input",attrs:{type:"radio",id:e.id,name:e.computedName},domProps:{checked:e.active},on:{change:e.handleChange}}),a("label",{staticClass:"label",attrs:{for:e.id}},[a("span",{staticClass:"index"},[e.active||e.disabled?e._t("index",(function(){return[e._v(" "+e._s(e.api.displayIndex)+" ")]}),null,e.api):e._t("default",(function(){return[a("i",{staticClass:"m-auto fas fa-check",staticStyle:{"font-size":"8px"}})]}))],2),e.defaultSlot?a("span",{staticClass:"title"},[e._t("default",null,null,e.api)],2):e._e(),e.withDivider?a("span",{staticClass:"divider"}):e._e()])])}),r=[],s=(a("b0c0"),{name:"VStep",props:{index:{type:Number,default:0},name:{type:String,default:""},active:{type:Boolean,default:!1},visited:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},withDivider:{type:Boolean,default:!1},debug:{type:Boolean,default:!0}},data:function(){return{namespace:"v-step"}},computed:{id:function(){return"".concat(this.namespace,"-").concat(this._uid,"-").concat(this.index)},displayIndex:function(){return this.index+1},classes:function(){return{"is-active":this.active,"is-visited":this.visited,"is-disabled":this.disabled}},computedName:function(){return this.name||this.id},defaultSlot:function(){return this.$slots.default||this.$scopedSlots.default},api:function(){var e=this.displayIndex,t=this.defaultSlot;return{displayIndex:e,defaultSlot:t}}},methods:{handleChange:function(){this.$emit("change",this.index)}},inheritAttrs:!1}),l=s,d=(a("3853"),a("2877")),c=Object(d["a"])(l,o,r,!1,null,"d2d48d72",null),p=c.exports,u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-stepper-root"},[e._t("default")],2)},m=[],f={name:"VStepperRoot"},g=f,h=(a("85c0"),Object(d["a"])(g,u,m,!1,null,"69da3474",null)),_=h.exports,v={name:"Stepper",components:{VStep:p},props:{value:{type:Number,default:1},steps:{required:!0},linear:{type:Boolean,default:!0},edit:{type:Boolean,default:!1},persist:{type:Boolean,default:!1},storekeeper:{type:String,default:"localStorage",validator:function(e){return["localStorage","sessionStorage"].includes(e)}},withDivider:{type:Boolean,default:!0},rootComponent:{type:Object,default:function(){return _}},debug:{type:Boolean,default:!1}},data:function(){return{namespace:"v-stepper",stepsArr:[],index:this.toIndex(this.value)}},watch:{value:function(e){this.index=this.toIndex(e),this.persist&&this.setStorage()},index:{handler:function(e){console.log("index = ",e)},immediate:!0}},created:function(){if(this.persist){var e=this.getStorage();e?(this.stepsArr=e.stepsArr,this.index=e.index):this.setStorage()}},destroyed:function(){window[this.storekeeper].removeItem(this.id)},computed:{id:function(){return"".concat(this.namespace,"-").concat(this._uid)},lastIndex:function(){return this.stepsArr.length-1}},methods:{changeStepsArr:function(e){this.stepsArr=e},toValue:function(e){return e+1},toIndex:function(e){return e-1},doesStepExist:function(e){return!!this.stepsArr[e]},isIntermediateIndex:function(e){return e>0&&e<this.lastIndex},enoughMove:function(e){this.index,this.index;var t=this.toIndex(this.value);this.linear?(this.setStep(e,"active",!0),this.setStep(t,"active",!1),this.$emit("input",this.toValue(e))):(this.setStep(t,"visited",!0),this.$emit("input",this.toValue(e)))},handleChange:function(e){var t=e===this.index+1,a=e===this.index-1,n=this.toIndex(this.value);this.$emit("errors",n,e,t,a)},getMap:function(){var e=this;return Array.from(this.steps,(function(t,a){var n=a-1,i=t.disabled,o=t.visited,r=e.toValue(a);return{index:n,value:r,visited:o,disabled:i}}))},offset:function(e){var t=this.index+e;this.doesStepExist(t)&&this.handleChange(t)},next:function(){this.offset(1)},nextWithBtn:function(){var e=this.index+1;if(this.doesStepExist(e)){this.index,this.index;var t=this.toIndex(this.value);this.linear?(this.setStep(e,"active",!0),this.setStep(e,"visited",!1),this.setStep(e,"disabled",!0),this.setStep(t,"active",!1),this.setStep(t,"visited",!0),this.setStep(t,"disabled",!1),this.$emit("getSteps",this.stepsArr,e)):(this.setStep(t,"visited",!0),this.$emit("input",this.toValue(e)))}},previous:function(){this.offset(-1)},reset:function(){this.stepsArr=this.getMap(),this.index=0,this.$emit("reset")},setStep:function(e,t,a){this.$set(this.stepsArr[e],t,a)},setStorage:function(){var e=this.index,t=this.stepsArr;window[this.storekeeper].setItem(this.id,JSON.stringify({index:e,stepsArr:t}))},getStorage:function(){return JSON.parse(window[this.storekeeper].getItem(this.id))}},inheritAttrs:!1},y=v,b=Object(d["a"])(y,n,i,!1,null,null,null);t["a"]=b.exports},deab:function(e,t,a){"use strict";a("0c9b")},e1fd:function(e,t,a){},e2ab:function(e,t,a){},e2c0:function(e,t,a){var n=a("e2e4"),i=a("d370"),o=a("6747"),r=a("c098"),s=a("b218"),l=a("f4d6");function d(e,t,a){t=n(t,e);var d=-1,c=t.length,p=!1;while(++d<c){var u=l(t[d]);if(!(p=null!=e&&a(e,u)))break;e=e[u]}return p||++d!=c?p:(c=null==e?0:e.length,!!c&&s(c)&&r(u,c)&&(o(e)||i(e)))}e.exports=d},e2e4:function(e,t,a){var n=a("6747"),i=a("f608"),o=a("18d8"),r=a("76dd");function s(e,t){return n(e)?e:i(e,t)?[e]:o(r(e))}e.exports=s},e380:function(e,t,a){var n=a("7b83"),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var a=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=a.cache;if(o.has(i))return o.get(i);var r=e.apply(this,n);return a.cache=o.set(i,r)||o,r};return a.cache=new(o.Cache||n),a}o.Cache=n,e.exports=o},e3dd:function(e,t,a){"use strict";a("e1fd")},ef45:function(e,t,a){},f4d6:function(e,t,a){var n=a("ffd6"),i=1/0;function o(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=o},f608:function(e,t,a){var n=a("6747"),i=a("ffd6"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(e,t){if(n(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!i(e))||(r.test(e)||!o.test(e)||null!=t&&e in Object(t))}e.exports=s},f625:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"w-full bg-white rounded-md",class:""+e.getSpacing},[e._t("default")],2)},i=[],o={name:"ContentSection",props:{spacing:{type:Boolean,default:!0}},computed:{getSpacing:function(){return this.spacing?"px-6 py-3 mt-2":""}}},r=o,s=a("2877"),l=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},fd9d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){return e.toggle(e.id)}}},[e._t("default",(function(){return[a("button",[e._v("Toggle")])]}))],2)},i=[],o={name:"SlideOverRightTrigger",props:{id:{required:!0,type:String}},mounted:function(){},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null!==e?e:this.id;console.log("event = ",this.getOpeningEventName(t));var a=dispatchEvent(new Event(this.getOpeningEventName(t)));console.log(a)},close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("cancel = ");var t=null!==e?e:this.id;dispatchEvent(new Event(this.getClosingEventName(t)))},toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null!==e?e:this.id,n=this.getTogglingEventName(a);"number"!==typeof t?dispatchEvent(new Event(n)):setTimeout((function(){dispatchEvent(new Event(n))}),t)},getOpeningEventName:function(e){return"sor-open-".concat(e)},getClosingEventName:function(e){return"sor-close-".concat(e)},getTogglingEventName:function(e){return"sor-toggle-".concat(e)}}},r=o,s=a("2877"),l=Object(s["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=fleet-details-profile.18a62630.js.map