(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings-PaymentSettings"],{"38ca":function(t,e,n){"use strict";n("523e")},"523e":function(t,e,n){},8575:function(t,e,n){},b345:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return c}));var a={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/basic-settings/")}}},i={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/vehicle-settings/")}}},o={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/event-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/event-settings/".concat(t,"/")}}},s={api:{index:"/dashboard/organization-behavior-points/",single:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organization-behavior-points/".concat(t,"/")},rewardPointGroupIndex:"/dashboard/reward-points/",rewardPointGroupUpdate:"/dashboard/reward-points/bulk-update/"},events:{behaviourPopup:"behaviour-points-popup"}},r={api:{gateway:{index:"/dashboard/payment-gateways/",update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/payment-gateway-configs/".concat(t,"/")}},topup:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"dashboard/organizations/".concat(t,"/topup-settings/")}}}},p={api:{general:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-general-settings/")}},charging:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-charging-settings/")}},rebalancing:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/operator-task-rebalancing-settings/")}}}},c={api:{index:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/organizations/".concat(t,"/business-hour-settings/")},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uuid";return"/dashboard/business-hour-settings/".concat(t,"/")}}}},b4694:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ValidationProvider",{staticClass:"grid grid-cols-12  ",attrs:{tag:"div",rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,i=e.required;return[n("div",{staticClass:"col-span-12  md:col-span-3 "},[n("div",{staticClass:"label "},[n("input-label",{attrs:{error:a[0],text:t.label+(i?" *":"")}})],1)]),n("div",{staticClass:"col-span-12 md:col-span-6"},[n("div",{staticClass:"flex gap-2 items-center justify-start "},[n("div",{staticClass:" flex items-center"},[n("t-toggle",{attrs:{variant:"regular",checked:t.model},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),n("span",{staticClass:"text-sm font-medium"},[t._v(t._s(t.getStatusText))])]),t.showDescription?n("p",{staticClass:"description mb-2",class:{"text-red-500":a[0]}},[t._v(" "+t._s(t.description)+" ")]):t._e()])]}}])})},i=[],o=n("5f81"),s={name:"SmartToggleInput",props:{showDescription:{type:Boolean,default:!0},label:{type:String,default:""},description:{type:String,default:""},onText:{type:String,default:""},offText:{type:String,default:""},onValue:{type:Boolean,default:!0},offValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},data:function(){return{model:null}},components:{InputLabel:o["default"]},computed:{getStatusText:function(){return this.model===this.onValue?this.onText:this.offText}},watch:{value:{immediate:!0,deep:!1,handler:function(){this.model=this.value}},model:{immediate:!1,deep:!1,handler:function(t,e){t!==e&&(this.$emit("input",t),this.$emit("save",t))}}}},r=s,p=(n("38ca"),n("2877")),c=Object(p["a"])(r,a,i,!1,null,null,null);e["a"]=c.exports},c0bc:function(t,e,n){"use strict";n("8575")},fc4a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.isLoaded?t._e():n("div",{staticClass:"h-screen vld-parent"},[n("loading",{attrs:{active:!t.isLoaded,"is-full-page":!1}})],1),t.isLoaded?n("div",{staticClass:"mx-auto mt-3 lg:mt-10 md:mt-5 max-w-6xl"},[n("div",{staticClass:"flex justify-between items-center"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"far fa-credit-card text-22px text-oTeal"}),n("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.$t("components.settingsManagement.payment.headline.paymentGateway"))+" ")])]),n("div")]),n("div",{staticClass:" mt-3 pt-5 border-t-2"},[n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.paymentGateway.title"),placeholder:"Stripe",showEditPencil:!1},model:{value:t.gatewayName,callback:function(e){t.gatewayName=e},expression:"gatewayName"}}),t.isPaymentMethodPayone?[n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.merchantId.title"),placeholder:t.payment.payone_mid,showEditPencil:!1},model:{value:t.getMerchantId,callback:function(e){t.getMerchantId=e},expression:"getMerchantId"}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.portalId.title"),placeholder:t.payment.payone_portalid,showEditPencil:!1},model:{value:t.getPortalId,callback:function(e){t.getPortalId=e},expression:"getPortalId"}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.accountId.title"),placeholder:t.payment.payone_aid,showEditPencil:!1},model:{value:t.getAccountId,callback:function(e){t.getAccountId=e},expression:"getAccountId"}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.key.title"),placeholder:t.payment.payone_key,showEditPencil:!1},model:{value:t.getPayoneKey,callback:function(e){t.getPayoneKey=e},expression:"getPayoneKey"}})]:t.isPaymentMethodKKiaPay?[n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapayLivePublicKey.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_live_public_key),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapayLivePrivateKey.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_live_private_key),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapayLiveSecret.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_live_secret),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapaySandboxSecret.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_sandbox_secret),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapaySandboxPublicKey.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_sandbox_public_key),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.kkiapaySandboxPrivateKey.title"),placeholder:t.getHiddenKey(t.gatewayInfo.kkiapay_sandbox_private_key),showEditPencil:!1}})]:t.isItMyFatoorahMethod?[n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.testApiToken.title"),placeholder:t.getHiddenKey(t.gatewayInfo.sandbox_secret_key),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.apiToken.title"),placeholder:t.getHiddenKey(t.gatewayInfo.secret_key),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.javascriptSdkUrl.title"),placeholder:t.getHiddenKey(t.gatewayInfo.src_url),showEditPencil:!1}}),n("SmartAppInput",{attrs:{type:"text",label:t.$t("components.settingsManagement.payment.paymentGateway.apiBaseUrl.title"),placeholder:t.getHiddenKey(t.gatewayInfo.api_url),showEditPencil:!1}})]:[n("SmartAppInput",{attrs:{type:"text",label:t.getClientIdLabel,placeholder:t.payment.client_id,showEditPencil:!1},model:{value:t.getSecretClientId,callback:function(e){t.getSecretClientId=e},expression:"getSecretClientId"}}),n("SmartAppInput",{attrs:{type:"text",label:t.getSecretKeyLabel,placeholder:t.payment.secret_key,showEditPencil:!1},model:{value:t.getSecretSecretKey,callback:function(e){t.getSecretSecretKey=e},expression:"getSecretSecretKey"}}),t.isItStripeMethod?n("SmartAppInput",{attrs:{type:"richselect",label:t.$t("components.settingsManagement.payment.paymentGateway.supportedPaymentMethodTypes.title"),options:t.supportedPaymentMethodTypes,placeholder:"Select method",description:t.$t("components.settingsManagement.payment.paymentGateway.supportedPaymentMethodTypes.description"),isMultipleChoice:!0},on:{save:function(e){t.onSave("paymentGatewayConfig","supported_payment_method_types",JSON.stringify(e))}},model:{value:t.paymentGatewayConfig.supported_payment_method_types,callback:function(e){t.$set(t.paymentGatewayConfig,"supported_payment_method_types",e)},expression:"paymentGatewayConfig.supported_payment_method_types"}}):t._e()],n("div",{key:"paymentGateway-"+t.counter},[t._l(t.paymentGatewaySettings,(function(e,a){return["is_payment_method_tokenization_supported"===e.variable?n("SmartToggleInput",{key:a,attrs:{label:e.label,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("org",""+e.variable,n)}},model:{value:t.org[""+e.variable],callback:function(n){t.$set(t.org,""+e.variable,n)},expression:"org[`${item.variable}`]"}}):n("SmartToggleInput",{key:a,attrs:{label:e.label,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("paymentGateway",""+e.variable,n)}},model:{value:t.paymentGateway[""+e.variable],callback:function(n){t.$set(t.paymentGateway,""+e.variable,n)},expression:"paymentGateway[`${item.variable}`]"}})]}))],2)],2),n("div",{staticClass:"mt-10 w-full"},[n("div",{staticClass:"flex justify-between items-center"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-credit-card text-22px text-blue-500"}),n("span",{staticClass:"pl-3"},[t._v(t._s(t.$t("components.settingsManagement.payment.headline.card")))])])]),n("div",{key:"card-"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.cardSettings,(function(e,a){return["toggle"===e.type?n("SmartToggleInput",{key:a,attrs:{label:e.label,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("card",""+e.variable,n)}},model:{value:t.card[""+e.variable],callback:function(n){t.$set(t.card,""+e.variable,n)},expression:"card[`${item.variable}`]"}}):n("SmartAppInput",{key:a,attrs:{rowId:"card_"+a,type:e.type,label:e.label,description:e.description,isEdit:e.isEdit,options:e.options,haveUnitText:e.haveUnitText,unitText:e.unitText},on:{save:function(n){return t.onSave("card",""+e.variable,n)}},model:{value:t.card[""+e.variable],callback:function(n){t.$set(t.card,""+e.variable,n)},expression:"card[`${item.variable}`]"}})]}))],2)]),n("div",{staticClass:"mt-10 w-full"},[n("div",{staticClass:"flex justify-between items-center"},[n("div",{staticClass:"font-bold text-22px text-oCharcoal"},[n("i",{staticClass:"fas fa-wallet text-22px text-oPurple"}),n("span",{staticClass:"pl-3"},[t._v(t._s(t.$t("components.settingsManagement.payment.headline.triggerPayment")))])])]),n("div",{key:"triggerPayment-"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.triggerPaymentSettings,(function(e,a){return["toggle"===e.type?n("SmartToggleInput",{key:a,attrs:{label:e.label,description:e.description,onText:e.onText,offText:e.offText,onValue:e.onValue,offValue:e.offValue},on:{save:function(n){return t.onSave("payment",""+e.variable,n)}},model:{value:t.trigger[""+e.variable],callback:function(n){t.$set(t.trigger,""+e.variable,n)},expression:"trigger[`${item.variable}`]"}}):n("SmartAppInput",{key:a,attrs:{rowId:"triggerPayment_"+a,type:e.type,label:e.label,description:e.description,isEdit:e.isEdit,options:e.options,haveUnitText:e.haveUnitText,unitText:e.unitText,unitWidthVariant:e.unitWidthVariant},on:{save:function(n){return t.onSave("payment",""+e.variable,n)}},model:{value:t.trigger[""+e.variable],callback:function(n){t.$set(t.trigger,""+e.variable,n)},expression:"trigger[`${item.variable}`]"}})]}))],2)]),n("div",{staticClass:"flex justify-between items-center mt-10"},[n("div",{staticClass:"flex items-center font-bold text-22px text-oCharcoal"},[n("div",{staticClass:"css-icon-topup"}),n("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.$t("components.settingsManagement.payment.headline.topup"))+" ")])])]),n("div",{key:"topupPayment-"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[t._l(t.topupPaymentSettings,(function(e,a){return[n("SmartAppInput",{key:a,attrs:{rowId:"topupPayment_"+a,type:e.type,label:e.label,placeholder:e.placeholder,description:e.description,isEdit:e.isEdit},on:{save:function(n){return t.onSave("payment",""+e.variable,n)}},model:{value:t.topup[""+e.variable],callback:function(n){t.$set(t.topup,""+e.variable,n)},expression:"topup[`${item.variable}`]"}})]}))],2),n("div",{staticClass:"flex justify-between items-center mt-10"},[n("div",{staticClass:"flex items-center font-bold text-22px text-oCharcoal"},[n("div",{staticClass:"css-icon-invoicing"}),n("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.$t("components.settingsManagement.payment.headline.invoicing"))+" ")])])]),n("div",{key:"invoicingPayments-"+t.counter,staticClass:" mt-3 pt-5 border-t-2"},[n("SmartAppInput",{key:"invoicingPayments_"+(t.counter+0),attrs:{rowId:"invoicingPayments_0",type:t.invoicingPaymentSettings[0].type,label:t.invoicingPaymentSettings[0].label,options:t.invoicingPaymentSettings[0].options,placeholder:t.invoicingPaymentSettings[0].placeholder,description:t.invoicingPaymentSettings[0].description,isEdit:t.invoicingPaymentSettings[0].isEdit},on:{save:function(e){return t.onSave("org",""+t.invoicingPaymentSettings[0].variable,e)}},model:{value:t.org[""+t.invoicingPaymentSettings[0].variable],callback:function(e){t.$set(t.org,""+t.invoicingPaymentSettings[0].variable,e)},expression:"org[`${invoicingPaymentSettings[0].variable}`]"}}),n("SmartToggleInput",{key:"invoicingPayments_"+(t.counter+1),attrs:{rowId:"invoicingPayments_1",type:t.invoicingPaymentSettings[1].type,label:t.invoicingPaymentSettings[1].label,description:t.invoicingPaymentSettings[1].description,onText:t.invoicingPaymentSettings[1].onText,offText:t.invoicingPaymentSettings[1].offText,onValue:t.invoicingPaymentSettings[1].onValue,offValue:t.invoicingPaymentSettings[1].offValue},on:{save:function(e){return t.onSave("org",""+t.invoicingPaymentSettings[1].variable,e)}},model:{value:t.org[""+t.invoicingPaymentSettings[1].variable],callback:function(e){t.$set(t.org,""+t.invoicingPaymentSettings[1].variable,e)},expression:"org[`${invoicingPaymentSettings[1].variable}`]"}}),t.org.should_apply_trip_cost_if_minimum_distance_not_exceeded?n("SmartAppInput",{key:"invoicingPayments_"+(t.counter+2),attrs:{rowId:"invoicingPayments_2",type:t.invoicingPaymentSettings[2].type,label:t.invoicingPaymentSettings[2].label,options:t.invoicingPaymentSettings[2].options,placeholder:t.invoicingPaymentSettings[2].placeholder,description:t.invoicingPaymentSettings[2].description,isEdit:t.invoicingPaymentSettings[2].isEdit},on:{save:function(e){return t.onSave("org",""+t.invoicingPaymentSettings[2].variable,e)}},model:{value:t.org[""+t.invoicingPaymentSettings[2].variable],callback:function(e){t.$set(t.org,""+t.invoicingPaymentSettings[2].variable,e)},expression:"org[`${invoicingPaymentSettings[2].variable}`]"}}):t._e()],1)]):t._e()])},i=[],o=n("1da1"),s=n("5530"),r=(n("96cf"),n("d81d"),n("ac1f"),n("1276"),n("7db0"),n("b0c0"),n("fb6a"),n("b345")),p=n("cb0d"),c=n("b4694"),l=n("9f07"),m=n.n(l),d=n("4a9d"),g=n("c820"),u={name:"PaymentSettings",components:{SmartAppInput:p["a"],SmartToggleInput:c["a"]},data:function(){return{settings:{},isLoaded:!1,counter:0,currentSettingsGroup:null,paymentGateways:[],supportedPaymentMethodTypes:[{text:"PayPal",value:"PayPal"},{text:"Card",value:"Card"}],payment:{payment_gateway:"STRIPE",client_id:"SECRET_SECRET_ID",secret_key:"SECRET_SECRET_KEY",app_key:"SECRET_SECRET_APP_KEY",extra_key:"SECRET_SECRET_EXTRA_KEY",payone_mid:"PAYONE_MERCHANT_ID",payone_portalid:"PAYONE_PORTAL_ID",payone_aid:"PAYONE_ACCOUNT_ID",payone_key:"PAYONE_KEY"},paymentGateway:{is_on_ride_payment_enabled:null,is_wallet_payment_enabled:null,is_cash_payment_enabled:null},paymentGatewayConfig:{id:"",supported_payment_method_types:["Card"]},card:{card_delete_allowed:!0,max_credit_card_count:null},topup:{user_deposit:0,user_min_balance:0,user_balance_threshold:0,user_init_balance:0,user_topup_min_balance:0,user_topup_max_balance:0},trigger:{trigger_payment_for_negetive_balance:!1,send_mail_on_neg_balance_payment_attempt:!1,negetive_balance_payment_attempt_interval:0,negetive_balance_payment_max_attempts:0,block_rider_after_max_neg_balance_attempt:!1},inPlaceEditingState:{topup_user_deposit:!1,topup_user_min_balance:!1,topup_user_balance_threshold:!1,topup_user_init_balance:!1,topup_user_topup_min_balance:!1,topup_user_topup_max_balance:!1,trigger:!1},org:{should_apply_trip_cost_if_minimum_distance_not_exceeded:!1,minimum_distance_to_apply_trip_cost:0,should_display_ride_pricing_with_tax_included:!1,is_payment_method_tokenization_supported:!1},paymentGatewaySettings:[{type:"toggle",label:this.$t("components.settingsManagement.payment.paymentGateway.enableWalletPaymentMethod.title"),description:this.$t("components.settingsManagement.payment.paymentGateway.enableWalletPaymentMethod.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_wallet_payment_enabled",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.paymentGateway.enableCashPaymentMethod.title"),description:this.$t("components.settingsManagement.payment.paymentGateway.enableCashPaymentMethod.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_cash_payment_enabled",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.paymentGateway.enableDebitCreditCardPaymentForTrip.title"),description:this.$t("components.settingsManagement.payment.paymentGateway.enableDebitCreditCardPaymentForTrip.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_on_ride_payment_enabled",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.paymentGateway.enablePaymentTokenization.title"),description:this.$t("components.settingsManagement.payment.paymentGateway.enablePaymentTokenization.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"is_payment_method_tokenization_supported",isEdit:!1}],cardSettings:[{type:"toggle",label:this.$t("components.settingsManagement.payment.card.allowCardDeletion.title"),description:this.$t("components.settingsManagement.payment.card.allowCardDeletion.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"card_delete_allowed",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.card.maximumCreditCardCount.title"),description:this.$t("components.settingsManagement.payment.card.maximumCreditCardCount.description"),placeholder:"e.g 10",variable:"max_credit_card_count",haveUnitText:!0,unitText:"Card",isEdit:!1}],triggerPaymentSettings:[{type:"toggle",label:this.$t("components.settingsManagement.payment.triggerPayment.triggerNegativeBalance.title"),description:this.$t("components.settingsManagement.payment.triggerPayment.triggerNegativeBalance.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"trigger_payment_for_negetive_balance",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.triggerPayment.sendEmailNotifications.title"),description:this.$t("components.settingsManagement.payment.triggerPayment.sendEmailNotifications.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"send_mail_on_neg_balance_payment_attempt",isEdit:!1},{type:"richselect",label:this.$t("components.settingsManagement.payment.triggerPayment.triggerInterval.title"),description:this.$t("components.settingsManagement.payment.triggerPayment.triggerInterval.description"),options:[{text:"6",value:6},{text:"12",value:12},{text:"24",value:24},{text:"36",value:36},{text:"48",value:48}],variable:"negetive_balance_payment_attempt_interval",haveUnitText:!0,unitText:"Hours",isEdit:!1},{type:"richselect",label:this.$t("components.settingsManagement.payment.triggerPayment.maximumTriggerAttempts.title"),description:this.$t("components.settingsManagement.payment.triggerPayment.maximumTriggerAttempts.description"),options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9}],variable:"negetive_balance_payment_max_attempts",haveUnitText:!0,unitText:"Attempt",unitWidthVariant:"large",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.triggerPayment.blockRiderAfterMaxAttempts.title"),description:this.$t("components.settingsManagement.payment.triggerPayment.blockRiderAfterMaxAttempts.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"block_rider_after_max_neg_balance_attempt",isEdit:!1}],topupPaymentSettings:[{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.depositAmount.title"),description:this.$t("components.settingsManagement.payment.topupPayment.depositAmount.description"),placeholder:"e.g 0",variable:"user_deposit",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.minimumTripAmount.title"),description:this.$t("components.settingsManagement.payment.topupPayment.minimumTripAmount.description"),placeholder:"e.g 10",variable:"user_min_balance",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.minimumTopUpAmount.title"),description:this.$t("components.settingsManagement.payment.topupPayment.minimumTopUpAmount.description"),placeholder:"e.g 10",variable:"user_topup_min_balance",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.maximumTopUpAmount.title"),description:this.$t("components.settingsManagement.payment.topupPayment.maximumTopUpAmount.description"),placeholder:"e.g 1000",variable:"user_topup_max_balance",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.lowBalanceThreshold.title"),description:this.$t("components.settingsManagement.payment.topupPayment.lowBalanceThreshold.description"),placeholder:"e.g 1000",variable:"user_balance_threshold",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.topupPayment.signupBonus.title"),description:this.$t("components.settingsManagement.payment.topupPayment.signupBonus.description"),placeholder:"e.g 10",variable:"user_init_balance",isEdit:!1}],invoicingPaymentSettings:[{type:"richselect",label:this.$t("components.settingsManagement.payment.invoicing.customizeRiderPricingDisplay.title"),description:this.$t("components.settingsManagement.payment.invoicing.customizeRiderPricingDisplay.description"),options:[{text:this.$t("components.settingsManagement.payment.invoicing.customizeRiderPricingDisplay.option.pricingWithTax"),value:!0},{text:this.$t("components.settingsManagement.payment.invoicing.customizeRiderPricingDisplay.option.pricingWithoutTax"),value:!1}],variable:"should_display_ride_pricing_with_tax_included",isEdit:!1},{type:"toggle",label:this.$t("components.settingsManagement.payment.invoicing.enableInvoiceForDistanceCalculation.title"),description:this.$t("components.settingsManagement.payment.invoicing.enableInvoiceForDistanceCalculation.description"),onValue:!0,onText:this.$t("components.settingsManagement.commonAction.yes"),offValue:!1,offText:this.$t("components.settingsManagement.commonAction.no"),variable:"should_apply_trip_cost_if_minimum_distance_not_exceeded",isEdit:!1},{type:"number",label:this.$t("components.settingsManagement.payment.invoicing.specifyingDistanceBetweenPickupAndDropoffLocations.title"),description:this.$t("components.settingsManagement.payment.invoicing.specifyingDistanceBetweenPickupAndDropoffLocations.description"),placeholder:"e.g 0",variable:"minimum_distance_to_apply_trip_cost",isEdit:!1}]}},watch:{currentSettingsGroup:{deep:!0,immediate:!0,handler:function(t){"paymentGateway"===t&&(this.triggerPaymentSettings=this.triggerPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.topupPaymentSettings=this.topupPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.cardSettings=this.cardSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.invoicingPaymentSettings=this.invoicingPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})}))),"triggerPayment"===t&&(this.paymentGatewaySettings=this.paymentGatewaySettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.topupPaymentSettings=this.topupPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.cardSettings=this.cardSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.invoicingPaymentSettings=this.invoicingPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})}))),"topupPayment"===t&&(this.paymentGatewaySettings=this.paymentGatewaySettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.triggerPaymentSettings=this.triggerPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.cardSettings=this.cardSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.invoicingPaymentSettings=this.invoicingPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})}))),"card"===t&&(this.paymentGatewaySettings=this.paymentGatewaySettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.topupPaymentSettings=this.topupPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.triggerPaymentSettings=this.triggerPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.invoicingPaymentSettings=this.invoicingPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})}))),"invoicingPayments"===t&&(this.paymentGatewaySettings=this.paymentGatewaySettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.topupPaymentSettings=this.topupPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.triggerPaymentSettings=this.triggerPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),this.cardSettings=this.cardSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})))}}},mounted:function(){var t=this;d["a"].$on("open-edit",(function(e){var n=e.split("_")[0];"paymentGateway"===n&&(t.paymentGatewaySettings=t.paymentGatewaySettings.map((function(t,n){return e==="paymentGateway_".concat(n)?Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="paymentGateway"),"card"===n&&(t.cardSettings=t.cardSettings.map((function(t,n){return e==="card_".concat(n)?Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="card"),"triggerPayment"===n&&(t.triggerPaymentSettings=t.triggerPaymentSettings.map((function(t,n){return e==="triggerPayment_".concat(n)?Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="triggerPayment"),"topupPayment"===n&&(t.topupPaymentSettings=t.topupPaymentSettings.map((function(t,n){return e==="topupPayment_".concat(n)?Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="topupPayment"),"invoicingPayments"===n&&(t.invoicingPaymentSettings=t.invoicingPaymentSettings.map((function(t,n){return e==="invoicingPayments_".concat(n)?Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!0}):Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),t.currentSettingsGroup="invoicingPayments")}))},computed:{orgId:function(){return this.$store.getters["auth/organizationInfo"].id||null},paymentGatewayConfigId:function(){return this.paymentGatewayConfig.id},gatewayInfo:function(){return this.$store.getters["auth/organizationInfo"].default_payment_gateway_config||null},gatewayName:function(){var t=this,e=this.paymentGateways.find((function(e){return e.id===t.gatewayInfo.payment_gateway}));return console.log("selectedPaymentGateway",e),e.name},isPaymentMethodPayone:function(){return"Payone"===this.gatewayName},isPaymentMethodKKiaPay:function(){return"KKiaPay"===this.gatewayName},isItStripeMethod:function(){return"Stripe"===this.gatewayName},isItSTSPayoneMethod:function(){return"STS PayOne"===this.gatewayName},isItMyFatoorahMethod:function(){return"MyFatoorah"===this.gatewayName},getClientIdLabel:function(){return this.isItStripeMethod?this.$t("components.settingsManagement.payment.paymentGateway.privateKey.title"):this.isItSTSPayoneMethod?this.$t("components.settingsManagement.payment.paymentGateway.merchantId.title"):this.$t("components.settingsManagement.payment.paymentGateway.clientId.title")},getSecretKeyLabel:function(){return this.isItSTSPayoneMethod?this.$t("components.settingsManagement.payment.paymentGateway.authToken.title"):this.$t("components.settingsManagement.payment.paymentGateway.secretKey.title")},getSecretClientId:function(){return new m.a(this.gatewayInfo.client_id).asteriskify()},getSecretSecretKey:function(){console.log(this.gatewayInfo.secret_key);var t=this.gatewayInfo.secret_key.slice(this.gatewayInfo.secret_key.length-30),e=new m.a(t).asteriskify();return e},getSecretAppKey:function(){return new m.a(this.gatewayInfo.app_key).asteriskify()},getSecretExtraKey:function(){return new m.a(this.gatewayInfo.extra_key).asteriskify()},getMerchantId:function(){return new m.a(this.gatewayInfo.payone_mid).asteriskify()},getPortalId:function(){return new m.a(this.gatewayInfo.payone_portalid).asteriskify()},getAccountId:function(){return new m.a(this.gatewayInfo.payone_aid).asteriskify()},getPayoneKey:function(){return new m.a(this.gatewayInfo.payone_key).asteriskify()}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$http.get(g["c"].organization.details(t.orgId)),a=t.$http.get(r["f"].api.topup.index(t.orgId)),i=t.$http.get(g["c"].dropdown.paymentGateways()),o=[n,a,i],e.next=6,t.$http.all(o).then(t.$http.spread((function(){var e,n,a,i;t.isLoaded=!0;for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var p=s[0],c=s[1],l=s[2];t.paymentGateway.is_on_ride_payment_enabled=p.data.is_on_ride_payment_enabled,t.paymentGateway.is_wallet_payment_enabled=p.data.is_wallet_payment_enabled,t.paymentGateway.is_cash_payment_enabled=p.data.is_cash_payment_enabled,t.card.card_delete_allowed=p.data.card_delete_allowed,t.card.max_credit_card_count=p.data.max_credit_card_count,t.org.should_apply_trip_cost_if_minimum_distance_not_exceeded=p.data.should_apply_trip_cost_if_minimum_distance_not_exceeded,t.org.minimum_distance_to_apply_trip_cost=p.data.minimum_distance_to_apply_trip_cost,t.org.should_display_ride_pricing_with_tax_included=p.data.should_display_ride_pricing_with_tax_included,t.org.is_payment_method_tokenization_supported=p.data.is_payment_method_tokenization_supported,t.topup=c.data,t.paymentGatewayConfig.id=(null===(e=p.data)||void 0===e||null===(n=e.default_payment_gateway_config)||void 0===n?void 0:n.id)||null;var m=(null===(a=p.data)||void 0===a||null===(i=a.default_payment_gateway_config)||void 0===i?void 0:i.supported_payment_method_types)||null;t.paymentGatewayConfig.supported_payment_method_types=null!==m&0==m.length?["Card"]:m,t.paymentGateways=l.data.data;var d=c.data,g=d.trigger_payment_for_negetive_balance,u=d.send_mail_on_neg_balance_payment_attempt,y=d.negetive_balance_payment_attempt_interval,_=d.negetive_balance_payment_max_attempts,h=d.block_rider_after_max_neg_balance_attempt;t.trigger={trigger_payment_for_negetive_balance:g,send_mail_on_neg_balance_payment_attempt:u,negetive_balance_payment_attempt_interval:y,negetive_balance_payment_max_attempts:_,block_rider_after_max_neg_balance_attempt:h},t.isLoaded=!0}))).catch((function(t){console.log("paymentsettignsErr",t)}));case 6:case"end":return e.stop()}}),e)})))()},methods:{getHiddenKey:function(t){return new m.a(t).asteriskify()},onSave:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var o,p,c,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.counter++,o="","card"!==t&&"paymentGateway"!==t||(o=g["c"].organization.update(a.orgId)),"payment"===t&&(o=r["f"].api.topup.update(a.orgId)),"org"===t&&(o=g["c"].organization.details(a.orgId)),"paymentGatewayConfig"===t&&(o=g["c"].paymentGateway.update(a.paymentGatewayConfigId)),"is_on_ride_payment_enabled"===e&&(p="Success",c="Ride Payment status is updated"),"is_wallet_payment_enabled"===e&&(p="Success",c="Wallet Payment status is updated"),"is_cash_payment_enabled"===e&&(p="Success",c="Cash Payment status is updated"),"max_credit_card_count"===e&&(p="Max Credit Card Count",c="Max Credit Card Count is updated"),"card_delete_allowed"===e&&(p="Card delete allowed ",c="Card delete allowed is updated"),"trigger_payment_for_negetive_balance"===e&&(p="Trigger Negative Balance",c="Trigger Negative Balance settings is updated"),"send_mail_on_neg_balance_payment_attempt"===e&&(p="Send Email Notification",c="Send Email Notification settings is updated"),"negetive_balance_payment_attempt_interval"===e&&(p="Trigger Interval",c="Trigger Interval time settings is updated"),"negetive_balance_payment_max_attempts"===e&&(p="Max Trigger Attempts",c="Max Trigger Attempts count is updated"),"block_rider_after_max_neg_balance_attempt"===e&&(p="Block Rider After Max Attempts",c="Block Rider After Max Attempts settings is updated"),"user_deposit"===e&&(p="Deposit",c="Deposit amount is updated"),"user_min_balance"===e&&(p="Minimum Trip Amount",c="Minimum Trip Amount is updated"),"user_topup_min_balance"===e&&(p="Minimum Topup Amount",c="Minimum Topup Amount is updated"),"user_topup_max_balance"===e&&(p="Maximum Topup Amount",c="Maximum Topup Amount is updated"),"user_balance_threshold"===e&&(p="Low Balance Threshold",c="Low Balance Threshold is updated"),"user_init_balance"===e&&(p="Signup Bonus",c="Signup Bonus is updated"),"should_apply_trip_cost_if_minimum_distance_not_exceeded"===e&&(p="Success",c="Successfully changed"),"minimum_distance_to_apply_trip_cost"===e&&(p="Success",c="Successfully changed"),"should_display_ride_pricing_with_tax_included"===e&&(p="Success",c="Successfully changed"),"supported_payment_method_types"===e&&(p="Success",c="Successfully changed"),"is_payment_method_tokenization_supported"===e&&(p="Success",c="Successfully changed"),l=new FormData,l.append(e,n),i.next=31,a.$http.patch(o,l).then((function(t){return console.log(t),a.paymentGatewaySettings=a.paymentGatewaySettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),a.cardSettings=a.cardSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),a.topupPaymentSettings=a.topupPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),a.triggerPaymentSettings=a.triggerPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),a.invoicingPaymentSettings=a.invoicingPaymentSettings.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{isEdit:!1})})),a.$notify({group:"generic",type:"success",title:p,text:c},3e3),!0})).catch((function(t){console.log(t),a.$notify({group:"generic",type:"error",title:p,text:"Failed to update settings"},3e3)}));case 31:case"end":return i.stop()}}),i)})))()}}},y=u,_=(n("c0bc"),n("2877")),h=Object(_["a"])(y,a,i,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=settings-PaymentSettings.462da3ef.js.map